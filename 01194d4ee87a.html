<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/logo.svg"><meta name="viewport" content="width=device-width,initial-scale=1"><title>DOM Event Architectureï¼ˆDOM-Level-3ï¼‰è¯‘æ–‡</title><script type="importmap">{"imports":{"vue":"https://esm.sh/vue","vue-router":"https://esm.sh/vue-router","pinia":"https://esm.sh/pinia","@vueuse/core":"https://esm.sh/@vueuse/core","@vueuse/components":"https://esm.sh/@vueuse/components","@vueuse/router":"https://esm.sh/@vueuse/router","date-fns":"https://esm.sh/date-fns","nprogress":"https://esm.sh/nprogress","octokit":"https://esm.sh/octokit","pinia-plugin-persistedstate":"https://esm.sh/pinia-plugin-persistedstate","vue-router-better-scroller":"https://esm.sh/vue-router-better-scroller"}}</script><script type="module" async="" crossorigin="" src="/assets/app-C4XuqRXg.js"></script><link rel="stylesheet" crossorigin="" href="/assets/app-DgCMeXmb.css"><link rel="modulepreload" crossorigin="" href="/assets/DOM-Event-Architectureï¼ˆDOM-Level-3ï¼‰è¯‘æ–‡-BNLfIwIv.js"><meta property="og:title" content="DOM Event Architectureï¼ˆDOM-Level-3ï¼‰è¯‘æ–‡"><meta name="twitter:title" content="DOM Event Architectureï¼ˆDOM-Level-3ï¼‰è¯‘æ–‡"></head><body><div id="app" data-server-rendered="true"><div class="mujika" min-h="100vh" flex="~ col" bg="[--mygo-c-bg-alt]"><header class="mujika-header" flex="~ shrink-0" px-4="" h="70px" bg="[var(--mygo-c-bg)]" items-center="" justify-between="" data-v-c1947e25=""><a href="/" class="" flex="" gap-4="" items-center="" data-v-c1947e25=""><img w="40px" aspect-ratio-square="" src="/logo.svg" alt="æ‹ã®æ­Œçš„logo" data-v-c1947e25=""></a><div data-v-c1947e25=""><div p-1="" flex="" gap-1="" rounded="6px" bg="[var(--mygo-c-bg-alt)]" data-v-c1947e25=""><!--[--><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="bg-[var(--mygo-c-bg)]" title="è‡ªåŠ¨" data-v-c1947e25=""><!--[-->Auto<!--]--></div><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="" title="æ—¥é—´" data-v-c1947e25=""><!--[--><i class="i-ri:sun-line" data-v-c1947e25=""></i><!--]--></div><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="" title="å¤œé—´" data-v-c1947e25=""><!--[--><i class="i-ri:moon-line" data-v-c1947e25=""></i><!--]--></div><!--]--></div></div></header><main class="mujika-home" flex="grow" mx="auto" min-h="0" p-2="" w-full="" un-2xl:w="[calc(96rem-var(--spacing)*2)]"><div flex="" gap-2="" items-start=""><div flex="~ col grow" gap-2="" min-w-0=""><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="~ col" mb-4="" gap-4=""><h1 break-all="" text="34px center">DOM Event Architectureï¼ˆDOM-Level-3ï¼‰è¯‘æ–‡</h1></div><div flex="~ col" gap-3="" text="[var(--mygo-c-text-2)]"><div flex="~ wrap" gap-3="" justify-center=""><!----><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:calendar"></i><span un-hidden="" lg:inline="">å‘è¡¨äº</span><span pl-1="">2020-12-03 10:50</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:calendar-check"></i><span un-hidden="" lg:inline="">æ›´æ–°äº</span><span pl-1="">2023-02-13 18:28</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:folder"></i><span un-hidden="" lg:inline="">åˆ†ç±»äº</span><!--[--><a pl-1="" href="/category/ç¬”è®°">ç¬”è®°</a><!--]--></div></div><div flex="~ wrap" gap-3="" justify-center=""><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:file-word"></i><span un-hidden="" lg:inline="">æ€»å­—æ•°</span><span pl-1="">6.1K</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:clock"></i><span un-hidden="" lg:inline="">é˜…è¯»æ—¶é•¿ â‰ˆ</span><span pl-1="">22 åˆ†é’Ÿ</span></div></div></div><div class="mujika-doc-content"><!--[--><div class="kan-doc"><h1 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€">ğŸ”—</a></h1><p>ğŸ‘´å›æ¥äº†ï¼Œè¿™ç¯‡ä¸»è¦ç¿»è¯‘ä¸‹w3è‰æ¡ˆ<code>UI Event</code>ä¸­çš„ç¬¬3å°èŠ‚ - DOMäº‹ä»¶ä½“ç³»ï¼ˆDOM Event Architectureï¼‰</p><p>è¿™ä¸€ä¸ªå°èŠ‚ä¸»è¦è®²äº†äº‹ä»¶æ•è·å’Œå†’æ³¡çš„ä¸œè¥¿å§ï¼Œå½“ä½œä¸€ä¸ªç¬”è®°</p><p>åŸæ–‡ï¼š<a href="https://www.w3.org/TR/2019/WD-uievents-20190530" target="_blank" rel="noopener">UI Events</a></p><h1 id="dom-event-architecture-ï¼ˆdomäº‹ä»¶ä½“ç³»ï¼‰" tabindex="-1">DOM Event Architecture ï¼ˆDOMäº‹ä»¶ä½“ç³»ï¼‰ <a class="header-anchor" href="#dom-event-architecture-ï¼ˆdomäº‹ä»¶ä½“ç³»ï¼‰">ğŸ”—</a></h1><blockquote><p>This section is non-normative. Refer to <a href="https://dom.spec.whatwg.org" target="_blank" rel="noopener">DOM</a> for a normative description of the DOM event architecture</p></blockquote><p>æœ¬èŠ‚æ˜¯éè§„èŒƒåŒ–çš„ã€‚è½¬åˆ°DOMæ ‡å‡†æ¥è·å¾—ä¸€ä¸ªå¯¹DOMäº‹ä»¶ä½“ç³»çš„ä¸€ä¸ªè§„èŒƒåŒ–çš„æè¿°ã€‚</p><p>ä¸ªäººæ„Ÿè§‰è¿™ä¸ªè‰æ¡ˆè®²çš„æ¯”è¾ƒå®è§‚ï¼Œè€Œè§„èŒƒé‚£è¾¹è®²çš„å¾ˆç»†è‡´ï¼Œå°±ä¼šè®²å¯¹è±¡çš„ç»“æ„å’Œä¼ªä»£ç ç­‰</p><p>å¯¹äºæˆ‘è¿™ç§åˆšåˆšæ¥è§¦è§„èŒƒï¼Œæ„Ÿè§‰ä»è‰æ¡ˆä¸Šçœ‹ä¼šæ›´å¥½~ï¼Œå…ˆå¯¹å¤§ä½“æœ‰ä¸€ä¸ªè®¤è¯†</p><h2 id="event-dispatch-and-dom-event-flowï¼ˆäº‹ä»¶åˆ†å‘å’Œdomäº‹ä»¶æµï¼‰" tabindex="-1">Event dispatch and DOM event flowï¼ˆäº‹ä»¶åˆ†å‘å’ŒDOMäº‹ä»¶æµï¼‰ <a class="header-anchor" href="#event-dispatch-and-dom-event-flowï¼ˆäº‹ä»¶åˆ†å‘å’Œdomäº‹ä»¶æµï¼‰">ğŸ”—</a></h2><blockquote><p>This section gives a brief overview of the event <strong>dispatch</strong> mechanism and describes how events propagate through the DOM tree. Applications can dispatch event objects using the <code>dispatchEvent()</code> method, and the event object will propagate through the DOM tree as determined by the DOM event flow.</p></blockquote><p>æœ¬èŠ‚ç®€çŸ­çš„æ¦‚è¿°äº†äº‹ä»¶åˆ†å‘çš„æœºåˆ¶ä»¥åŠäº‹ä»¶å¦‚ä½•é€šè¿‡DOMæ ‘è¿›è¡Œä¼ æ’­ã€‚åº”ç”¨å¯ä»¥é€šè¿‡ä½¿ç”¨<code>dispatchEvent()</code>æ–¹æ³•æ¥åˆ†å‘äº‹ä»¶å¯¹è±¡ï¼Œäº‹ä»¶å¯¹è±¡é€šè¿‡DOMäº‹ä»¶æµæ¥ç¡®å®šåœ¨DOMæ ‘ä¸­çš„ä¼ é€’ã€‚</p><p>è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªæœ¯è¯­ï¼š<strong>dispatch</strong></p><hr><p><strong>dispatch</strong></p><blockquote><p>To create an event with attributes and methods appropriate to its type and context, and propagate it through the DOM tree in the specified manner. Interchangeable with the term <code>fire</code>, e.g., <code>fire</code> a <code>click</code> event or <code>dispatch</code> a <code>load</code> event.</p></blockquote><p>åˆ›å»ºä¸€ä¸ªå¸¦æœ‰é€‚åˆå¯¹åº”ç±»å‹å’Œä¸Šä¸‹æ–‡çš„å±æ€§å’Œæ–¹æ³•çš„äº‹ä»¶ï¼Œç„¶ååœ¨DOMæ ‘ä¸­é€šè¿‡ç‰¹å®šçš„æ–¹å¼ä¼ é€’è¿™ä¸ªäº‹ä»¶ã€‚å¯ä¸æœ¯è¯­<code>fire</code>äº’æ¢ï¼Œæ¯”å¦‚ï¼Œæ¯”å¦‚å¯ä»¥è¯´<code>fire</code>ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼Œä¹Ÿå¯ä»¥è¯´<code>dispatch</code>ä¸€ä¸ªåŠ è½½çš„äº‹ä»¶</p><hr><blockquote><p>Event objects are dispatched to an <strong>event target</strong>. But before dispatch can begin, the event objectâ€™s <strong>propagation path</strong> must first be determined.</p></blockquote><p>äº‹ä»¶å¯¹è±¡è¢«åˆ†å‘åˆ°ä¸€ä¸ªäº‹ä»¶ç›®æ ‡å¯¹è±¡ä¸Šã€‚ä½†åœ¨åˆ†å‘è¿‡ç¨‹å¼€å§‹ä¹‹å‰ï¼Œäº‹ä»¶å¯¹è±¡çš„ä¼ é€’è·¯å¾„å¿…é¡»å…ˆç¡®å®šä¸‹æ¥</p><p>è¿™é‡Œæ¶‰åŠåˆ°ä¸¤ä¸ªæœ¯è¯­ <strong>event target</strong> å’Œ <strong>propagation path</strong></p><hr><p><strong>event target</strong></p><blockquote><p>The object to which an event is targeted using the Â§3.1 Event dispatch and DOM event flow. The event target is the value of the target attribute.</p></blockquote><p>äº‹ä»¶é’ˆå¯¹çš„å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯äº‹ä»¶çš„ç›®æ ‡å¯¹è±¡ï¼‰ã€‚äº‹ä»¶ç›®æ ‡å¯¹è±¡å°±æ˜¯<code>target</code>å±æ€§çš„å€¼ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨å‡½æ•°ä¸­ä½¿ç”¨å‚æ•°<code>e</code>çš„<code>e.target</code>å€¼ï¼‰</p><p><strong>propagation path</strong></p><blockquote><p>The ordered set of current event targets though which an event object will pass sequentially on the way to and back from the event target. As the event propagates, each current event target in the propagation path is in turn set as the currentTarget. The propagation path is initially composed of one or more event phases as defined by the event type, but MAY be interrupted. Also known as an event target chain.</p></blockquote><p>ä¸€ä¸ªäº‹ä»¶å¯¹è±¡æŒ‰åºçš„åˆ°è¾¾äº‹ä»¶ç›®æ ‡å¯¹è±¡ä»¥åŠä»äº‹ä»¶ç›®æ ‡å¯¹è±¡ç¦»å¼€çš„è¿‡ç¨‹ä¸­å½“å‰çš„äº‹ä»¶å¯¹è±¡ç»„æˆçš„ä¸€ä¸ªæœ‰åºçš„é›†åˆã€‚å½“äº‹ä»¶ä¼ é€’çš„æ—¶å€™ï¼Œæ¯ä¸ªåœ¨ä¼ æ’­è·¯å¾„ä¸­çš„å½“å‰äº‹ä»¶ç›®æ ‡å¯¹è±¡ä»¥åŠè¢«è®¾ç½®ä¸º<code>currentTarget</code>ï¼ˆä¹Ÿå°±æ˜¯èµ‹å€¼çš„ä¸€ä¸ªè¿‡ç¨‹ï¼‰ ä¼ æ’­è·¯å¾„æœ€åˆç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªç”±äº‹ä»¶ç±»å‹å®šä¹‰çš„äº‹ä»¶é˜¶æ®µç»„æˆï¼Œä½†å¯èƒ½ä¼šè¢«æ‰“æ–­ã€‚ä¹Ÿå¯ä»¥ç†è§£ä¸ºä¸€æ¡äº‹ä»¶ç›®æ ‡å¯¹è±¡é“¾ã€‚</p><hr><blockquote><p>The <strong>propagation path</strong> is an ordered list of <strong>current event targets</strong> through which the event passes. This <strong>propagation path</strong> reflects the hierarchical tree structure of the document. The last item in the list is the <strong>event target</strong>, and the preceding items in the list are referred to as the targetâ€™s ancestors, with the immediately preceding item as the targetâ€™s parent.</p></blockquote><p>ä¼ é€’è·¯å¾„æ˜¯ä¸€ä¸ªäº‹ä»¶å¯¹è±¡é€šè¿‡çš„å½“å‰äº‹ä»¶ç›®æ ‡å¯¹è±¡çš„ä¸€ä¸ªæœ‰åºçš„é›†åˆã€‚è¿™ä¸ªä¼ é€’è·¯å¾„åæ˜ äº†æ–‡æ¡£çš„åˆ†å±‚æ ‘çš„ç»“æ„ã€‚åˆ—è¡¨ä¸­çš„æœ€åä¸€é¡¹ä¸ºäº‹ä»¶ç›®æ ‡å¯¹è±¡ï¼Œä¹‹å‰çš„é¡¹ç§°ä¸ºç›®æ ‡å¯¹è±¡çš„ç¥–å…ˆï¼Œè€Œç›´æ¥ç¥–å…ˆæˆä¸ºç›®æ ‡å¯¹è±¡çš„çˆ¶èŠ‚ç‚¹ã€‚</p><p>è¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªæœ¯è¯­ï¼š<strong>current event targets</strong></p><hr><p><strong>current event targets</strong></p><blockquote><p>In an event flow, the current event target is the object associated with the event handler that is currently being dispatched.<br>This object MAY be the event target itself or one of its ancestors.<br>The current event target changes as the event propagates from object to object through the various phases of the event flow.<br>The current event target is the value of the <code>currentTarget</code> attribute.</p></blockquote><p>åœ¨ä¸€ä¸ªäº‹ä»¶æµä¸­ï¼Œå½“å‰äº‹ä»¶ç›®æ ‡å¯¹è±¡ä¸ºå½“å‰æ­£åœ¨åˆ†å‘çš„äº‹ä»¶å¤„ç†å™¨å…³è”çš„å¯¹è±¡ è¿™ä¸ªå¯¹è±¡å¯èƒ½å¯èƒ½ä¸ºäº‹ä»¶ç›®æ ‡å¯¹è±¡æœ¬èº«æˆ–è€…æ˜¯å®ƒçš„ä¸€ä¸ªç¥–å…ˆã€‚ å½“å‰äº‹ä»¶ç›®æ ‡å¯¹è±¡åœ¨äº‹ä»¶é€šè¿‡äº‹ä»¶æµçš„å‡ ä¸ªé˜¶æ®µä»å¯¹è±¡é—´ä¼ é€’çš„è¿‡ç¨‹ä¸­æ”¹å˜ å½“å‰äº‹ä»¶ç›®æ ‡å¯¹è±¡ä¸º<code>currentTarget</code>å±æ€§çš„å€¼</p><p>PSï¼šè¿™é‡Œæåˆ°çš„<code>current target event</code>å’Œå…ˆå‰çš„<code>target event</code>å¯¹åº”äº†æ¯æ¬¡æˆ‘ä»¬åœ¨æ³¨å†Œå›è°ƒå‡½æ•°é‡Œé¢ä½¿ç”¨çš„å‚æ•°<code>e</code>çš„å±æ€§<code>currentTarget</code>å’Œ<code>target</code><code>target</code>ä¸ºè§¦å‘äº†äº‹ä»¶çš„domèŠ‚ç‚¹ï¼Œè€Œ<code>currentTarget</code>å¯ä»¥ç†è§£ä¸ºæŒ‡å‘äº†ä½ æ³¨å†Œå›è°ƒæ—¶çš„é‚£ä¸ªdomèŠ‚ç‚¹</p><hr><blockquote><p>Once the <strong>propagation path</strong> has been determined, the event object passes through one or more <strong>event phases</strong>.<br>There are three event phases: <strong>capture phase</strong>, <strong>target phase</strong> and <strong>bubble phase</strong>.<br>Event objects complete these phases as described below.<br>A phase will be skipped if it is not supported, or if the event objectâ€™s propagation has been stopped.<br>For example, if the <code>bubbles</code> attribute is set to false, the bubble phase will be skipped, and if <code>stopPropagation()</code> has been called prior to the dispatch, all phases will be skipped.</p></blockquote><p>ä¸€æ—¦ä¼ é€’è·¯å¾„è¢«ç¡®å®šä¸‹æ¥ï¼Œäº‹ä»¶å¯¹è±¡ä¼ é€’ç»™ä¸€ä¸ªæˆ–å¤šä¸ªäº‹ä»¶é˜¶æ®µã€‚ è¿™é‡Œå­˜åœ¨ä¸‰ä¸ªæ—¶é—´é˜¶æ®µï¼šæ•è·é˜¶æ®µï¼Œç›®æ ‡é˜¶æ®µå’Œå†’æ³¡é˜¶æ®µï¼ˆè¿™é‡Œå¯ä»¥å¯¹åº”ä¸‹é¢è¿™å¼ å›¾ï¼‰ äº‹ä»¶å¯¹è±¡æŒ‰ç…§ä¸‹é¢çš„æè¿°æ¥å®Œæˆè¿™äº›é˜¶æ®µã€‚ å¦‚æœæŸä¸ªé˜¶æ®µä¸è¢«æ”¯æŒï¼Œæˆ–è€…äº‹ä»¶å¯¹è±¡çš„ä¼ æ’­è¢«ä¸­æ­¢ï¼Œé‚£ä¹ˆè¿™ä¸ªé˜¶æ®µä¼šè¢«è·³è¿‡ã€‚ æ¯”å¦‚ï¼Œå¦‚æœå†’æ³¡å±æ€§è¢«è®¾ç½®ä¸º<code>false</code>ï¼Œé‚£ä¹ˆå†’æ³¡é˜¶æ®µä¼šè¢«è·³è¿‡ï¼Œå¦‚æœé¢„å…ˆåœ¨åˆ†å‘å‰è°ƒç”¨äº†<code>stopPropagation()</code>ï¼Œæ‰€æœ‰çš„é˜¶æ®µä¼šè¢«è·³è¿‡ã€‚</p><p>è¿™é‡Œæœ‰å‡ ä¸ªæœ¯è¯­ï¼š<code>event phasesï¼ˆäº‹ä»¶é˜¶æ®µï¼‰</code>ï¼Œ<code>capture phaseï¼ˆæ•è·é˜¶æ®µï¼‰</code>,<code>target phaseï¼ˆç›®æ ‡é˜¶æ®µï¼‰</code>,<code>bubble phaseï¼ˆå†’æ³¡é˜¶æ®µï¼‰</code>ï¼Œè¿™å‡ ä¸ªæœ¯è¯­åœ¨è¿™é‡Œæ¯”è¾ƒå¥½ç†è§£ï¼Œå¹¶ä¸”ä¸‹é¢çš„å›¾é¢ä¹Ÿå¯ä»¥å¾ˆå¥½çš„å±•ç¤ºè¿™ä¸‰ä¸ªè¿‡ç¨‹ã€‚</p><blockquote><ul><li>The capture phase: The event object propagates through the targetâ€™s ancestors from the <code>Window</code> to the targetâ€™s parent. This phase is also known as the capturing phase.</li><li>The target phase: The event object arrives at the event objectâ€™s <strong>event target</strong>. This phase is also known as the at-target phase. If the <strong>event type</strong> indicates that the event doesnâ€™t bubble, then the event object will halt after completion of this phase.</li><li>The bubble phase: The event object propagates through the targetâ€™s ancestors in reverse order, starting with the targetâ€™s parent and ending with the <code>Window</code>. This phase is also known as the bubbling phase.</li></ul></blockquote><ul><li>æ•è·é˜¶æ®µï¼šäº‹ä»¶å¯¹è±¡ä»ç›®æ ‡å¯¹è±¡çš„ç»„ä»¶ï¼ˆWindowå¯¹è±¡å¼€å§‹ï¼‰åˆ°ç›®æ ‡å¯¹è±¡çš„çˆ¶å¯¹è±¡ä¼ é€’ã€‚</li><li>ç›®æ ‡é˜¶æ®µï¼šäº‹ä»¶å¯¹è±¡åˆ°è¾¾å®ƒçš„äº‹ä»¶ç›®æ ‡å¯¹è±¡ã€‚å¦‚æœäº‹ä»¶ç±»å‹è¡¨æ˜äº‹ä»¶ä¸å†’æ³¡çš„è¯ï¼Œé‚£ä¹ˆäº‹ä»¶å¯¹è±¡ä¼šåœ¨è¿™ä¸ªé˜¶æ®µå®Œæˆä¹‹ååœæ­¢ã€‚</li><li>å†’æ³¡é˜¶æ®µï¼šäº‹ä»¶å¯¹è±¡ä»¥æ•è·é˜¶æ®µç›¸åçš„é¡ºåºè¿›è¡Œä¼ é€’ï¼Œä»äº‹ä»¶ç›®æ ‡å¯¹è±¡çš„çˆ¶èŠ‚ç‚¹å¼€å§‹ï¼Œç„¶åç»“æŸäºWindowå¯¹è±¡ã€‚</li></ul><p><a data-fancybox="doc-gallery" href="https://i.loli.net/2020/12/03/iyUC1nhHEOspBGx.png" target="_blank" rel="noopener noreferrer"><img src="https://i.loli.net/2020/12/03/iyUC1nhHEOspBGx.png" alt=""></a></p><h2 id="default-actions-and-cancelable-eventsï¼ˆé»˜è®¤åŠ¨ä½œå’Œå¯å–æ¶ˆçš„äº‹ä»¶ï¼‰" tabindex="-1">Default actions and cancelable eventsï¼ˆé»˜è®¤åŠ¨ä½œå’Œå¯å–æ¶ˆçš„äº‹ä»¶ï¼‰ <a class="header-anchor" href="#default-actions-and-cancelable-eventsï¼ˆé»˜è®¤åŠ¨ä½œå’Œå¯å–æ¶ˆçš„äº‹ä»¶ï¼‰">ğŸ”—</a></h2><blockquote><p>Events are typically dispatched by the implementation as a result of a user action, in response to the completion of a task, or to signal progress during asynchronous activity (such as a network request).<br>Some events can be used to control the behavior that the implementation may take next (or undo an action that the implementation already took).<br>Events in this category are said to be cancelable and the behavior they cancel is called their <strong>default action</strong>.<br>Cancelable event objects can be associated with one or more 'default actions'. To cancel an event, call the <code>preventDefault()</code> method.</p></blockquote><p>äº‹ä»¶é€šå¸¸ç”±ä¸€ä¸ªå®ç°äº†ç”¨æˆ·è¡Œä¸ºçš„æ“ä½œåˆ†å‘ï¼Œå“åº”ä»»åŠ¡çš„å®Œæˆï¼Œæˆ–è€…åœ¨å¼‚æ­¥æ´»åŠ¨é—´ä½œä¸ºä¿¡å·è¿›ç¨‹ï¼ˆæ¯”å¦‚ä¸€ä¸ªç½‘ç»œè¯·æ±‚ï¼‰ ä¸€äº›äº‹ä»¶å¸¸ç”¨äºæ§åˆ¶ä¸‹ä¸€æ­¥å®ç°å¯èƒ½å‡ºç°çš„è¡Œä¸ºï¼ˆæˆ–è€…å›é€€ä¸€ä¸ªæ—©å·²å®ç°çš„åŠ¨ä½œï¼‰ åœ¨è¿™ä¸ªç±»åˆ«çš„äº‹ä»¶è¢«ç§°ä¸ºå¯å–æ¶ˆçš„ï¼Œå–æ¶ˆçš„è¡Œä¸ºè¢«ç§°ä¸ºå®ƒä»¬çš„é»˜è®¤åŠ¨ä½œ å¯å–æ¶ˆçš„äº‹ä»¶å¯¹è±¡å¯ä»¥è¢«ä¸€ä¸ªæˆ–å¤šä¸ªâ€˜é»˜è®¤åŠ¨ä½œâ€™å…³è”ã€‚ä¸ºäº†å–æ¶ˆä¸€ä¸ªäº‹ä»¶ï¼Œè°ƒç”¨<code>preventDefault()</code>æ–¹æ³•ã€‚</p><p>è¿™é‡Œæœ‰ä¸ªæœ¯è¯­ï¼š<strong>default action</strong></p><hr><p><strong>default action</strong></p><blockquote><p>A default action is an OPTIONAL supplementary behavior that an implementation MUST perform in combination with the dispatch of the event object.<br>Each event type definition, and each specification, defines the default action for that event type, if it has one.<br>An instance of an event MAY have more than one default action under some circumstances, such as when associated with an activation trigger.<br>A default action MAY be cancelled through the invocation of the <code>preventDefault()</code> method.<br>For more details, see Â§3.2 Default actions and cancelable events.</p></blockquote><p>é»˜è®¤åŠ¨ä½œæ˜¯å¯é€‰çš„è¡¥å……è¡Œä¸ºï¼Œå®ç°å¿…é¡»å’Œäº‹ä»¶åˆ†å‘ç»“åˆæ‰§è¡Œã€‚ æ¯ä¸ªäº‹ä»¶ç±»å‹å®šä¹‰ï¼Œæ¯ä¸ªè§„èŒƒï¼Œéƒ½å®šä¹‰äº†å¯¹åº”äº‹ä»¶ç±»å‹çš„é»˜è®¤åŠ¨ä½œï¼ˆå¦‚æœå®ƒæ‹¥æœ‰çš„è¯ï¼‰ã€‚ æ¯ä¸ªäº‹ä»¶çš„å®ä¾‹å¯èƒ½åœ¨æŸäº›æƒ…å†µä¸‹å­˜åœ¨è¶…è¿‡ä¸€ä¸ªçš„é»˜è®¤åŠ¨ä½œï¼Œæ¯”å¦‚å½“å’Œæ¿€æ´»è§¦å‘å™¨å…³è”æ—¶ã€‚ ä¸€ä¸ªé»˜è®¤åŠ¨ä½œå¯èƒ½ä¼šè¢«é€šè¿‡æ‰§è¡Œ<code>preventDefault()</code>æ–¹æ³•è€Œå–æ¶ˆã€‚ æ›´å¤šçš„ç»†èŠ‚ï¼Œå¯ä»¥æŸ¥çœ‹Â§3.2èŠ‚ï¼ˆä¹Ÿå°±æ˜¯å½“å‰è¿™ä¸€èŠ‚ï¼‰ã€‚</p><hr><blockquote><p>EXAMPLE 1 A mousedown event is dispatched immediately after the user presses down a button on a pointing device (typically a mouse).<br>One possible <strong>default action</strong> taken by the implementation is to set up a state machine that allows the user to drag images or select text.<br>The <strong>default action</strong> depends on what happens next â€” for example, if the userâ€™s pointing device is over text, a text selection might begin.<br>If the userâ€™s pointing device is over an image, then an image-drag action could begin.<br>Preventing the <strong>default action</strong> of a mousedown event prevents these actions from occurring.</p></blockquote><p>ä¸€ä¸ªé¼ æ ‡äº‹ä»¶ä¼šåœ¨ç”¨æˆ·ä½¿ç”¨ç‚¹å‡»è®¾å¤‡ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªé¼ æ ‡ï¼‰æŒ‰ä¸‹ä¸€ä¸ªæŒ‰é’®ä¹‹åç«‹å³è¢«åˆ†å‘ã€‚ ä¸€ä¸ªå¯èƒ½çš„é‡‡å–å®ç°çš„é»˜è®¤åŠ¨ä½œä¼šè®¾ç½®ä¸€ä¸ªçŠ¶æ€æœºï¼Œå…è®¸ç”¨æˆ·å»æ‹–æ‹½å›¾åƒæˆ–è€…é€‰æ‹©æ–‡å­—ã€‚ é»˜è®¤åŠ¨ä½œå–å†³äºæ¥ä¸‹æ¥ä¼šå‘ç”Ÿä»€ä¹ˆ - æ¯”å¦‚ï¼Œå¦‚æœç”¨æˆ·çš„ç‚¹å‡»è®¾å¤‡æ”¾åœ¨æ–‡å­—ä¸Šï¼Œé‚£ä¹ˆæ–‡å­—é€‰æ‹©çš„åŠ¨ä½œå°±ä¼šå¼€å§‹ å¦‚æœç”¨æˆ·çš„ç‚¹å‡»è®¾å¤‡æ”¾åœ¨ä¸€ä¸ªå›¾åƒçš„ä¸Šé¢ï¼Œé‚£ä¹ˆä¸€ä¸ªå›¾ç‰‡æ‹–æ‹½çš„åŠ¨ä½œå°±ä¼šå¼€å§‹ é˜»æ­¢ä¸€ä¸ªæŒ‰ä¸‹äº‹ä»¶çš„é»˜è®¤çš„åŠ¨ä½œå¯ä»¥é˜²æ­¢è¿™äº›åŠ¨ä½œçš„å‘ç”Ÿ</p><blockquote><p><strong>Default actions</strong> are usually performed after the event dispatch has been completed,<br>but in exceptional cases they may also be performed immediately before the event is dispatched.</p></blockquote><p>é»˜è®¤åŠ¨ä½œé€šå¸¸åœ¨äº‹ä»¶åˆ†å‘å®Œæˆä¹‹åè¢«æ‰§è¡Œï¼Œä½†åœ¨ç‰¹æ®Šçš„åœºæ™¯ä¸‹å¯èƒ½ä¼šåœ¨äº‹ä»¶åˆ†å‘ä¹‹å‰ç«‹å³æ‰§è¡Œ</p><blockquote><p>EXAMPLE 2 The <strong>default action</strong> associated with the click event on <code>&lt;input type="checkbox"&gt;</code> elements toggles the checked IDL attribute value of that element.<br>If the click eventâ€™s <strong>default action</strong> is cancelled, then the value is restored to its former state.</p></blockquote><p>åœ¨<code>&lt;input type="checkbox"&gt;</code>å…ƒç´ ä¸Šå…³è”ç‚¹å‡»äº‹ä»¶çš„é»˜è®¤åŠ¨ä½œä¸ºåˆ‡æ¢è¿™ä¸ªå…ƒç´ <code>checked</code>å±æ€§çš„å€¼ å¦‚æœç‚¹å‡»äº‹ä»¶çš„é»˜è®¤åŠ¨ä½œè¢«å–æ¶ˆï¼Œé‚£ä¹ˆå€¼ä¼šæ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼ˆä¹Ÿå°±æ˜¯ä¸ä¼šæ”¹å˜ï¼‰</p><blockquote><p>When an event is canceled, then the conditional <strong>default actions</strong> associated with the event is skipped (or as mentioned above, if the default actions are carried out before the dispatch, their effect is undone).<br>Whether an event object is cancelable is indicated by the <code>cancelable</code> attribute.<br>Calling <code>preventDefault()</code> stops all related <strong>default actions</strong> of an event object.<br>The <code>defaultPrevented</code> attribute indicates whether an event has already been canceled (e.g., by a prior event listener).<br>If the DOM application itself initiated the dispatch, then the return value of the <code>dispatchEvent()</code> method indicates whether the event object was cancelled.</p></blockquote><p>å½“ä¸€ä¸ªäº‹ä»¶è¢«å–æ¶ˆï¼Œä¸äº‹ä»¶å…³è”çš„æœ‰æ¡ä»¶çš„é»˜è®¤åŠ¨ä½œä¼šè¢«è·³è¿‡ï¼ˆæˆ–è€…å°±å¦‚ä¸Šé¢æåˆ°çš„ï¼Œå¦‚æœé»˜è®¤åŠ¨ä½œåœ¨åˆ†å‘å‰è¢«æ‰§è¡Œï¼Œå®ƒä»¬çš„å½±å“ä¼šè¢«æ’¤é”€ï¼‰ äº‹ä»¶å¯¹è±¡æ˜¯å¦å¯ä»¥å–æ¶ˆç”±ç”±<code>cancelable</code>å±æ€§æ¥æŒ‡æ˜ã€‚ è°ƒç”¨<code>preventDefault()</code>æ¥åœæ­¢ä¸€ä¸ªäº‹ä»¶å¯¹è±¡çš„æ‰€æœ‰ç›¸å…³çš„é»˜è®¤åŠ¨ä½œ <code>defaultPrevented</code>å±æ€§è¡¨æ˜äº‹ä»¶æ˜¯å¦å·²ç»è¢«å–æ¶ˆï¼ˆæ¯”å¦‚ï¼Œé€šè¿‡ä¹‹å‰çš„ä¸€ä¸ªäº‹ä»¶ç›‘å¬å‡½æ•°ï¼‰ å¦‚æœæ˜¯domåº”ç”¨æœ¬èº«å‘èµ·çš„åˆ†å‘æ“ä½œï¼Œé‚£ä¹ˆ<code>dispatchEvent()</code>æ–¹æ³•çš„è¿”å›å€¼è¡¨æ˜äº‹ä»¶å¯¹è±¡æ˜¯å¦è¢«å–æ¶ˆ</p><blockquote><p>Many implementations additionally interpret an event listenerâ€™s return value, such as the value <code>false</code>,<br>to mean that the <strong>default action</strong> of cancelable events will be cancelled (though <code>window.onerror</code> handlers are cancelled by returning <code>true</code>).</p></blockquote><p>è®¸å¤šå®ç°å¦å¤–åœ°è§£é‡Šäº†äº‹ä»¶ç›‘å¬å‡½æ•°åœ°è¿”å›å€¼ï¼Œæ¯”å¦‚å€¼ä¸º<code>false</code>ï¼Œæ„å‘³ç€å¯å–æ¶ˆåœ°äº‹ä»¶çš„é»˜è®¤åŠ¨ä½œè¢«å–æ¶ˆï¼ˆè™½ç„¶<code>window.onerror</code>ä»¥è¿”å›<code>true</code>æ¥å–æ¶ˆé»˜è®¤çš„åŠ¨ä½œï¼‰</p><h2 id="synchronous-and-asynchronous-eventsï¼ˆåŒæ­¥å’Œå¼‚æ­¥çš„äº‹ä»¶ï¼‰" tabindex="-1">Synchronous and asynchronous eventsï¼ˆåŒæ­¥å’Œå¼‚æ­¥çš„äº‹ä»¶ï¼‰ <a class="header-anchor" href="#synchronous-and-asynchronous-eventsï¼ˆåŒæ­¥å’Œå¼‚æ­¥çš„äº‹ä»¶ï¼‰">ğŸ”—</a></h2><blockquote><p>Events may be dispatched either synchronously or asynchronously.</p></blockquote><p>äº‹ä»¶å¯èƒ½ä»¥åŒæ­¥æˆ–è€…å¼‚æ­¥çš„æ–¹å¼åˆ†å‘ã€‚</p><blockquote><p>Events which are synchronous (sync events) are treated as if they are in a virtual queue in a first-in-first-out model,<br>ordered by sequence of temporal occurrence with respect to other events, to changes in the DOM, and to user interaction.<br>Each event in this virtual queue is delayed until the previous event has completed its propagation behavior, or been canceled.<br>Some sync events are driven by a specific device or process, such as mouse button events.<br>These events are governed by the <strong>event order</strong> algorithms defined for that set of events, and <strong>user agents</strong> will dispatch these events in the defined order.</p></blockquote><p>åŒæ­¥çš„äº‹ä»¶è¢«å½“ä½œæ”¾åœ¨åœ¨ä¸€ä¸ªè™šæ‹Ÿçš„å…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—ä¸­ï¼Œä»¥å’Œå…¶ä»–çš„äº‹ä»¶æŒ‰æ—¶é—´å‘ç”Ÿçš„é¡ºåºè¿›è¡Œæ’åºï¼Œä¾æ¬¡æ‰§è¡Œæ¥æ”¹å˜DOMä»¥åŠå’Œç”¨æˆ·äº¤äº’ã€‚ åœ¨è¿™ä¸ªè™šé˜Ÿåˆ—ä¸­æ¯ä¸ªäº‹ä»¶ä¼šå»¶è¿Ÿåˆ°ä¹‹å‰çš„äº‹ä»¶å®Œæˆå®ƒçš„ä¼ é€’è¡Œä¸ºæˆ–è€…è¢«å–æ¶ˆä¹‹åå†æ‰§è¡Œã€‚ ä¸€äº›åŒæ­¥äº‹ä»¶ç”±ä¸€ä¸ªç‰¹å®šçš„è®¾å¤‡æˆ–è€…è¿›ç¨‹æ¥é©±åŠ¨ï¼Œæ¯”å¦‚ä¸€ä¸ªé¼ æ ‡æŒ‰é’®äº‹ä»¶ è¿™äº›äº‹ä»¶é€šè¿‡ä¸ºäº‹ä»¶é›†åˆå®šä¹‰çš„äº‹ä»¶æ’åºç®—æ³•æ¥ç®¡ç†ï¼Œç”¨æˆ·ä»£ç†æŒ‰ç…§å®šä¹‰çš„é¡ºåºåˆ†å‘è¿™äº›äº‹ä»¶</p><p>è¿™é‡Œæœ‰ä¸¤ä¸ªæœ¯è¯­ï¼š<strong>event order</strong>å’Œ<strong>user agents</strong></p><hr><p><strong>event order</strong></p><blockquote><p>The sequence in which events from the same event source or process occur, using the same or related event interfaces.<br>For example, in an environment with a mouse, a track pad, and a keyboard, each of those input devices would constitute a separate event source, and each would follow its own event order.<br>A mousedown event from the trackpad followed by a mouseup event from the mouse would not result in a click event.</p></blockquote><p>ç›¸åŒäº‹ä»¶æºæˆ–è€…ä½¿ç”¨äº†ç›¸åŒæˆ–è€…çº¿ç®¡äº‹ä»¶æ¥å£çš„å¤„ç†ç¨‹åºå‘ç”Ÿæ—¶çš„äº‹ä»¶çš„é¡ºåº æ¯”å¦‚ï¼Œä¸€ä¸ªå¸¦æœ‰é¼ æ ‡ï¼Œè§¦æ§æ¿å’Œé”®ç›˜çš„ç¯å¢ƒï¼Œæ¯ä¸ªè¾“å…¥è®¾å¤‡æ„æˆäº†ä¸€ä¸ªåˆ†ç¦»çš„äº‹ä»¶æºï¼Œå¹¶ä¸”éµå¾ªå®ƒä»¬è‡ªå·±çš„äº‹ä»¶é¡ºåºã€‚<br>è§¦æ§æ¿çš„ä¸€ä¸ªæŒ‰ä¸‹äº‹ä»¶ï¼Œç„¶åä¸€ä¸ªé¼ æ ‡çš„å¼¹èµ·äº‹ä»¶ä¸ä¼šå¯¼è‡´ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼ˆè¿™é‡Œæ„æ€æ˜¯ï¼Œå› ä¸ºä¸€ä¸ªç‚¹å‡»äº‹ä»¶å¯ä»¥çœ‹æˆé¼ æ ‡æŒ‰ä¸‹ç„¶åå¼¹èµ·ä¹‹åè§¦å‘çš„äº‹ä»¶ï¼Œä½†æ˜¯ç”±äºè¿™ä¸¤ä¸ªäº‹ä»¶çš„æºä¸åŒï¼Œå¹¶ä¸ä¼šè§¦å‘ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼‰</p><blockquote><p>There can be interactions between different event orders.<br>For example, a click event might be modified by a concurrent keydown event (e.g., via Shift+click).<br>However, the event orders of these different event sources would be distinct.</p></blockquote><p>åœ¨ä¸åŒçš„äº‹ä»¶é¡ºåºä¸­å¯ä»¥è¿›è¡Œäº¤äº’ã€‚ æ¯”å¦‚ï¼Œä¸€ä¸ªç‚¹å‡»äº‹ä»¶å¯èƒ½è¢«ä¸€ä¸ªåŒæ—¶çš„é”®ç›˜æŒ‰ä¸‹äº‹ä»¶ï¼ˆæ¯”å¦‚Shift+clickï¼‰ä¿®æ”¹ã€‚ ç„¶è€Œï¼Œä¸åŒäº‹ä»¶æºçš„äº‹ä»¶é¡ºåºæ˜¯ä¸åŒçš„</p><blockquote><p>The event order of some interfaces are device-independent.<br>For example, a user might change focus using the Tab key, or by clicking the new focused element with the mouse.<br>The event order in such cases depends on the state of the process, not on the state of the device that initiates the state change.</p></blockquote><p>ä¸€äº›å®ç°çš„äº‹ä»¶é¡ºåºæ˜¯è®¾å¤‡æ— å…³çš„ã€‚ æ¯”å¦‚ï¼Œä¸€ä¸ªç”¨æˆ·å¯èƒ½ä½¿ç”¨Tabé”®æ¥æ”¹å˜ç„¦ç‚¹ï¼Œæˆ–è€…é€šè¿‡é¼ æ ‡ç‚¹å‡»æ–°çš„èšç„¦çš„å…ƒç´ ã€‚ äº‹ä»¶é¡ºåºåœ¨è¿™äº›æƒ…å†µä¸‹ä¾èµ–è¿›ç¨‹çš„çŠ¶æ€ï¼Œè€Œä¸ä¾èµ–å¼€å§‹çŠ¶æ€æ”¹å˜çš„è®¾å¤‡çš„çŠ¶æ€</p><p><strong>user agents</strong></p><blockquote><p>A program, such as a browser or content authoring tool, normally running on a client machine,<br>which acts on a userâ€™s behalf in retrieving, interpreting, executing, presenting, or creating content.<br>Users MAY act on the content using different user agents at different times, for different purposes.<br>See the Â§1.2.1 Web browsers and other dynamic or interactive user agents and Â§1.2.2 Authoring tools for details on the requirements for a conforming user agent.</p></blockquote><p>ä¸€ä¸ªç¨‹åºï¼Œæ¯”å¦‚ä¸€ä¸ªæµè§ˆå™¨æˆ–è€…ä¸€ä¸ªå†…å®¹åˆ›ä½œå·¥å…·ï¼Œä¸€èˆ¬è¿è¡Œåœ¨å®¢æˆ·æœºå™¨ä¸Šï¼Œ åœ¨æ£€ç´¢ï¼Œè§£é‡Šï¼Œæ‰§è¡Œï¼Œå‘ˆç°æˆ–è€…å†…å®¹åˆ›å»ºæ—¶ä»£è¡¨ç”¨æˆ·è¿›è¡Œæ“ä½œã€‚ ç”¨æˆ·å¯èƒ½ä¸ºäº†ä¸åŒçš„ç›®çš„ï¼Œåœ¨ä¸åŒæ—¶é—´ï¼Œä½¿ç”¨ä¸åŒçš„ç”¨æˆ·ä»£ç†æ“ä½œå†…å®¹ã€‚ æŸ¥çœ‹1.2.1èŠ‚å’Œ1.2.2èŠ‚æ¥çŸ¥é“ä¸€ä¸ªç¬¦åˆçš„ç”¨æˆ·ä»£ç†çš„è¦æ±‚çš„ç»†èŠ‚ã€‚</p><hr><blockquote><p>Events which are asynchronous (async events) may be dispatched as the results of the action are completed,<br>with no relation to other events, to other changes in the DOM, nor to user interaction.</p></blockquote><p>å¼‚æ­¥äº‹ä»¶å¯èƒ½ä½œä¸ºåŠ¨ä½œå®Œæˆçš„ç»“æœè¢«åˆ†å‘ï¼Œå’Œå…¶ä»–äº‹ä»¶ï¼ŒDOMä¸­çš„å…¶ä»–æ›´æ”¹æˆ–è€…ç”¨æˆ·çš„äº¤äº’æ²¡æœ‰å…³ç³»ã€‚</p><blockquote><p>EXAMPLE 3 During loading of a document, an inline script element is parsed and executed. x The load event is queued to be fired asynchronously at the script element.<br>However, because it is an async event, its order with relation to other synchronous events fired during document load (such as the DOMContentLoaded event from <a href="https://www.w3.org/TR/2019/WD-uievents-20190530/#biblio-html5" target="_blank" rel="noopener">HTML5</a>) is not guaranteed.</p></blockquote><p>åœ¨æ–‡æ¡£åŠ è½½ä¸­ï¼Œä¸€ä¸ªå†…è”çš„scriptå…ƒç´ ä¼šè¢«è§£æå’Œæ‰§è¡Œã€‚ loadäº‹ä»¶è¿›å…¥é˜Ÿåˆ—ç­‰å¾…ï¼Œç„¶åå¼‚æ­¥åœ°åˆ†å‘åˆ°scriptå…ƒç´ ä¸Šã€‚ ç„¶è€Œï¼Œç”±äºå®ƒæ˜¯ä¸€ä¸ªå¼‚æ­¥çš„äº‹ä»¶ï¼Œåœ¨æ–‡æ¡£åŠ è½½æ—¶ï¼ˆæ¯”å¦‚HTML5ä¸­çš„DOMContentLoadedäº‹ä»¶ï¼‰ä¸èƒ½ä¿è¯å®ƒä¸å…¶ä»–ç›¸å…³çš„åŒæ­¥äº‹ä»¶çš„åˆ†å‘çš„é¡ºåº</p><h2 id="trusted-eventsï¼ˆå¯ä¿¡èµ–çš„äº‹ä»¶ï¼‰" tabindex="-1">Trusted eventsï¼ˆå¯ä¿¡èµ–çš„äº‹ä»¶ï¼‰ <a class="header-anchor" href="#trusted-eventsï¼ˆå¯ä¿¡èµ–çš„äº‹ä»¶ï¼‰">ğŸ”—</a></h2><blockquote><p>Events that are generated by the <strong>user agent</strong>, either as a result of user interaction,<br>or as a direct result of changes to the DOM, are trusted by the <strong>user agent</strong> with privileges that are not afforded to events generated by script through the <code>createEvent()</code> method,<br>modified using the <code>initEvent()</code> method, or dispatched via the <code>dispatchEvent()</code> method.<br>The isTrusted attribute of trusted events has a value of true, while untrusted events have a isTrusted attribute value of false.</p></blockquote><p>ç”±ç”¨æˆ·ä»£ç†ç”Ÿæˆçš„äº‹ä»¶ï¼Œæˆ–è€…ç”¨æˆ·äº¤äº’çš„ç»“æœï¼Œæˆ–è€…æ”¹å˜DOMçš„ç›´æ¥ç»“æœï¼Œä¼šè¢«æœ‰ç‰¹æƒçš„ç”¨æˆ·ä»£ç†ä¿¡ä»»ï¼ˆä¸åŒ…æ‹¬é€šè¿‡<code>createEvent()</code>æ–¹æ³•ç”Ÿæˆçš„äº‹ä»¶ï¼Œä½¿ç”¨<code>initEvent()</code>æ–¹æ³•è¿›è¡Œä¿®æ”¹ï¼Œæˆ–è€…é€šè¿‡<code>dispatchEvent()</code>æ–¹æ³•è¿›è¡Œåˆ†å‘ï¼‰ã€‚ å¯ä¿¡ä»»çš„äº‹ä»¶çš„<code>isTrusted</code>å±æ€§å€¼ä¸º<code>true</code>ï¼Œè€Œä¸å¯ä¿¡ä»»çš„äº‹ä»¶çš„<code>isTrusted</code>å€¼ä¸º<code>false</code></p><blockquote><p>Most untrusted events will not trigger default actions, with the exception of the click event.<br>This event always triggers the <strong>default action</strong>, even if the isTrusted attribute is false (this behavior is retained for backward-compatibility).<br>All other untrusted events behave as if the <code>preventDefault()</code> method had been called on that event.</p></blockquote><p>å¤§å¤šä¸å¯ä¿¡ä»»çš„äº‹ä»¶ä¸ä¼šè§¦å‘é»˜è®¤çš„åŠ¨ä½œï¼Œé™¤äº†ç‚¹å‡»äº‹ä»¶ã€‚ è¿™ä¸ªäº‹ä»¶æ€»æ˜¯è§¦å‘é»˜è®¤çš„åŠ¨ä½œï¼Œå³ä½¿<code>isTrusted</code>å±æ€§ä¸º<code>false</code>ï¼ˆè¿™ä¸ªè¡Œä¸ºä¸ºäº†å‘åå…¼å®¹è€Œä¿ç•™ï¼‰ æ‰€æœ‰å…¶ä»–çš„ä¸å¯ä¿¡ä»»çš„äº‹ä»¶çš„è¡Œä¸ºæ’•æ¯å°±æ˜¯åœ¨é‚£ä¸ªäº‹ä»¶ä¸Šè°ƒç”¨äº†<code>preventDefault()</code></p><h2 id="activation-triggers-and-behaviorï¼ˆæ¿€æ´»çš„è§¦å‘å™¨å’Œè¡Œä¸ºï¼‰" tabindex="-1">Activation triggers and behaviorï¼ˆæ¿€æ´»çš„è§¦å‘å™¨å’Œè¡Œä¸ºï¼‰ <a class="header-anchor" href="#activation-triggers-and-behaviorï¼ˆæ¿€æ´»çš„è§¦å‘å™¨å’Œè¡Œä¸ºï¼‰">ğŸ”—</a></h2><blockquote><p>Certain event targets (such as a link or button element) may have associated <strong>activation behavior</strong> (such as following a link) that implementations perform in response to an activation trigger (such as clicking a link).</p></blockquote><p>æŸäº›äº‹ä»¶ç›®æ ‡å¯¹è±¡ï¼ˆæ¯”å¦‚ä¸€ä¸ªlinkï¼ˆé“¾æ¥ï¼‰æˆ–è€…buttonï¼ˆæŒ‰é’®ï¼‰å…ƒç´ ï¼‰å¯èƒ½å’Œæ¿€æ´»çš„è¡Œä¸ºç›¸å…³ï¼ˆæ¯”å¦‚è·Ÿéšä¸€ä¸ªé“¾æ¥ï¼‰ï¼Œå®ç°æ‰§è¡Œæ¥å“åº”ä¸€ä¸ªæ¿€æ´»çš„è§¦å‘å™¨ï¼ˆæ¯”å¦‚ç‚¹å‡»ä¸€ä¸ªé“¾æ¥ï¼‰</p><blockquote><p>EXAMPLE 4 Both HTML and SVG have an <code>&lt;a&gt;</code> element which indicates a link.<br>Relevant activation triggers for an <code>&lt;a&gt;</code> element are a click event on the text or image content of the <code>&lt;a&gt;</code> element,<br>or a keydown event with a key attribute value of "Enter" key when the <code>&lt;a&gt;</code> element has focus.<br>The activation behavior for an <code>&lt;a&gt;</code> element is normally to change the content of the window to the content of the new document,<br>in the case of external links, or to reposition the current document relative to the new anchor, in the case of internal links.</p></blockquote><p>HTMLå’ŒSVGéƒ½æœ‰ä¸€ä¸ª<code>&lt;a&gt;</code>æ ‡ç­¾æ¥è¡¨æ˜ä¸€ä¸ªé“¾æ¥ã€‚ ä¸€ä¸ª<code>&lt;a&gt;</code>å…ƒç´ çš„ç›¸å…³çš„æ¿€æ´»è§¦å‘å™¨ä¸ºåœ¨æ–‡æœ¬æˆ–è€…<code>&lt;a&gt;</code>å…ƒç´ çš„å›¾åƒå†…å®¹ä¸Šçš„ç‚¹å‡»äº‹ä»¶ï¼Œæˆ–è€…å½“<code>&lt;a&gt;</code>å…ƒç´ è¢«èšç„¦æ—¶ä¸€ä¸ªå¸¦æœ‰keyå±æ€§å€¼ä¸º<code>Enter</code>çš„keydownäº‹ä»¶ã€‚ ä¸€ä¸ª<code>&lt;a&gt;</code>æ ‡ç­¾æ¿€æ´»è¡Œä¸ºä¸€èˆ¬æ”¹å˜windowçš„å†…å®¹ä¸ºæ–°çš„æ–‡æ¡£çš„å†…å®¹ï¼Œæ¯”å¦‚å¤–éƒ¨çš„é“¾æ¥ï¼Œç”¨æ¥é‡æ–°å®šä½å½“å‰æ–‡æ¡£åˆ°ä¸€ä¸ªæ–°çš„æç‚¹ï¼Œæ¯”å¦‚å†…éƒ¨çš„é“¾æ¥</p><p>è¿™é‡Œæœ‰ä¸¤ä¸ªæœ¯è¯­<strong>activation behavior</strong>å’Œ<strong>activation trigger</strong></p><hr><p><strong>activation behavior</strong></p><blockquote><p>The action taken when an event, typically initiated by users through an input device, causes an element to fulfill a defined task.<br>The task MAY be defined for that element by the host language, or by author-defined variables, or both.<br>The default task for any given element MAY be a generic action, or MAY be unique to that element.<br>For example, the activation behavior of an HTML or SVG <code>&lt;a&gt;</code> element is to cause the user agent to traverse the link specified in the href attribute,<br>with the further optional parameter of specifying the browsing context for the traversal (such as the current window or tab, a named window, or a new window).<br>The activation behavior of an HTML <code>&lt;input&gt;</code> element with the type attribute value submit is be to send the values of the form elements to an author-defined IRI by the author-defined HTTP method.<br>See Â§3.5 Activation triggers and behavior for more details.</p></blockquote><p>å½“ä¸€ä¸ªäº‹ä»¶ï¼Œé€šå¸¸ä¸ºé€šè¿‡ç”¨æˆ·è¾“å…¥è®¾å¤‡å‘èµ·ï¼Œæºå¸¦çš„åŠ¨ä½œä½¿å¾—ä¸€ä¸ªå…ƒç´ å®Œæˆä¸€ä¸ªå®šä¹‰çš„ä»»åŠ¡ã€‚ ä»»åŠ¡å¯èƒ½é€šè¿‡å®¿ä¸»è¯­è¨€ï¼Œæˆ–è€…é€šè¿‡ä½œè€…å®šä¹‰çš„å˜é‡ï¼Œæˆ–è€…ä¸¤è€…éƒ½ä½¿ç”¨æ¥å¯¹å¯¹åº”å…ƒç´ å®šä¹‰ã€‚ ä»»ä½•ç»™å®šçš„é»˜è®¤ä»»åŠ¡å¯èƒ½æ˜¯ä¸€ä¸ªé€šç”¨çš„åŠ¨ä½œï¼Œæˆ–è€…å¯èƒ½å”¯ä¸€å­˜åœ¨è¿™ä¸ªå…ƒç´ ã€‚ æ¯”å¦‚ï¼ŒHTMLæˆ–è€…SVGçš„<code>&lt;a&gt;</code>æ ‡ç­¾å…ƒç´ çš„æ¿€æ´»è¡Œä¸ºè®©ç”¨æˆ·ä»£ç†éå†æŒ‡å®šé“¾æ¥çš„<code>href</code>å±æ€§ï¼Œéå†å¸¦æœ‰æŒ‡å®šæµè§ˆä¸Šä¸‹æ–‡çš„å…¶ä»–å¯é€‰çš„å‚æ•°ï¼ˆæ¯”å¦‚å½“å‰çª—å£æˆ–è€…æ ‡ç­¾é¡µï¼Œä¸€ä¸ªå‘½åçš„çª—å£ï¼Œæˆ–è€…ä¸€ä¸ªæ–°çš„çª—å£ï¼‰ HTMLçš„å¸¦æœ‰typeå±æ€§å€¼ä¸ºsubmitçš„<code>&lt;input&gt;</code>å…ƒç´ æ¿€æ´»è¡Œä¸ºä¸ºé€šè¿‡ç”¨æˆ·å®šä¹‰çš„HTTPæ–¹æ³•å‘é€formè¡¨å•çš„å€¼åˆ°ä¸€ä¸ªç”¨æˆ·å®šä¹‰çš„IRI æŸ¥çœ‹3.5èŠ‚æ¥è·å¾—æ›´å¤šç»†èŠ‚ä¿¡æ¯</p><p><strong>activation trigger</strong></p><blockquote><p>An event which is defined to initiate an activation behavior.<br>Refer to Â§3.5 Activation triggers and behavior for more details.</p></blockquote><p>ä¸€ä¸ªå®šä¹‰çš„äº‹ä»¶å‘èµ·çš„ä¸€ä¸ªæ¿€æ´»è¡Œä¸º å¯¼å‘3.5èŠ‚è·å¾—æ›´å¤šçš„ç»†èŠ‚ä¿¡æ¯</p><hr><h2 id="constructing-mouse-and-keyboard-eventsï¼ˆæ„å»ºçš„é¼ æ ‡å’Œé”®ç›˜äº‹ä»¶ï¼‰" tabindex="-1">Constructing Mouse and Keyboard Eventsï¼ˆæ„å»ºçš„é¼ æ ‡å’Œé”®ç›˜äº‹ä»¶ï¼‰ <a class="header-anchor" href="#constructing-mouse-and-keyboard-eventsï¼ˆæ„å»ºçš„é¼ æ ‡å’Œé”®ç›˜äº‹ä»¶ï¼‰">ğŸ”—</a></h2><blockquote><p>Generally, when a constructor of an Event interface, or of an interface inherited from the Event interface, is invoked, the steps described in <a href="">DOM</a> should be followed.<br>However the KeyboardEvent and MouseEvent interfaces provide additional dictionary members for initializing the internal state of the Event objectâ€™s key modifiers: specifically, the internal state queried for using the <code>getModifierState()</code> and <code>getModifierState()</code> methods.<br>This section supplements the DOM4 steps for intializing a new Event object with these optional modifier states.</p></blockquote><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œå½“ä¸€ä¸ªäº‹ä»¶æ¥å£çš„æ„é€ å™¨ï¼Œæˆ–è€…ä¸€ä¸ªç»§æ‰¿äº‹ä»¶æ¥å£çš„æ¥å£è¢«æ‰§è¡Œæ—¶ï¼Œæ­¥éª¤ä¼šæŒ‰ç…§DOMä¸­æ‰€æè¿°çš„ã€‚ ç„¶è€Œé”®ç›˜äº‹ä»¶å’Œé¼ æ ‡ä¹¦ç®€æ¥å£æä¾›äº†é¢å¤–çš„å­—å…¸æˆå‘˜æ¥åˆå§‹åŒ–äº‹ä»¶å¯¹è±¡çš„å…³é”®ä¿®é¥°ç¬¦çš„å†…éƒ¨çŠ¶æ€ï¼šç‰¹åˆ«æ˜¯ï¼Œå¯ä»¥ä½¿ç”¨<code>getModifierState()</code>å’Œ<code>getModifierState()</code>æ–¹æ³•æ¥æŸ¥è¯¢å†…éƒ¨çš„çŠ¶æ€ã€‚ è¿™ä¸ªå°èŠ‚è¡¥å……äº†DOM4ä¸­åˆå§‹åŒ–ä¸€ä¸ªå¸¦æœ‰å¯é…ç½®çš„ä¿®æ”¹å¸ˆå‚…çŠ¶æ€çš„äº‹ä»¶å¯¹è±¡çš„æ­¥éª¤</p><blockquote><p>For the purposes of constructing a KeyboardEvent, MouseEvent, or object derived from these objects using the algorithm below,<br>all KeyboardEvent, MouseEvent, and derived objects have internal key modifier state which can be set and retrieved using the key modifier names described in the Modifier Keys table in UIEvents-Key.</p></blockquote><p>ä¸ºäº†æ„é€ ä¸€ä¸ªé”®ç›˜äº‹ä»¶ï¼Œé¼ æ ‡äº‹ä»¶ï¼Œæˆ–è€…ä»è¿™äº›äº‹ä»¶å¯¹è±¡æ´¾ç”Ÿçš„å¯¹è±¡ï¼Œä½¿ç”¨ä¸‹é¢çš„ç®—æ³•ï¼Œ æ‰€æœ‰çš„é”®ç›˜äº‹ä»¶ï¼Œé¼ æ ‡äº‹ä»¶ï¼Œå’Œæ´¾ç”Ÿå¯¹è±¡æœ‰å†…éƒ¨çš„å…³é”®ä¿®é¥°ç¬¦çŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€å¯ä»¥ä½¿ç”¨å…³é”®è¯ä¿®é¥°åå­—ï¼ˆåœ¨UIEvents-Keyä¸­ä¿®é¥°å…³é”®è¯è¡¨æ ¼æè¿°ï¼‰è¢«è®¾ç½®å’Œé‡ç½®</p><blockquote><p>The following steps supplement the algorithm defined for constructing events in DOM4:</p><ul><li>If the Event being constructed is a KeyboardEvent or MouseEvent object or an object that derives from either of these, and a EventModifierInit argument was provided to the constructor, then run the following sub-steps:<ul><li>For each EventModifierInit argument, if the dictionary member begins with the string "modifier", then let the key modifier name be the dictionary memberâ€™s name excluding the prefix "modifier", and set the Event objectâ€™s internal key modifier state that matches the key modifier name to the corresponding value.</li></ul></li></ul></blockquote><p>ä¸‹é¢æ­¥éª¤è¡¥å……äº†DOM4ä¸­æ„é€ äº‹ä»¶å®šä¹‰çš„ç®—æ³•</p><ul><li>å¦‚æœæ„é€ çš„äº‹ä»¶æ˜¯ä¸€ä¸ªé”®ç›˜æˆ–è€…é¼ æ ‡äº‹ä»¶æˆ–è€…æ´¾ç”Ÿè‡ªè¿™ä¸¤ä¸ªçš„äº‹ä»¶ï¼Œé‚£ä¹ˆå‘æ„é€ å‡½æ•°æä¾›ä¸€ä¸ª<code>EventModifierInit</code>å‚æ•°ï¼Œç„¶åæ‰§è¡Œä¸‹é¢çš„å­æ­¥éª¤ï¼š<ul><li>éå†<code>EventModifierInit</code>å‚æ•°ï¼Œå¦‚æœå­—å…¸æˆå‘˜ä»¥<code>modifier</code>å­—ç¬¦å¼€å¤´ï¼Œé‚£ä¹ˆè®¾ç½®å­—å…¸æˆå‘˜åå­—ä¸ºä¸åŒ…å«<code>modifier</code>å‰ç¼€çš„å…³é”®ä¿®é¥°ç¬¦çš„åå­—ï¼Œç„¶åè®¾ç½®åŒ¹é…å…³é”®ä¿®é¥°ç¬¦åå­—çš„äº‹ä»¶å¯¹è±¡çš„å†…éƒ¨å…³é”®ä¿®é¥°ç¬¦çŠ¶æ€ä¸ºå¯¹åº”çš„å€¼ã€‚</li></ul></li></ul><h1 id="åè®°" tabindex="-1">åè®° <a class="header-anchor" href="#åè®°">ğŸ”—</a></h1><p>æœ€è¿‘æ‰“ç®—å†™ä¸ªDNFçš„çº¸å¨ƒå¨ƒç³»ç»Ÿï¼Œä¸»è¦æ˜¯ç”Ÿæˆè¡¥ä¸ä»£ç ä»¥åŠåœ¨çº¿æ¨¡æ‹Ÿæ¢è£…çš„è¿™ä¹ˆä¸€ä¸ªåº”ç”¨</p><p>åŸæ¥çš„<a href="https://avatar.kritsu.net/" target="_blank" rel="noopener">çº¸å¨ƒå¨ƒ</a>æ„Ÿè§‰æŒºå¤šbugçš„ï¼Œè€Œä¸”ä¹Ÿå¥½åƒæ²¡äººç»´æŠ¤</p><p>æ‰“ç®—ä»¥è¿™ä¸ªä¸ºæ ·æœ¬ï¼Œå†åšä¸€ä¸ªï¼Œä¸»è¦æ˜¯é»‘çŒ«çš„ä»£ç è½¬esçš„ä»£ç å¯å¤ªæ¶å¿ƒäº†â€¦</p><p>é™„ä¸Šä¸€å¼ å¼€å‘çš„å›¾ï¼Œç”¨çš„react + Material UI</p><p><a data-fancybox="doc-gallery" href="https://i.loli.net/2020/12/03/XEqi2o9FM4JpngW.png" target="_blank" rel="noopener noreferrer"><img src="https://i.loli.net/2020/12/03/XEqi2o9FM4JpngW.png" alt=""></a></p><p>PSï¼šå¦‚æœèƒ½ææˆæ¯•ä¸šè®¾è®¡é‚£å°±æœ‰æ„æ€äº†å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</p></div><!--]--></div><div flex="~ wrap" text="[var(--mygo-c-text-2)]" mt-8="" gap-4="" justify-center=""><!--[--><div>#DOM</div><!--]--></div><!--]--></div></div><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="~ wrap" gap-4=""><a href="/3800ed123cd0" class="" truncate="" title="JavaScriptä¸­çš„åƒåœ¾å›æ”¶"><i class="i-mi:chevron-left" mr-1=""></i><span>JavaScriptä¸­çš„åƒåœ¾å›æ”¶</span></a><a href="/aa08a7e76fb8" class="" ml-auto="" truncate="" title="å°è¯•é…ç½®webpackæ¥ç¼–è¯‘é¡¹ç›®"><span>å°è¯•é…ç½®webpackæ¥ç¼–è¯‘é¡¹ç›®</span><i class="i-mi:chevron-right" ml-1=""></i></a></div><!--]--></div></div><!--[--><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-a68bfdd1="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="" gap-4="" items-start="" data-v-a68bfdd1=""><div flex="~ shrink-0" bg="[var(--mygo-c-bg-alt)]" rounded-6px="" w-60px="" aspect-ratio-square="" items-center="" justify-center="" data-v-a68bfdd1=""><i text-40px="" text="[#999]" class="i-fa6-regular:user" data-v-a68bfdd1=""></i></div><div flex="~ col grow" gap-2="" lg:gap-4="" data-v-a68bfdd1=""><textarea disabled="" placeholder="ä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼Œç•™ä¸‹è¯„è®ºè¡Œä¸è¡Œ" class="mujika-git-talk-textarea" un-disabled:cursor-not-allowed="" p-2="" outline-0="" lg:p-4="" data-v-a68bfdd1=""></textarea><div flex="" items-start="" data-v-a68bfdd1=""><a target="_blank" href="https://guides.github.com/features/mastering-markdown/" data-v-a68bfdd1="">æ”¯æŒ Markdown è¯­æ³•</a><div ml-auto="" data-v-a68bfdd1=""></div><!----><button class="mujika-button" data-v-a68bfdd1="" data-v-15330f5f=""><!--[--><!--]--><!--[-->ç‚¹å‡»ç™»å½•<!--]--></button></div></div></div><!--]--></div></div><!----><!--]--></div><aside class="mujika-aside" w="280px" flex="~ col shrink-0" top-2="" sticky="" max-h="[calc(100vh-var(--spacing)*4)]" un-hidden="" lg:block=""><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" flex="~ col" gap-4="" data-v-7ac4adc5=""><!--[--><div p="4 b-0" flex-shrink-0="">æ–‡ç« ç›®å½•</div><div p="4 t-0" flex-grow="" min-h-0="" overflow-y-auto=""><!----></div><!--]--></div></aside><!--teleport start--><!--teleport end--></div></main><footer class="mujika-footer" px-4="" py-6="" bg="[var(--mygo-c-bg)]" flex="~ col shrink-0" gap-2="" items-center="" data-v-d1d7a153=""><div flex="" items-center="" data-v-d1d7a153=""><span data-v-d1d7a153="">Power by&nbsp;</span><i class="i-logos:vue" data-v-d1d7a153=""></i><span data-v-d1d7a153="">&nbsp;+&nbsp;</span><i class="i-logos:vitejs" data-v-d1d7a153=""></i></div><div text-center="" data-v-d1d7a153=""><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" data-v-d1d7a153="">CC BY-NC-SA 4.0 </a>2021 - PRESENT Â© Dedicatus545</div><div text="[var(--mygo-c-text-2)]" text-center="" data-v-d1d7a153="">å¦‚æœæˆ‘å’Œç‹—ä¸€æ ·æœ‰å°¾å·´çš„è¯ï¼Œä¸€å®šä¼šè—ä¸ä½è¿™ä»½å–œæ‚¦ï¼Œè€Œå°¾å·´ä¸€ç›´æ‘‡ä¸ªä¸åœå§ã€‚</div></footer></div></div></body></html>