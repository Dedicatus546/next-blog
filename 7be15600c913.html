<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/logo.svg"><meta name="viewport" content="width=device-width,initial-scale=1"><title>记一次使用 nuxt3</title><script type="importmap">{"imports":{"vue":"https://esm.sh/vue","vue-router":"https://esm.sh/vue-router","pinia":"https://esm.sh/pinia","@vueuse/core":"https://esm.sh/@vueuse/core","@vueuse/components":"https://esm.sh/@vueuse/components","@vueuse/router":"https://esm.sh/@vueuse/router","date-fns":"https://esm.sh/date-fns","nprogress":"https://esm.sh/nprogress","octokit":"https://esm.sh/octokit","pinia-plugin-persistedstate":"https://esm.sh/pinia-plugin-persistedstate","vue-router-better-scroller":"https://esm.sh/vue-router-better-scroller"}}</script><script type="module" async="" crossorigin="" src="/assets/app-2Hgo7EZs.js"></script><link rel="stylesheet" crossorigin="" href="/assets/app-BmBo8YJO.css"><link rel="modulepreload" crossorigin="" href="/assets/记一次使用-nuxt3-B_HbNkCb.js"><meta property="og:title" content="记一次使用 nuxt3"><meta name="twitter:title" content="记一次使用 nuxt3"></head><body><div id="app" data-server-rendered="true"><div class="mujika" min-h="100vh" flex="~ col" bg="[--mygo-c-bg-alt]"><header class="mujika-header" flex="~ shrink-0" px-4="" h="70px" bg="[var(--mygo-c-bg)]" items-center="" justify-between="" data-v-c1947e25=""><a href="/" class="" flex="" gap-4="" items-center="" data-v-c1947e25=""><img w="40px" aspect-ratio-square="" src="/logo.svg" alt="恋の歌的logo" data-v-c1947e25=""></a><div data-v-c1947e25=""><div p-1="" flex="" gap-1="" rounded="6px" bg="[var(--mygo-c-bg-alt)]" data-v-c1947e25=""><!--[--><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="bg-[var(--mygo-c-bg)]" title="自动" data-v-c1947e25=""><!--[-->Auto<!--]--></div><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="" title="日间" data-v-c1947e25=""><!--[--><i class="i-ri:sun-line" data-v-c1947e25=""></i><!--]--></div><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="" title="夜间" data-v-c1947e25=""><!--[--><i class="i-ri:moon-line" data-v-c1947e25=""></i><!--]--></div><!--]--></div></div></header><main class="mujika-home" flex="grow" mx="auto" min-h="0" p-2="" w-full="" un-2xl:w="[calc(96rem-var(--spacing)*2)]"><div flex="" gap-2="" items-start=""><div flex="~ col grow" gap-2="" min-w-0=""><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="~ col" mb-4="" gap-4=""><h1 break-all="" text="34px center">记一次使用 nuxt3</h1></div><div flex="~ col" gap-3="" text="[var(--mygo-c-text-2)]"><div flex="~ wrap" gap-3="" justify-center=""><!----><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:calendar"></i><span un-hidden="" lg:inline="">发表于</span><span pl-1="">2023-03-25 22:47</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:calendar-check"></i><span un-hidden="" lg:inline="">更新于</span><span pl-1="">2023-03-29 21:42</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:folder"></i><span un-hidden="" lg:inline="">分类于</span><!--[--><a pl-1="" href="/category/编程">编程</a><!--]--></div></div><div flex="~ wrap" gap-3="" justify-center=""><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:file-word"></i><span un-hidden="" lg:inline="">总字数</span><span pl-1="">2.5K</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:clock"></i><span un-hidden="" lg:inline="">阅读时长 ≈</span><span pl-1="">9 分钟</span></div></div></div><div class="mujika-doc-content"><!--[--><div class="kan-doc"><h1 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言">🔗</a></h1><p>刚好最近公司的官网需要重写，基本上都交给我一个人负责了，所以使用 Nuxt3 来体验一把 SSR</p><h1 id="正文" tabindex="-1">正文 <a class="header-anchor" href="#正文">🔗</a></h1><p>这次主要包含的技术栈包括 Nuxt</p><p>引用的库有 Swiper 、 VueUse 、 Iconify 、 高德地图的 SDK 、 Pinia</p><h2 id="nuxt3" tabindex="-1">Nuxt3 <a class="header-anchor" href="#nuxt3">🔗</a></h2><p>使用 Nuxt 的决定性的原因就是 Nuxt 开箱支持 SSR ，作为一个官网，我觉得服务端渲染还是相当重要的</p><p>虽然上级并没有提到这个需求，可能这个官网也只是交付其他软件的时候需要的资料吧…</p><p>SSR ，全称为 Server-side Rendering ，即服务端渲染</p><p>对于传统的 Vue 或者 React 应用，比如我做的最多的管理系统，一般我们不会采用这种模式</p><p>因为对于一个管理系统 ， SSR 并不是必要的，甚至可以说是不需要，在这种情况下，我们使用的是 CSR （ Client-side Rendering ），即客户端渲染</p><p>当然，这两种都属于 SPA （Single-page Application），即单页面应用</p><p>不同的是，SSR 会在服务端生成完整的 HTML 结构然后返回，客户端再配合这些结果继续渲染，而 CSR 只能通过 js 来生成整个 dom ，html 只提供入口而已</p><p>所以很多时候我们通过 Vite 初始化一个 Vue 项目都能看到如下的 index.html</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/25/202303252338983.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/25/202303252338983.avif" alt=""></a></p><p>完整的 HTML 结构有助于 SEO ，CSR 下由于 HTML 结构需要通过 JS 来渲染，而一般情况下页面的数据是要通过 AJAX 请求来获取的</p><p>而各大搜索引擎的爬虫并不会等待请求完成之后再进行爬取。</p><h2 id="使用-tailwind-css" tabindex="-1">使用 Tailwind CSS <a class="header-anchor" href="#使用-tailwind-css">🔗</a></h2><p>使用原子 CSS 类来构建应用，这也是我第一次使用这类 CSS 库。</p><p>官网地址：<a href="https://tailwindcss.com/" target="_blank" rel="noopener">Rapidly build modern websites without ever leaving your HTML.</a></p><p>当然，使用下来我个人而言，有优点也有缺点</p><h3 id="优点：" tabindex="-1">优点： <a class="header-anchor" href="#优点：">🔗</a></h3><ul><li>基本不用编写样式了，取而代之的是选择合适的类名，所见即所得</li><li>类名支持响应式，即 <code>md:flex</code> 表示在大于 <code>md</code> 的宽度上应用 <code>flex</code> 样式</li><li>支持按需生成所需的样式，加上本身原子化的形式，打包生成的样式文件大小取决于使用到的类的多少</li><li>支持扩展类名，虽然我用不到，不过灵活性还是相当高的</li></ul><h3 id="缺点" tabindex="-1">缺点 <a class="header-anchor" href="#缺点">🔗</a></h3><ul><li>虽然样式文件体积小了，但是整体的 HTML 的样式就大了，当应用的类名很多的时候，看起来就会很杂（个人而言），这就很能印证那句话“笑（体）容（积）没有消失，只是转移罢了”</li><li>需要额外去记忆类名，比如 <code>items-center</code> 表示 <code>align-items: center</code> ，虽然不是很难记忆，但总归是一个额外的心智负担</li></ul><hr><p>当然，总体上用下来我还是相当喜欢的，毕竟不用说一次性记忆全部的类名，用到的也是一些布局类型的类名</p><p>这些类名一般都比较好记，比如 <code>flex</code> ， <code>items-center</code> ， <code>justify-center</code> 等等</p><h2 id="vueuse" tabindex="-1">VueUse <a class="header-anchor" href="#vueuse">🔗</a></h2><p>一个 Vue 的组合式函数库，封装了常用的函数</p><p>比如事件监听 <code>useEventListener</code> ；节点 hover 监听 <code>useElementHover</code> ；断点监听 <code>useBreakpoints</code></p><p>除了组合式函数，还提供了一些非常好用的指令以及组件</p><p>比如常见的点击某个节点外部时，提供了 <code>vOnClickOutside</code> 指令，<code>OnClickOutside</code> 组件 ，<code>onClickOutside</code> 函数</p><p>可以说，基本上写 Vue3 的项目时我都会引入这个库，即使只使用了很小的一部分功能，毕竟本身就是支持 Tree shaking 。</p><h2 id="iconify" tabindex="-1">Iconify <a class="header-anchor" href="#iconify">🔗</a></h2><p>在最开始的时候，我是使用阿里的 iconfont 来为项目生成 icon 的</p><p>但是之后我找到了一个更好的库，即 Iconify</p><p>这里为了让 iconify 接入 nuxt ，我们还需要使用 <code>unplugin-icons</code> 这个插件</p><p>然后我们在 nuxt 的配置文件中新增下面的代码</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// nuxt.config.js</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">export</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> default</span><span style="--s-dark:#80A665;--s-light:#59873A"> defineNuxtConfig</span><span style="--s-dark:#666666;--s-light:#999999">({</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">  modules</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> [</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    [</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">'</span><span style="--s-dark:#C98A7D;--s-light:#B56959">unplugin-icons/nuxt</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">'</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#666666;--s-light:#999999"> {</span><span style="--s-dark:#758575DD;--s-light:#A0ADA0"> /* options */</span><span style="--s-dark:#666666;--s-light:#999999"> }]</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  ],</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">})</span></span></code></pre><p>当然，由于我们使用的是 TypeScript ，所以如果单单进行上面的配置，那么引入 icon 组件时会报错</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/26/202303261752274.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/26/202303261752274.avif" alt="图片来自 unplugin-icons 的某个 issue 的用户截图"></a></p><p>这里我们还要引入一个定义文件，这里有几种形式</p><h3 id="在-nuxt-配置文件中设置-typescript-配置" tabindex="-1">在 Nuxt 配置文件中设置 TypeScript 配置 <a class="header-anchor" href="#在-nuxt-配置文件中设置-typescript-配置">🔗</a></h3><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// https://nuxt.com/docs/api/configuration/nuxt-config</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">export</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> default</span><span style="--s-dark:#80A665;--s-light:#59873A"> defineNuxtConfig</span><span style="--s-dark:#666666;--s-light:#999999">({</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">  modules</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> [</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977">    "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">unplugin-icons/nuxt</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  ],</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">  typescript</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">    tsConfig</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">      compilerOptions</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">        // 对 icon 导入的类型支持</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">        types</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> [</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">unplugin-icons/types/vue</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">],</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">      },</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    },</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  },</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">});</span></span></code></pre><p>配置完成后需要启动一次服务器，然后才能看到效果，原因是 Nuxt 会把这里的配置生成到 .nuxt 文件夹下的 <code>tsconfig.json</code> 中</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/26/202303261755775.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/26/202303261755775.avif" alt=""></a></p><p>在项目根目录下，我们可以看到根的 <code>tsconfig.json</code> 继承了 <code>.nuxt/tsconfig.json</code> 文件，所以 TypeScript 的类型检查能正确生效</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-json"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">{</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">  // https://nuxt.com/docs/guide/concepts/typescript</span></span>
<span class="line"><span style="--s-dark:#B8A96577;--s-light:#99841877">  "</span><span style="--s-dark:#B8A965;--s-light:#998418">extends</span><span style="--s-dark:#B8A96577;--s-light:#99841877">"</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">./.nuxt/tsconfig.json</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><h3 id="配置到根-tsconfig-json-中" tabindex="-1">配置到根 tsconfig.json 中 <a class="header-anchor" href="#配置到根-tsconfig-json-中">🔗</a></h3><p>根据上一个方法，其实我们也可以直接配置到根的 <code>tsconfig.json</code> 中，只需要加上下面这段即可</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-json"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">{</span></span>
<span class="line"><span style="--s-dark:#B8A96577;--s-light:#99841877">  "</span><span style="--s-dark:#B8A965;--s-light:#998418">compilerOptions</span><span style="--s-dark:#B8A96577;--s-light:#99841877">"</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // ...</span></span>
<span class="line"><span style="--s-dark:#B8A96577;--s-light:#99841877">    "</span><span style="--s-dark:#B8A965;--s-light:#998418">types</span><span style="--s-dark:#B8A96577;--s-light:#99841877">"</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> [</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977">      "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">unplugin-icons/types/vue</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    ]</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  },</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><h3 id="手动编写-d-ts-文件" tabindex="-1">手动编写 d.ts 文件 <a class="header-anchor" href="#手动编写-d-ts-文件">🔗</a></h3><p>如果我们直接点进去 <code>unplugin-icons/types/vue</code> 这个文件，我们会发现其实内部就是定义了一个 module 而已</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/26/202303261810518.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/26/202303261810518.avif" alt=""></a></p><p>所以，我们可以直接在根目录下建立一个 <code>types</code> 的文件夹，然后新建一个 <code>icon.d.ts</code> 文件，把上面的内容复制进去即可</p><p>这样做能生效的原因 <code>.nuxt/tsconfig.json</code> 中包含了这些文件</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/26/202303261822006.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/26/202303261822006.avif" alt=""></a></p><p>而且这样子会更加的灵活，你可以根据你安装的 icon 包来使用更加详细的前缀，比如</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-typescript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">declare</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> module</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> '</span><span style="--s-dark:#C98A7D;--s-light:#B56959">~icons/mdi/*</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">'</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">  import</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> type</span><span style="--s-dark:#666666;--s-light:#999999"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> FunctionalComponent</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> SVGAttributes</span><span style="--s-dark:#666666;--s-light:#999999"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> '</span><span style="--s-dark:#C98A7D;--s-light:#B56959">vue</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">'</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">  const </span><span style="--s-dark:#BD976A;--s-light:#B07D48">component</span><span style="--s-dark:#666666;--s-light:#999999">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82">FunctionalComponent</span><span style="--s-dark:#666666;--s-light:#999999">&lt;</span><span style="--s-dark:#5DA994;--s-light:#2E8F82">SVGAttributes</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">  export</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> default</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> component</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><p>这样子 VSCode 在提示的时候就会直接把 mdi 也给提示出来了，非常地方便</p><hr><p>安装完成之后，我们就可以在 <a href="https://icon-sets.iconify.design/mdi/" target="_blank" rel="noopener">mdi icon set</a> 上面搜索我们想要的 icon ，然后 import 导入即可</p><p>比如我们搜索下常见的 close 图标</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/26/202303261831672.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/26/202303261831672.avif" alt=""></a></p><p>然后我们点击选中一个</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/26/202303261832198.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/26/202303261832198.avif" alt=""></a></p><p>我们看到这个图标的名字是 <code>mdi:close</code> ，前面的 <code>mdi</code> 表示它是所属哪个图标集的，后面表示它在图标集里的名称</p><p>我们通过 <code>import CloseIcon from "~icons/mdi/close"</code> 即可引入</p><p>2023-03-27 更新：</p><p>今天打算把配置下，让 Icon 能自动导入，省去写 import 语句，但是发现官方的文档并没有这个 Nuxt 框架的支持</p><p>翻了翻 issue ，发现有人提了 <a href="https://github.com/antfu/unplugin-icons/issues/219" target="_blank" rel="noopener">Icons auto-import for Nuxt 3</a></p><p>往后面看可以发现其实是有解决办法的，那就是通过暴露的 vite 参数来直接配置</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">import</span><span style="--s-dark:#666666;--s-light:#999999"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> defineNuxtConfig</span><span style="--s-dark:#666666;--s-light:#999999"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> '</span><span style="--s-dark:#C98A7D;--s-light:#B56959">nuxt</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">'</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> IconsResolver</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> '</span><span style="--s-dark:#C98A7D;--s-light:#B56959">unplugin-icons/resolver</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">'</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> Icons</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> '</span><span style="--s-dark:#C98A7D;--s-light:#B56959">unplugin-icons/vite</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">'</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> Components</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> '</span><span style="--s-dark:#C98A7D;--s-light:#B56959">unplugin-vue-components/vite</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">'</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// https://v3.nuxtjs.org/api/configuration/nuxt.config</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">export</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> default</span><span style="--s-dark:#80A665;--s-light:#59873A"> defineNuxtConfig</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#CB7676;--s-light:#AB5959">async</span><span style="--s-dark:#666666;--s-light:#999999"> ()</span><span style="--s-dark:#666666;--s-light:#999999"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999"> ({</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">  modules</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> [</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    [</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">'</span><span style="--s-dark:#C98A7D;--s-light:#B56959">unplugin-icons/nuxt</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">'</span><span style="--s-dark:#666666;--s-light:#999999">]</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  ],</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">  vue</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">    template</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">      compilerOptions</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">        isCustomElement</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#BD976A;--s-light:#B07D48">tag</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> =&gt;</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> tag</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">startsWith</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">'</span><span style="--s-dark:#C98A7D;--s-light:#B56959">i-</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">'</span><span style="--s-dark:#666666;--s-light:#999999">),</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">      },</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    },</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  },</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">  vite</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">    plugins</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> [</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">      Components</span><span style="--s-dark:#666666;--s-light:#999999">({</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">        resolvers</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#666666;--s-light:#999999"> [</span><span style="--s-dark:#80A665;--s-light:#59873A">IconsResolver</span><span style="--s-dark:#666666;--s-light:#999999">()],</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">      }),</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">      Icons</span><span style="--s-dark:#666666;--s-light:#999999">({}),</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    ],</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  },</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}))</span></span></code></pre><p>虽然这也能工作，但总觉得不是官方支持的，有点别扭…</p><p>所以我根据这个 issue ，最后选择了 <code>nuxt-icon</code> 这个库，支持自动导入，并且也是依赖 iconify 的图集包</p><p>在 Nuxt 配置文件的 <code>module</code> 参数注册之后，在代码中直接使用 <code>Icon</code> 组件来引入图标</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">template</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  &lt;</span><span style="--s-dark:#FDAEB7;--s-light:#B31D28">Icon</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> name</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">mdi:close</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">template</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span></code></pre><p>如果使用的是 VSCode ，那么还可以下载 Iconify Intellisense 这个扩展，然后只要字符串符合规则，那么会直接显示对应的图标，相当地不错</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/27/202303271806731.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/27/202303271806731.avif" alt=""></a></p><h2 id="使用中遇到的问题" tabindex="-1">使用中遇到的问题 <a class="header-anchor" href="#使用中遇到的问题">🔗</a></h2><h3 id="ssr-下-vueuse-某些函数报错" tabindex="-1">SSR 下 VueUse 某些函数报错 <a class="header-anchor" href="#ssr-下-vueuse-某些函数报错">🔗</a></h3><p>比如我在项目中使用到的 <code>useElementHover</code> 函数，如果开启 SSR 模式，那么会直接报错</p><p>原因是实现的代码中直接获取了 <code>window</code> 这个对象</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/26/202303261859445.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/03/26/202303261859445.avif" alt=""></a></p><p>最后我们只能通过 <code>import.meta.env.SSR</code> 来让服务端不报错</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> isHover</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> import</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#B8A965;--s-light:#998418">meta</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">env</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">SSR</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> ?</span><span style="--s-dark:#80A665;--s-light:#59873A"> ref</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#4D9375;--s-light:#1E754F">false</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> :</span><span style="--s-dark:#80A665;--s-light:#59873A"> useElementHover</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">el</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span></code></pre><p>这样子可以暂时解决这个问题，不过我看官方的文档，应该是支持 SSR 的，难道是我配置有问题？</p><p>不过我也在 issue 中找到了和我一样报错的老哥，传送门：<a href="https://github.com/vueuse/vueuse/issues/2874" target="_blank" rel="noopener">problem with vueuse and nuxt 3 in docker : window is not defined</a></p><p>我也在下面评论了，不过目前还没有回复，只能先等一等了</p><h3 id="ssr-下高德地图-sdk-报错" tabindex="-1">SSR 下高德地图 SDK 报错 <a class="header-anchor" href="#ssr-下高德地图-sdk-报错">🔗</a></h3><p>这里其实没有必要在服务端渲染地图结构，所以我直接使用 <code>ClientOnly</code> 组件让它只在客户端渲染，这样就解决了</p><p>2023-03-27 更新：</p><p>不知道为啥今天突然启动开发服务器就开始报错了，高德的 SDK 我是通过 <code>@amap/amap-jsapi-loader</code> 这个包提供的 loader 来加载 SDK 的</p><p>类似下面这样</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">script</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> setup</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> lang</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">ts</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> AMapLoader</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">@amap/amap-jsapi-loader</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">onMounted</span><span style="--s-dark:#666666;--s-light:#999999">(()</span><span style="--s-dark:#666666;--s-light:#999999"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">  AMapLoader</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">load</span><span style="--s-dark:#666666;--s-light:#999999">({</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // ...参数</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  }).</span><span style="--s-dark:#80A665;--s-light:#59873A">then</span><span style="--s-dark:#666666;--s-light:#999999">((</span><span style="--s-dark:#BD976A;--s-light:#B07D48">AMap</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // 进行操作</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  }).</span><span style="--s-dark:#80A665;--s-light:#59873A">catch</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">e</span><span style="--s-dark:#666666;--s-light:#999999"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">    console</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">error</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">e</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  });</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">});</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">script</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span></code></pre><p>然后我们通过 <code>ClientOnly</code> 把这个组件包起来，不知道为啥今天就报错，奇怪</p><p>然后我就看了下控制台的错误，说是 <code>@amap/amap-jsapi-loader</code> 里面调用了 <code>window</code> 而导致的 window is not defined 错误</p><p>最后我发现是 <code>@amap/amap-jsapi-loader</code> 在 import 时就执行了某段逻辑，而这段逻辑调用了 <code>window</code> 从而导致错误</p><p>最后我使用了异步 import 来解决这个问题，代码如下：</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">script</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> setup</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> lang</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">ts</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">onMounted</span><span style="--s-dark:#666666;--s-light:#999999">(()</span><span style="--s-dark:#666666;--s-light:#999999"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">  import</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">@amap/amap-jsapi-loader</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">).</span><span style="--s-dark:#80A665;--s-light:#59873A">then</span><span style="--s-dark:#666666;--s-light:#999999">(({</span><span style="--s-dark:#BD976A;--s-light:#B07D48">default</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> AMapLoader</span><span style="--s-dark:#666666;--s-light:#999999">})</span><span style="--s-dark:#666666;--s-light:#999999"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">    AMapLoader</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">load</span><span style="--s-dark:#666666;--s-light:#999999">({</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">      // ...参数</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }).</span><span style="--s-dark:#80A665;--s-light:#59873A">then</span><span style="--s-dark:#666666;--s-light:#999999">((</span><span style="--s-dark:#BD976A;--s-light:#B07D48">AMap</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">      // 进行操作</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }).</span><span style="--s-dark:#80A665;--s-light:#59873A">catch</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">e</span><span style="--s-dark:#666666;--s-light:#999999"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">      console</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">error</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">e</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    });</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  });</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">});</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">script</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span></code></pre><p>首先在 node 环境下 <code>onMounted</code> 是不会执行的，所以我们可以在这里安全地使用 <code>window</code> （或者 <code>document</code> ）</p><p>其次虽然我可以直接插入通过 Nuxt 的配置文件中直接插入 script 标签来引入 SDK ，但其实只有联系我们这个页面才需要用到 SDK 来加载地图</p><p>在其他页面也夹在这个 Loader 是完全没必要的。</p><h1 id="后记" tabindex="-1">后记 <a class="header-anchor" href="#后记">🔗</a></h1><p>整个项目差不多花了两周多一点吧，很开心有一个其他公司的 UI 来帮忙设计。</p><p>使用 JQ 是不可能使用 JQ 的，这辈子都不可能用 JQ</p><p>就算是静态页面，我也要上 Vue 哈哈哈哈哈</p></div><!--]--></div><div flex="~ wrap" text="[var(--mygo-c-text-2)]" mt-8="" gap-4="" justify-center=""><!--[--><div>#Nuxt</div><div>#Vue</div><div>#</div><!--]--></div><!--]--></div></div><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="~ wrap" gap-4=""><a href="/4f1e26b032dc" class="" truncate="" title="在 Hexo 中集成 Swiper"><i class="i-mi:chevron-left" mr-1=""></i><span>在 Hexo 中集成 Swiper</span></a><a href="/2fbccc5e3b09" class="" ml-auto="" truncate="" title="为什么 Async/Await 不只是语法糖"><span>为什么 Async/Await 不只是语法糖</span><i class="i-mi:chevron-right" ml-1=""></i></a></div><!--]--></div></div><!--[--><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-557c65bc="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="" gap-4="" items-start="" data-v-557c65bc=""><div flex="~ shrink-0" bg="[var(--mygo-c-bg-alt)]" rounded-6px="" w-60px="" aspect-ratio-square="" items-center="" justify-center="" data-v-557c65bc=""><i text-40px="" text="[#999]" class="i-fa6-regular:user" data-v-557c65bc=""></i></div><div flex="~ col grow" gap-2="" lg:gap-4="" data-v-557c65bc=""><textarea disabled="" placeholder="万水千山总是情，留下评论行不行" class="mujika-git-talk-textarea" un-disabled:cursor-not-allowed="" p-2="" outline-0="" h-4em="" lg:p-4="" lg:h-8em="" data-v-557c65bc=""></textarea><div flex="" items-start="" data-v-557c65bc=""><a target="_blank" href="https://guides.github.com/features/mastering-markdown/" data-v-557c65bc="">支持 Markdown 语法</a><div ml-auto="" data-v-557c65bc=""></div><!----><button class="mujika-button" data-v-557c65bc="" data-v-15330f5f=""><!--[--><!--]--><!--[-->点击登录<!--]--></button></div></div></div><!--]--></div></div><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-557c65bc="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="" items-center="" justify-center="" data-v-557c65bc="">哦呢该，如果没有评论的话，瓦达西...</div><!----><!--]--></div></div><!--]--></div><aside class="mujika-aside" w="280px" flex="~ col shrink-0" top-2="" sticky="" max-h="[calc(100vh-var(--spacing)*4)]" un-hidden="" lg:block=""><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" flex="~ col" gap-4="" data-v-7ac4adc5=""><!--[--><div p="4 b-0" flex-shrink-0="">文章目录</div><div p="4 t-0" flex-grow="" min-h-0="" overflow-y-auto=""><!----></div><!--]--></div></aside><!--teleport start--><!--teleport end--></div></main><footer class="mujika-footer" px-4="" py-6="" bg="[var(--mygo-c-bg)]" flex="~ col shrink-0" gap-2="" items-center="" data-v-689781c6=""><div flex="" items-center="" data-v-689781c6=""><span data-v-689781c6="">由&nbsp;</span><i class="i-logos:vue" data-v-689781c6=""></i><span data-v-689781c6="">&nbsp;+&nbsp;</span><i class="i-logos:vitejs" data-v-689781c6=""></i><span data-v-689781c6="">&nbsp;驱动</span></div><div text-center="" data-v-689781c6=""><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" data-v-689781c6="">CC BY-NC-SA 4.0 </a>2021 - PRESENT © Dedicatus545</div><div text="[var(--mygo-c-text-2)]" text-center="" data-v-689781c6="">如果我和狗一样有尾巴的话，一定会藏不住这份喜悦，而尾巴一直摇个不停吧。 - 《秒速五厘米》</div></footer></div></div></body></html>