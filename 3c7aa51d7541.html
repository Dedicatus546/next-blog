<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/logo.svg"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Springä¸­Aopçš„é…ç½®æ–¹å¼</title><script type="importmap">{"imports":{"vue":"https://esm.sh/vue","vue-router":"https://esm.sh/vue-router","pinia":"https://esm.sh/pinia","@vueuse/core":"https://esm.sh/@vueuse/core","@vueuse/components":"https://esm.sh/@vueuse/components","@vueuse/router":"https://esm.sh/@vueuse/router","date-fns":"https://esm.sh/date-fns","nprogress":"https://esm.sh/nprogress","octokit":"https://esm.sh/octokit","pinia-plugin-persistedstate":"https://esm.sh/pinia-plugin-persistedstate","vue-router-better-scroller":"https://esm.sh/vue-router-better-scroller"}}</script><script type="module" async="" crossorigin="" src="/assets/app-C7bQa6bS.js"></script><link rel="stylesheet" crossorigin="" href="/assets/app-C8PKLJNY.css"><link rel="modulepreload" crossorigin="" href="/assets/Springä¸­Aopçš„é…ç½®æ–¹å¼-DQZaLqVl.js"><meta property="og:title" content="Springä¸­Aopçš„é…ç½®æ–¹å¼"><meta name="twitter:title" content="Springä¸­Aopçš„é…ç½®æ–¹å¼"></head><body><div id="app" data-server-rendered="true"><div class="mujika" min-h="100vh" flex="~ col" bg="[--mygo-c-bg-alt]"><header class="mujika-header" flex="~ shrink-0" px-4="" h="70px" bg="[var(--mygo-c-bg)]" items-center="" justify-between="" data-v-c1947e25=""><a href="/" class="" flex="" gap-4="" items-center="" data-v-c1947e25=""><img w="40px" aspect-ratio-square="" src="/logo.svg" alt="æ‹ã®æ­Œçš„logo" data-v-c1947e25=""></a><div data-v-c1947e25=""><div p-1="" flex="" gap-1="" rounded="6px" bg="[var(--mygo-c-bg-alt)]" data-v-c1947e25=""><!--[--><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="bg-[var(--mygo-c-bg)]" title="è‡ªåŠ¨" data-v-c1947e25=""><!--[-->Auto<!--]--></div><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="" title="æ—¥é—´" data-v-c1947e25=""><!--[--><i class="i-ri:sun-line" data-v-c1947e25=""></i><!--]--></div><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="" title="å¤œé—´" data-v-c1947e25=""><!--[--><i class="i-ri:moon-line" data-v-c1947e25=""></i><!--]--></div><!--]--></div></div></header><main class="mujika-home" flex="grow" mx="auto" min-h="0" p-2="" w-full="" un-2xl:w="[calc(96rem-var(--spacing)*2)]"><div flex="" gap-2="" items-start=""><div flex="~ col grow" gap-2="" min-w-0=""><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="~ col" mb-4="" gap-4=""><h1 break-all="" text="34px center">Springä¸­Aopçš„é…ç½®æ–¹å¼</h1></div><div flex="~ col" gap-3="" text="[var(--mygo-c-text-2)]"><div flex="~ wrap" gap-3="" justify-center=""><!----><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:calendar"></i><span un-hidden="" lg:inline="">å‘è¡¨äº</span><span pl-1="">2020-06-11 23:45</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:calendar-check"></i><span un-hidden="" lg:inline="">æ›´æ–°äº</span><span pl-1="">2023-02-13 18:28</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:folder"></i><span un-hidden="" lg:inline="">åˆ†ç±»äº</span><!--[--><a pl-1="" href="/category/ç¼–ç¨‹">ç¼–ç¨‹</a><!--]--></div></div><div flex="~ wrap" gap-3="" justify-center=""><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:file-word"></i><span un-hidden="" lg:inline="">æ€»å­—æ•°</span><span pl-1="">2.1K</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:clock"></i><span un-hidden="" lg:inline="">é˜…è¯»æ—¶é•¿ â‰ˆ</span><span pl-1="">8 åˆ†é’Ÿ</span></div></div></div><div class="mujika-doc-content"><!--[--><div class="kan-doc"><p><code>Spring</code>ä¸­<code>Aop</code>çš„é…ç½®æ–¹å¼</p><h1 id="å‡†å¤‡" tabindex="-1">å‡†å¤‡ <a class="header-anchor" href="#å‡†å¤‡">ğŸ”—</a></h1><p>ä¸€ä¸ª Spring çš„ java é¡¹ç›®ã€‚</p><h1 id="aop-æœ¯è¯­" tabindex="-1">AOP æœ¯è¯­ <a class="header-anchor" href="#aop-æœ¯è¯­">ğŸ”—</a></h1><p>å‡ ä¸ªé‡è¦<code>AOP</code>çš„æœ¯è¯­</p><ul><li>é€šçŸ¥ï¼ˆ<code>Advice</code>ï¼‰</li><li>è¿æ¥ç‚¹ï¼ˆ<code>JoinPoint</code>ï¼‰</li><li>åˆ‡å…¥ç‚¹ï¼ˆ<code>Pointcut</code>ï¼‰</li><li>åˆ‡é¢ï¼ˆ<code>Aspect</code>ï¼‰</li><li>ç›®æ ‡ï¼ˆ<code>target</code>ï¼‰</li></ul><h2 id="é€šçŸ¥ï¼ˆadviceï¼‰" tabindex="-1">é€šçŸ¥ï¼ˆ<code>Advice</code>ï¼‰ <a class="header-anchor" href="#é€šçŸ¥ï¼ˆadviceï¼‰">ğŸ”—</a></h2><p>éœ€è¦ç»‡å…¥çš„ä¸€æ®µé€»è¾‘ä»£ç ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬éœ€è¦æ£€æŸ¥æŸä¸ªå‡½æ•°çš„å‚æ•°æ˜¯å¦åˆæ³•ã€‚</p><p>å°±éœ€è¦åœ¨æ–¹æ³•ä½“ä¹‹å‰ç»‡å…¥ä¸€æ®µé€»è¾‘æ¥åˆ¤æ–­å‚æ•°ã€‚</p><p>è¿™æ®µé€»è¾‘ä¸€èˆ¬ä¸ºä¸€ä¸ªå‡½æ•°ã€‚</p><p>è¿™ä¸ªå‡½æ•°å°±å«åšé€šçŸ¥ã€‚</p><h2 id="è¿æ¥ç‚¹ï¼ˆjoinpointï¼‰" tabindex="-1">è¿æ¥ç‚¹ï¼ˆ<code>JoinPoint</code>ï¼‰ <a class="header-anchor" href="#è¿æ¥ç‚¹ï¼ˆjoinpointï¼‰">ğŸ”—</a></h2><p>è¿æ¥ç‚¹çš„æ„æ€æ˜¯å…è®¸æˆ‘ä»¬åœ¨å“ªäº›åœ°æ–¹å¯ä»¥ç»‡å…¥ä¸€æ®µé€»è¾‘ã€‚</p><p>åœ¨<code>Spring</code>ä¸­ï¼Œå¯ä»¥ç»‡å…¥çš„æ–¹å¼æœ‰<strong>5</strong>ç§ã€‚</p><ul><li><code>Before</code> - å‰ç½®é€šçŸ¥ï¼ˆæ–¹æ³•å‰ï¼‰</li><li><code>After</code> - åç½®é€šçŸ¥ï¼ˆæ–¹æ³•åï¼‰</li><li><code>Around</code> - ç¯ç»•é€šçŸ¥ï¼ˆæ–¹æ³•å‰åï¼‰</li><li><code>AfterReturning</code> - è¿”å›é€šçŸ¥ï¼ˆæ–¹æ³•è¿”å›å€¼ä¹‹åï¼‰</li><li><code>AfterThrowing</code> - å¼‚å¸¸é€šçŸ¥ï¼ˆæ–¹æ³•æŠ›å‡ºå¼‚å¸¸ä¹‹åï¼‰</li></ul><h2 id="åˆ‡å…¥ç‚¹ï¼ˆpointcutï¼‰" tabindex="-1">åˆ‡å…¥ç‚¹ï¼ˆ<code>Pointcut</code>ï¼‰ <a class="header-anchor" href="#åˆ‡å…¥ç‚¹ï¼ˆpointcutï¼‰">ğŸ”—</a></h2><p>æ¯ä¸ªæ–¹æ³•éƒ½å¯ä»¥æœ‰äº”ä¸ªè¿æ¥ç‚¹ã€‚</p><p>ä½†æ˜¯å®é™…ä¸Šæˆ‘ä»¬å¯èƒ½åªéœ€åœ¨æŸäº›åœ°æ–¹ç»‡å…¥ä¸€æ®µé€»è¾‘ã€‚</p><p>è¿™ä¸ªç»‡å…¥çš„è¿æ¥ç‚¹å°±å«åšåˆ‡å…¥ç‚¹ã€‚</p><p>å³è¿æ¥ç‚¹æ˜¯å‘Šè¯‰ä½ å“ªäº›åœ°æ–¹å¯ä»¥ç»‡å…¥ã€‚</p><p>è€Œåˆ‡å…¥ç‚¹æ˜¯å®é™…éœ€è¦ç»‡å…¥çš„åœ°æ–¹ã€‚</p><h2 id="åˆ‡é¢ï¼ˆaspectï¼‰" tabindex="-1">åˆ‡é¢ï¼ˆ<code>Aspect</code>ï¼‰ <a class="header-anchor" href="#åˆ‡é¢ï¼ˆaspectï¼‰">ğŸ”—</a></h2><p>é€šå¸¸ä¸ºä¸€ä¸ªç±»ã€‚</p><p>é‡Œé¢åŒ…æ‹¬äº†è‹¥å¹²çš„é€šçŸ¥ï¼ˆæ–¹æ³•ï¼‰å’Œå¯¹åº”çš„åˆ‡å…¥ç‚¹ã€‚</p><h2 id="ç›®æ ‡ï¼ˆtargetï¼‰" tabindex="-1">ç›®æ ‡ï¼ˆ<code>Target</code>ï¼‰ <a class="header-anchor" href="#ç›®æ ‡ï¼ˆtargetï¼‰">ğŸ”—</a></h2><p>éœ€è¦è¢«é€šçŸ¥çš„å¯¹è±¡ã€‚</p><p>çœŸæ­£çš„ä¸šåŠ¡é€»è¾‘ä¸ä¼šæ„ŸçŸ¥åˆ°æˆ‘ä»¬çš„åˆ‡å…¥ã€‚</p><p>ä¸€åˆ‡ç»‡å…¥éƒ½æ˜¯é€æ˜çš„ï¼Œä¸å¯è§çš„ã€‚</p><h1 id="aop-é…ç½®" tabindex="-1">AOP é…ç½® <a class="header-anchor" href="#aop-é…ç½®">ğŸ”—</a></h1><p>ä¸ºäº†æ¨¡æ‹ŸæœåŠ¡ã€‚</p><p>è¿™é‡Œå»ºç«‹ä¸‰ä¸ªç±»æ¥æµ‹è¯•ã€‚</p><p>ä¸€ä¸ªæ˜¯<code>POJO</code>çš„<code>Person</code>ç±»ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82"> Person</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    private</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> int</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    private</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> String</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> name</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // çœç•¥getterå’Œsetteræ–¹æ³•</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><p>ä¸€ä¸ªæ˜¯<code>Service</code>çš„<code>PersonService</code>ç±»æ¥æ¨¡æ‹Ÿå¯¹<code>Person</code>çš„æœåŠ¡æ“ä½œã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82"> PersonService</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // è‹¥å¹²çš„æœåŠ¡</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><p>ä¸€ä¸ªæ˜¯åˆ‡é¢ç±»ï¼ˆ<code>Aspect</code>ï¼‰ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82"> Aop</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // ä¸€äº›åˆ‡å…¥ç‚¹å’Œå¯¹åº”çš„é€šçŸ¥</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><h2 id="xmlé…ç½®" tabindex="-1"><code>XML</code>é…ç½® <a class="header-anchor" href="#xmlé…ç½®">ğŸ”—</a></h2><p>è¿™é‡Œæˆ‘ä»¬åœ¨<code>PersonService</code>é‡Œé¢å¢åŠ ä¸€ä¸ªæ–¹æ³•ã€‚</p><p>æ¨¡æ‹Ÿè·å–ä¸€ä¸ª<code>Person</code>å¯¹è±¡ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82"> PersonService</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    public</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> Person </span><span style="--s-dark:#80A665;--s-light:#59873A">findPersonById</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#CB7676;--s-light:#AB5959">int</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">        // æ¨¡æ‹Ÿå–å‡ºä¸€æ¡æ•°æ®</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">        Person</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> person</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> new</span><span style="--s-dark:#80A665;--s-light:#59873A"> Person</span><span style="--s-dark:#666666;--s-light:#999999">();</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        person</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">setId</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">id</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        person</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">setName</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">lwf</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">æŸ¥è¯¢ä¸­...</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">        return</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> person</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><p>æˆ‘ä»¬éœ€è¦å…ˆæŠŠåˆ‡é¢(<code>Aop</code>)ç±»ï¼ŒæœåŠ¡(<code>PersonService</code>)ç±»ã€‚</p><p>é…ç½®ä¸º<code>Bean</code>ï¼Œè®©<code>Spring</code>ç®¡ç†å®ƒä»¬ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-xml"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;?</span><span style="--s-dark:#4D9375;--s-light:#1E754F">xml</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> version</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">1.0</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> encoding</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">UTF-8</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999"> ?&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">beans</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> xmlns</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/beans</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xmlns</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">xsi</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.w3.org/2001/XMLSchema-instance</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xsi</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">schemaLocation</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/beans</span></span>
<span class="line"><span style="--s-dark:#C98A7D;--s-light:#B56959">                           http://www.springframework.org/schema/beans/spring-beans.xsd</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">personService</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> class</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">service.PersonService</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> class</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop.Aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">beans</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span></code></pre><p>ç°åœ¨æˆ‘ä»¬æƒ³åœ¨<code>findPersonById</code>è¿™ä¸ªæœåŠ¡å‰æ‰“å°æ—¥å¿—ã€‚</p><p>è¾“å‡ºæŸ¥è¯¢çš„<code>id</code>ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82"> Aop</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> void</span><span style="--s-dark:#80A665;--s-light:#59873A"> before</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">JoinPoint </span><span style="--s-dark:#BD976A;--s-light:#B07D48">joinPoint</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> throws</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> Exception </span><span style="--s-dark:#666666;--s-light:#999999">{</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">        Object</span><span style="--s-dark:#666666;--s-light:#999999">[]</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> args</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> joinPoint</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">getArgs</span><span style="--s-dark:#666666;--s-light:#999999">();</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">        int</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#CB7676;--s-light:#AB5959">int</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> args</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#4C9A91;--s-light:#2F798A">0</span><span style="--s-dark:#666666;--s-light:#999999">];</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">logger: </span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> +</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> id </span><span style="--s-dark:#CB7676;--s-light:#AB5959">+</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">çš„Personå¼€å§‹æŸ¥è¯¢</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><p>å†™å®Œé€šçŸ¥ä¹‹åéœ€è¦åœ¨<code>xml</code>é…ç½®è¿™ä¸ªé€šçŸ¥ç»‡å…¥<code>findPersonById</code>è¿™ä¸ªæœåŠ¡ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-xml"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;?</span><span style="--s-dark:#4D9375;--s-light:#1E754F">xml</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> version</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">1.0</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> encoding</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">UTF-8</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999"> ?&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">beans</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> xmlns</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/beans</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xmlns</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">xsi</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.w3.org/2001/XMLSchema-instance</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xsi</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">schemaLocation</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/beans</span></span>
<span class="line"><span style="--s-dark:#C98A7D;--s-light:#B56959">                           http://www.springframework.org/schema/beans/spring-beans.xsd</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">personService</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> class</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">service.PersonService</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> class</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop.Aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    &lt;!-- aopçš„é…ç½® --&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">config</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">        &lt;!-- é…ç½®ä¸€ä¸ªåˆ‡é¢ --&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">        &lt;!-- refå¼•ç”¨ä¸€ä¸ªbean --&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">        &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aspect</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> ref</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">            &lt;!-- é…ç½®ä¸€ä¸ªåˆ‡ç‚¹ --&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">            &lt;!-- methodæŒ‡å®šé€šçŸ¥ --&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">            &lt;!-- pointcutæŒ‡å®šç›®æ ‡ --&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">            &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">before</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> method</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">before</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">                        pointcut</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">execution(public * service.PersonService.findPersonById(int))</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">before</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">        &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aspect</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">config</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">beans</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span></code></pre><p>å†™ä¸ªæµ‹è¯•ç±»æ¥æµ‹è¯•ä¸‹ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82"> SpringTest</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    @</span><span style="--s-dark:#CB7676;--s-light:#AB5959">Test</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> void</span><span style="--s-dark:#80A665;--s-light:#59873A"> test01</span><span style="--s-dark:#666666;--s-light:#999999">()</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">        ClassPathXmlApplicationContext</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> applicationContext</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> new</span><span style="--s-dark:#80A665;--s-light:#59873A"> ClassPathXmlApplicationContext</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">spring.xml</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">        PersonService</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> personService</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> applicationContext</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">getBean</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">personService</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> PersonService</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">class</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">        Person</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> person</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> personService</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">findPersonById</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#4C9A91;--s-light:#2F798A">100</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">person</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><p>è¿è¡Œä¹‹åï¼Œå¯ä»¥çœ‹è§ç¡®å®åœ¨æ–¹æ³•è°ƒç”¨ä¹‹å‰ç»‡å…¥äº†æ—¥å¿—çš„é€šçŸ¥ï¼š</p><p><a data-fancybox="doc-gallery" href="https://i.loli.net/2019/11/23/fDCVry2SU5GKsEQ.png" target="_blank" rel="noopener noreferrer"><img src="https://i.loli.net/2019/11/23/fDCVry2SU5GKsEQ.png" alt=""></a></p><p>ä¸Šé¢é…ç½®äº†å‰ç½®é€šçŸ¥ã€‚</p><p>åç½®é€šçŸ¥å’Œå‰ç½®é€šçŸ¥å·®ä¸å¤šã€‚</p><p>åªéœ€è¦æ”¹å˜ä¸‹å‚æ•°å°±è¡Œã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-xml"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">beans</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> xmlns</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/beans</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xmlns</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">xsi</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.w3.org/2001/XMLSchema-instance</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xsi</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">schemaLocation</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/beans</span></span>
<span class="line"><span style="--s-dark:#C98A7D;--s-light:#B56959">                           http://www.springframework.org/schema/beans/spring-beans.xsd</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">personService</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> class</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">service.PersonService</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> class</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop.Aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">config</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">        &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aspect</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> ref</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">            &lt;!-- çœç•¥å…¶ä»–é…ç½® --&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">            &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">before</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> method</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">after</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">                        pointcut</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">execution(public * service.PersonService.findPersonById(int))</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">before</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">        &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aspect</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">config</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">beans</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span></code></pre><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82"> Aop</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // çœç•¥å…¶ä»–é€šçŸ¥</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> void</span><span style="--s-dark:#80A665;--s-light:#59873A"> after</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">JoinPoint </span><span style="--s-dark:#BD976A;--s-light:#B07D48">joinPoint</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">        Object</span><span style="--s-dark:#666666;--s-light:#999999">[]</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> args</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> joinPoint</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">getArgs</span><span style="--s-dark:#666666;--s-light:#999999">();</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">        int</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#CB7676;--s-light:#AB5959">int</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> args</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#4C9A91;--s-light:#2F798A">0</span><span style="--s-dark:#666666;--s-light:#999999">];</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">logger: </span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> +</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> id </span><span style="--s-dark:#CB7676;--s-light:#AB5959">+</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">çš„PersonæŸ¥è¯¢å®Œæˆ</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><p>è¿è¡Œä¹‹å‰çš„<code>test01</code>ä¹‹åå¯ä»¥çœ‹åˆ°åœ¨æœåŠ¡ä¹‹åç»‡å…¥äº†é€»è¾‘ã€‚</p><p><a data-fancybox="doc-gallery" href="https://i.loli.net/2019/11/23/iZnpvQ9I5ft8XJD.png" target="_blank" rel="noopener noreferrer"><img src="https://i.loli.net/2019/11/23/iZnpvQ9I5ft8XJD.png" alt=""></a></p><p>ç°åœ¨æ¥é…ç½®ä¸‹<code>afterReturning</code>å’Œ<code>afterThrowing</code>ã€‚</p><p>çœ‹åå­—å¾ˆå®¹æ˜“çœ‹å‡ºï¼Œå°±æ˜¯åœ¨è¿”å›å€¼æˆ–è€…æŠ›å‡ºå¼‚å¸¸ä¹‹åè¿è¡Œã€‚</p><p>å…ˆé…ç½®<code>afterReturning</code>ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-xml"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">beans</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> xmlns</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/beans</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xmlns</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">xsi</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.w3.org/2001/XMLSchema-instance</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xsi</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">schemaLocation</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/beans</span></span>
<span class="line"><span style="--s-dark:#C98A7D;--s-light:#B56959">                           http://www.springframework.org/schema/beans/spring-beans.xsd</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">personService</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> class</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">service.PersonService</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> class</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop.Aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">config</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">        &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aspect</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> ref</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">            &lt;!-- çœç•¥å…¶ä»–é…ç½® --&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">            &lt;!-- returningè®¾ç½®å…¥å‚çš„åå­—ï¼Œé€šçŸ¥çš„å‚æ•°åå¿…é¡»å’Œè¿™é‡Œçš„åå­—ä¸€è‡´ --&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">            &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">after-returning</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> method</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">afterReturning</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">                                 pointcut</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">execution(public * service.PersonService.findPersonById(int))</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">                                 returning</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">person</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">after-returning</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">        &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aspect</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">config</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">beans</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span></code></pre><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82"> Aop</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // çœç•¥å…¶ä»–é€šçŸ¥</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> void</span><span style="--s-dark:#80A665;--s-light:#59873A"> afterReturning</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">Person </span><span style="--s-dark:#BD976A;--s-light:#B07D48">person</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">logger: è¿”å›äº†Personå¯¹è±¡: </span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> +</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> person</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><p>è¿è¡Œ<code>test01</code>ï¼Œå¯ä»¥çœ‹åˆ°ç»‡å…¥æˆåŠŸï¼š</p><p><a data-fancybox="doc-gallery" href="https://i.loli.net/2019/11/23/I4lC5h2ptjBk6SY.png" target="_blank" rel="noopener noreferrer"><img src="https://i.loli.net/2019/11/23/I4lC5h2ptjBk6SY.png" alt=""></a></p><p>å†æ¥é…ç½®<code>afterThrowing</code>ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-xml"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">beans</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> xmlns</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/beans</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xmlns</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">xsi</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.w3.org/2001/XMLSchema-instance</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xsi</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">schemaLocation</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/beans</span></span>
<span class="line"><span style="--s-dark:#C98A7D;--s-light:#B56959">                           http://www.springframework.org/schema/beans/spring-beans.xsd</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">personService</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> class</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">service.PersonService</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> class</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop.Aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">config</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">        &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aspect</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> ref</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">            &lt;!-- çœç•¥å…¶ä»–é…ç½® --&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">            &lt;!-- throwingè®¾ç½®å¼‚å¸¸å‚æ•°çš„åå­—ï¼Œé€šçŸ¥çš„å‚æ•°åå¿…é¡»å’Œè¿™é‡Œçš„åå­—ä¸€è‡´ --&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">            &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">after-throwing</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> method</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">afterThrowing</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">                                pointcut</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">execution(public * service.PersonService.findPersonById(int))</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">                                throwing</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">ex</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">after-throwing</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">        &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aspect</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">config</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">beans</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span></code></pre><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82"> Aop</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // çœç•¥å…¶ä»–é€šçŸ¥</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> void</span><span style="--s-dark:#80A665;--s-light:#59873A"> afterThrowing</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">Exception </span><span style="--s-dark:#BD976A;--s-light:#B07D48">ex</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">logger: æ•æ‰åˆ°å¼‚å¸¸: </span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> +</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> ex</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">getMessage</span><span style="--s-dark:#666666;--s-light:#999999">());</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><p>ä¸ºäº†æŸ¥çœ‹å¼‚å¸¸é€šçŸ¥çš„æ•ˆæœã€‚</p><p>æˆ‘ä»¬åœ¨<code>findPersonById</code>æ¨¡æ‹Ÿã€‚</p><p>å¦‚æœ<code>id</code>ä¸º<code>0</code>å°±æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82"> PersonService</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    public</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> Person </span><span style="--s-dark:#80A665;--s-light:#59873A">findPersonById</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#CB7676;--s-light:#AB5959">int</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">        // æ¨¡æ‹Ÿå–å‡ºä¸€æ¡æ•°æ®</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">        Person</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> person</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> new</span><span style="--s-dark:#80A665;--s-light:#59873A"> Person</span><span style="--s-dark:#666666;--s-light:#999999">();</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        person</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">setId</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">id</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        person</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">setName</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">lwf</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">æŸ¥è¯¢ä¸­...</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">        if</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">id </span><span style="--s-dark:#CB7676;--s-light:#AB5959">==</span><span style="--s-dark:#4C9A91;--s-light:#2F798A"> 0</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">            throw</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> new</span><span style="--s-dark:#80A665;--s-light:#59873A"> Exception</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">å‡ºé”™äº†ï¼Œæ²¡æŸ¥åˆ°~~</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">        }</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">        return</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> person</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><p>ç„¶åæˆ‘ä»¬ä¿®æ”¹ä¸‹<code>test01</code></p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82"> SpringTest</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    @</span><span style="--s-dark:#CB7676;--s-light:#AB5959">Test</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> void</span><span style="--s-dark:#80A665;--s-light:#59873A"> test01</span><span style="--s-dark:#666666;--s-light:#999999">()</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">        ClassPathXmlApplicationContext</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> applicationContext</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> new</span><span style="--s-dark:#80A665;--s-light:#59873A"> ClassPathXmlApplicationContext</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">spring.xml</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">        PersonService</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> personService</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> applicationContext</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">getBean</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">personService</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> PersonService</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">class</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">        try</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">            Person</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> person</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> personService</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">findPersonById</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#4C9A91;--s-light:#2F798A">0</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">            System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">person</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">        }</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> catch</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">Exception </span><span style="--s-dark:#BD976A;--s-light:#B07D48">e</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">        }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><p>è¿è¡Œä¹‹åå¯ä»¥çœ‹åˆ°ç¡®å®æ•è·åˆ°äº†å¼‚å¸¸</p><p><a data-fancybox="doc-gallery" href="https://i.loli.net/2019/11/23/8BiD9vjAgmLr7wt.png" target="_blank" rel="noopener noreferrer"><img src="https://i.loli.net/2019/11/23/8BiD9vjAgmLr7wt.png" alt=""></a></p><p>æ¥ä¸‹æ¥æ˜¯ç¯ç»•é€šçŸ¥çš„é…ç½®ã€‚</p><p>ç¯ç»•é€šçŸ¥çš„é…ç½®å’Œå…¶ä»–çš„æœ‰æ‰€ä¸åŒã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-xml"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">beans</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> xmlns</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/beans</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xmlns</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">xsi</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.w3.org/2001/XMLSchema-instance</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xsi</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">schemaLocation</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/beans</span></span>
<span class="line"><span style="--s-dark:#C98A7D;--s-light:#B56959">                           http://www.springframework.org/schema/beans/spring-beans.xsd</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">personService</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> class</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">service.PersonService</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> class</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop.Aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">bean</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">config</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">        &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aspect</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> ref</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">            &lt;!-- çœç•¥å…¶ä»–é…ç½® --&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">            &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">around</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> method</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">around</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">                        pointcut</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">execution(public * service.PersonService.findPersonById(int))</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">around</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">        &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aspect</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">config</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">beans</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span></code></pre><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82"> Aop</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // çœç•¥å…¶ä»–é€šçŸ¥</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    public</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> Object </span><span style="--s-dark:#80A665;--s-light:#59873A">around</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">ProceedingJoinPoint </span><span style="--s-dark:#BD976A;--s-light:#B07D48">joinPoint</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> throws</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> Throwable </span><span style="--s-dark:#666666;--s-light:#999999">{</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">logger: ç¯ç»•é€šçŸ¥çš„å‰ç½®</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">        // è¿™é‡Œè°ƒç”¨çœŸæ­£çš„é€»è¾‘å¤„ç†</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">        // åœ¨è¿™å‰é¢ï¼Œåœ¨è¿™ä¹‹åéƒ½å¯ä»¥ç»‡å…¥çš„é€»è¾‘</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">        Object</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> proceed</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> joinPoint</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">proceed</span><span style="--s-dark:#666666;--s-light:#999999">();</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">logger: ç¯ç»•é€šçŸ¥çš„åç½®</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">        // ä¸€å®šè¦è¿”å›proceed()å‡½æ•°è¿”å›çš„å€¼</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">        // å› ä¸ºç”Ÿæˆçš„å¯¹è±¡æ˜¯ä»£ç†å¯¹è±¡ï¼Œè¿™æ ·ä»£ç†å¯¹è±¡æ‰èƒ½æ‹¿åˆ°å€¼</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">        return</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> proceed</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><p>è¿è¡Œ<code>test01</code></p><p><a data-fancybox="doc-gallery" href="https://i.loli.net/2019/11/23/BXAUvGLsDphk2Mi.png" target="_blank" rel="noopener noreferrer"><img src="https://i.loli.net/2019/11/23/BXAUvGLsDphk2Mi.png" alt=""></a></p><p>å‘ç°ç¯ç»•çš„åç½®æ²¡æœ‰æ‰§è¡Œã€‚</p><p>åŸå› æ˜¯åœ¨ç›®æ ‡ä¸­æŠ›å‡ºäº†å¼‚å¸¸ï¼Œå‡½æ•°å°±ç»ˆæ­¢è¿è¡Œäº†ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æŠŠ<code>id</code>æ”¹ä¸ºå¤§äº<code>0</code>çš„æ•°ã€‚</p><p>è¿™æ ·å­å°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº†ï¼š</p><p><a data-fancybox="doc-gallery" href="https://i.loli.net/2019/11/23/2DutEKliIcTgY53.png" target="_blank" rel="noopener noreferrer"><img src="https://i.loli.net/2019/11/23/2DutEKliIcTgY53.png" alt=""></a></p><h2 id="æ³¨è§£é…ç½®" tabindex="-1">æ³¨è§£é…ç½® <a class="header-anchor" href="#æ³¨è§£é…ç½®">ğŸ”—</a></h2><p>æ³¨è§£çš„è¯å…¶å®éƒ½å·®ä¸å¤šï¼š</p><ul><li><code>@Aspect</code> é…ç½®åˆ‡é¢</li><li><code>@Before</code> å‰ç½®é€šçŸ¥</li><li><code>@After</code> åç½®é€šçŸ¥</li><li><code>@AfterReturning</code> è¿”å›é€šçŸ¥</li><li><code>@AfterThrowing</code> å¼‚å¸¸é€šçŸ¥</li></ul><p>å…ˆåœ¨<code>xml</code>é…ç½®å¼€å¯<code>bean</code>æ³¨è§£å’Œ<code>aop</code>æ³¨è§£ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-xml"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;?</span><span style="--s-dark:#4D9375;--s-light:#1E754F">xml</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> version</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">1.0</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> encoding</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">UTF-8</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999"> ?&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">beans</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> xmlns</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/beans</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xmlns</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">xsi</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.w3.org/2001/XMLSchema-instance</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xmlns</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">aop</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xmlns</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">context</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/context</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">       xsi</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48">schemaLocation</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">http://www.springframework.org/schema/beans</span></span>
<span class="line"><span style="--s-dark:#C98A7D;--s-light:#B56959">                           http://www.springframework.org/schema/beans/spring-beans.xsd</span></span>
<span class="line"><span style="--s-dark:#C98A7D;--s-light:#B56959">                           http://www.springframework.org/schema/context</span></span>
<span class="line"><span style="--s-dark:#C98A7D;--s-light:#B56959">                           http://www.springframework.org/schema/context/spring-context.xsd</span></span>
<span class="line"><span style="--s-dark:#C98A7D;--s-light:#B56959">                           http://www.springframework.org/schema/aop</span></span>
<span class="line"><span style="--s-dark:#C98A7D;--s-light:#B56959">                           http://www.springframework.org/schema/aop/spring-aop.xsd</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    &lt;!-- é…ç½®beanæ³¨è§£ --&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">context</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">component-scan</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> base-package</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">pojo,aop</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">/&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    &lt;!-- é…ç½®aopæ³¨è§£ --&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aop</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F">aspectj-autoproxy</span><span style="--s-dark:#666666;--s-light:#999999">/&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">beans</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span></code></pre><p>åœ¨<code>PersonService</code>ä¸Šé…ç½®<code>@Component</code>ã€‚</p><p>ç„¶ååœ¨<code>Aop</code>ç±»ä¸Šæ ‡æ³¨ç›¸åº”çš„æ³¨è§£å°±å¯ä»¥äº†ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">@</span><span style="--s-dark:#CB7676;--s-light:#AB5959">Aspect</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">@</span><span style="--s-dark:#CB7676;--s-light:#AB5959">Component</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82"> Aop</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    @</span><span style="--s-dark:#CB7676;--s-light:#AB5959">Before</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">execution(public * service.PersonService.findPersonById(int))</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">)</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> void</span><span style="--s-dark:#80A665;--s-light:#59873A"> before</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">JoinPoint </span><span style="--s-dark:#BD976A;--s-light:#B07D48">joinPoint</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">        Object</span><span style="--s-dark:#666666;--s-light:#999999">[]</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> args</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> joinPoint</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">getArgs</span><span style="--s-dark:#666666;--s-light:#999999">();</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">        int</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#CB7676;--s-light:#AB5959">int</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> args</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#4C9A91;--s-light:#2F798A">0</span><span style="--s-dark:#666666;--s-light:#999999">];</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">logger: </span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> +</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> id </span><span style="--s-dark:#CB7676;--s-light:#AB5959">+</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">çš„Personå¼€å§‹æŸ¥è¯¢</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    @</span><span style="--s-dark:#CB7676;--s-light:#AB5959">After</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">execution(public * service.PersonService.findPersonById(int))</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">)</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> void</span><span style="--s-dark:#80A665;--s-light:#59873A"> after</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">JoinPoint </span><span style="--s-dark:#BD976A;--s-light:#B07D48">joinPoint</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">        Object</span><span style="--s-dark:#666666;--s-light:#999999">[]</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> args</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> joinPoint</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">getArgs</span><span style="--s-dark:#666666;--s-light:#999999">();</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">        int</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> id</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#CB7676;--s-light:#AB5959">int</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> args</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#4C9A91;--s-light:#2F798A">0</span><span style="--s-dark:#666666;--s-light:#999999">];</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">logger: </span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> +</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> id </span><span style="--s-dark:#CB7676;--s-light:#AB5959">+</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">çš„PersonæŸ¥è¯¢å®Œæˆ</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    @</span><span style="--s-dark:#CB7676;--s-light:#AB5959">Around</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">execution(public * service.PersonService.findPersonById(int))</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">)</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    public</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> Object </span><span style="--s-dark:#80A665;--s-light:#59873A">around</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">ProceedingJoinPoint </span><span style="--s-dark:#BD976A;--s-light:#B07D48">joinPoint</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> throws</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> Throwable </span><span style="--s-dark:#666666;--s-light:#999999">{</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">logger: ç¯ç»•é€šçŸ¥çš„å‰ç½®</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">        Object</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> proceed</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> joinPoint</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">proceed</span><span style="--s-dark:#666666;--s-light:#999999">();</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">logger: ç¯ç»•é€šçŸ¥çš„åç½®</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">        return</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> proceed</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    @</span><span style="--s-dark:#CB7676;--s-light:#AB5959">AfterReturning</span><span style="--s-dark:#666666;--s-light:#999999">(</span></span>
<span class="line"><span style="--s-dark:#C99076;--s-light:#A65E2B">            pointcut</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">execution(public * service.PersonService.findPersonById(int))</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#C99076;--s-light:#A65E2B">            returning</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">person</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    )</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> void</span><span style="--s-dark:#80A665;--s-light:#59873A"> afterReturning</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">Person </span><span style="--s-dark:#BD976A;--s-light:#B07D48">person</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">logger: è¿”å›äº†Personå¯¹è±¡: </span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> +</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34"> person</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    @</span><span style="--s-dark:#CB7676;--s-light:#AB5959">AfterThrowing</span><span style="--s-dark:#666666;--s-light:#999999">(</span></span>
<span class="line"><span style="--s-dark:#C99076;--s-light:#A65E2B">            pointcut</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">execution(public * service.PersonService.findPersonById(int))</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#C99076;--s-light:#A65E2B">            throwing</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">ex</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    )</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    public</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> void</span><span style="--s-dark:#80A665;--s-light:#59873A"> afterThrowing</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">Exception </span><span style="--s-dark:#BD976A;--s-light:#B07D48">ex</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">        System</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">out</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">println</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">logger: æ•æ‰åˆ°å¼‚å¸¸: </span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> +</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> ex</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">getMessage</span><span style="--s-dark:#666666;--s-light:#999999">());</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><p>è¿è¡Œ<code>test01</code>çš„ç»“æœå’Œ<code>xml</code>é…ç½®çš„ä¸€æ ·ã€‚</p><h1 id="åè®°" tabindex="-1">åè®° <a class="header-anchor" href="#åè®°">ğŸ”—</a></h1><p>ä¸€ä¸ªç›®æ ‡ä¹Ÿå¯ä»¥ç»‡å…¥å¤šä¸ªé€šçŸ¥ã€‚</p><p>è¿™æ—¶å€™å°±å¯ä»¥ç”¨<code>@Order</code>æ³¨è§£æ¥é…ç½®å…ˆåé¡ºåºã€‚</p></div><!--]--></div><div flex="~ wrap" text="[var(--mygo-c-text-2)]" mt-8="" gap-4="" justify-center=""><!--[--><div>#Java</div><!--]--></div><!--]--></div></div><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="~ wrap" gap-4=""><a href="/5882a36e807b" class="" truncate="" title="Springä¸­Beançš„é…ç½®æ–¹å¼"><i class="i-mi:chevron-left" mr-1=""></i><span>Springä¸­Beançš„é…ç½®æ–¹å¼</span></a><a href="/2e2de6627a5c" class="" ml-auto="" truncate="" title="JavaScriptä¸­çš„Promise"><span>JavaScriptä¸­çš„Promise</span><i class="i-mi:chevron-right" ml-1=""></i></a></div><!--]--></div></div><!--[--><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-557c65bc="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="" gap-4="" items-start="" data-v-557c65bc=""><div flex="~ shrink-0" bg="[var(--mygo-c-bg-alt)]" rounded-6px="" w-60px="" aspect-ratio-square="" items-center="" justify-center="" data-v-557c65bc=""><i text-40px="" text="[#999]" class="i-fa6-regular:user" data-v-557c65bc=""></i></div><div flex="~ col grow" gap-2="" lg:gap-4="" data-v-557c65bc=""><textarea disabled="" placeholder="ä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼Œç•™ä¸‹è¯„è®ºè¡Œä¸è¡Œ" class="mujika-git-talk-textarea" un-disabled:cursor-not-allowed="" p-2="" outline-0="" h-4em="" lg:p-4="" lg:h-8em="" data-v-557c65bc=""></textarea><div flex="" items-start="" data-v-557c65bc=""><a target="_blank" href="https://guides.github.com/features/mastering-markdown/" data-v-557c65bc="">æ”¯æŒ Markdown è¯­æ³•</a><div ml-auto="" data-v-557c65bc=""></div><!----><button class="mujika-button" data-v-557c65bc="" data-v-15330f5f=""><!--[--><!--]--><!--[-->ç‚¹å‡»ç™»å½•<!--]--></button></div></div></div><!--]--></div></div><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-557c65bc="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="" items-center="" justify-center="" data-v-557c65bc="">å“¦å‘¢è¯¥ï¼Œå¦‚æœæ²¡æœ‰è¯„è®ºçš„è¯ï¼Œç“¦è¾¾è¥¿...</div><!----><!--]--></div></div><!--]--></div><aside class="mujika-aside" w="280px" flex="~ col shrink-0" top-2="" sticky="" max-h="[calc(100vh-var(--spacing)*4)]" un-hidden="" lg:block=""><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" flex="~ col" gap-4="" data-v-7ac4adc5=""><!--[--><div p="4 b-0" flex-shrink-0="">æ–‡ç« ç›®å½•</div><div p="4 t-0" flex-grow="" min-h-0="" overflow-y-auto=""><!----></div><!--]--></div></aside><!--teleport start--><!--teleport end--></div></main><footer class="mujika-footer" px-4="" py-6="" bg="[var(--mygo-c-bg)]" flex="~ col shrink-0" gap-2="" items-center="" data-v-be8724f6=""><div flex="" items-center="" data-v-be8724f6=""><span data-v-be8724f6="">ç”±&nbsp;</span><i class="i-logos:vue" data-v-be8724f6=""></i><span data-v-be8724f6="">&nbsp;+&nbsp;</span><i class="i-logos:vitejs" data-v-be8724f6=""></i><span data-v-be8724f6="">&nbsp;é©±åŠ¨</span></div><div text-center="" data-v-be8724f6=""><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" data-v-be8724f6="">CC BY-NC-SA 4.0 </a>2021 - PRESENT Â© Dedicatus545</div><div text="[var(--mygo-c-text-2)]" text-center="" data-v-be8724f6="">å¦‚æœæˆ‘å’Œç‹—ä¸€æ ·æœ‰å°¾å·´çš„è¯ï¼Œä¸€å®šä¼šè—ä¸ä½è¿™ä»½å–œæ‚¦ï¼Œè€Œå°¾å·´ä¸€ç›´æ‘‡ä¸ªä¸åœå§ã€‚ - ã€Šç§’é€Ÿäº”å˜ç±³ã€‹</div></footer></div></div></body></html>