import{createElementBlock as e,openBlock as t,createStaticVNode as n}from"vue";import{c as l}from"./app-C7bQa6bS.js";import"nprogress";import"pinia-plugin-persistedstate";import"vue-router";import"vue-router-better-scroller";import"@vueuse/core";import"@vueuse/components";import"@vueuse/router";import"octokit";import"pinia";import"date-fns";const p={class:"kan-doc"},C="browserslist 学习",v=["browserslist"],q=["编程"],x=1675241276,j="2023-02-01T16:47:56.000Z",w="2023-02-17T18:03:31.000Z",E=9343,F=[{property:"og:title",content:"browserslist 学习"},{name:"twitter:title",content:"browserslist 学习"}],_={__name:"browserslist-学习",setup(r,{expose:a}){return a({frontmatter:{title:"browserslist 学习",tags:["browserslist"],categories:["编程"],key:1675241276,date:"2023-02-01T16:47:56.000Z",updated:"2023-02-17T18:03:31.000Z",wordCount:9343,meta:[{property:"og:title",content:"browserslist 学习"},{name:"twitter:title",content:"browserslist 学习"}]}}),l({title:"browserslist 学习",meta:[{property:"og:title",content:"browserslist 学习"},{name:"twitter:title",content:"browserslist 学习"}]}),(o,s)=>(t(),e("div",p,s[0]||(s[0]=[n(`<h1 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言">🔗</a></h1><blockquote><p>The config to share target browsers and Node.js versions between different front-end tools</p></blockquote><p>一个能在不同前端工具中共享目标浏览器和 <code>node</code> 版本的配置</p><p>很多时候我们打包一个项目很多时候都交给三大框架的 <code>cli</code> 工具</p><p><code>vue-cli</code>，<code>create-react-app</code> 以及 <code>angular-cli</code>，使用三大框架的时候大部分情况下我们都无需在意兼容问题</p><p>框架本身就依赖了一些新的特性，比如 <code>Vue3</code> 的响应式核心 <code>Proxy</code></p><p>又或者是像 <code>vite</code> 这样的工具，暴露了一个 <code>build.target</code> 可以让我们设置 <code>ECMA</code> 版本</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/01/31/202301311628611.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/01/31/202301311628611.avif" alt=""></a></p><p>当然我们在这里也是可以设置浏览器的版本的，不过我基本用不到这个选项，一般都是直接设置成 <code>es2015</code> 的</p><p>而这个所谓的浏览器版本指定，就是这个帖子要写的内容</p><h1 id="正文" tabindex="-1">正文 <a class="header-anchor" href="#正文">🔗</a></h1><p>我们都知道 <code>js</code> 有一套标准，即 <code>ECMAScript</code> ，每年 <code>ECMA</code> 都会发布一些新的特性</p><p>然后浏览器厂商就会开始跟进，在各自的浏览器上实现</p><p>比如 <code>ES2022（ES13）</code> 新增的一些新特性</p><ul><li>顶层 <code>await</code></li><li>类私有变量（<code>#</code> 修饰）</li><li>类的静态执行块</li></ul><p>落实到浏览器上，我们可以通过 <a href="https://caniuse.com/" target="_blank" rel="noopener">Can i use</a> 查询对应特性的兼容情况</p><p>比如我们查询 <code>top await</code> ，兼容如下图</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/01/31/202301311642398.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/01/31/202301311642398.avif" alt=""></a></p><p>可以看到兼容性还是相当不错的，当然 <code>IE</code> 就完全不支持了，毕竟已经被微软判“死刑”了，距离刑期（2023.02.14）也不远了</p><p>无论是什么特性，最终落实的都是浏览器厂商，而且浏览器不止 <code>js</code> 而已， <code>css</code> 也包含其中</p><p>而 <code>browserslist</code> 的本质为指定一组浏览器的版本，而不是宏观上标准的版本</p><p>像 <code>babel</code> <code>postcss</code> 都可以依赖 <code>browserslist</code> 来对代码进行构建</p><p><code>browserslist</code> 的仓库地址 <a href="https://github.com/browserslist/browserslist" target="_blank" rel="noopener">browserslist / browserslist</a></p><p><code>browserslist</code> 支持很多的配置形式</p><p>比如最常见的就是在 <code>package.json</code> 中配置 <code>browserslist</code> 字段</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-json5"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">{</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">  &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">name</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">browserslist-learn</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">  &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">version</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">0.0.1</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">  &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">scripts</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">test</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">echo </span><span style="--s-dark:#C99076;--s-light:#A65E2B;">\\&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">Error: no test specified</span><span style="--s-dark:#C99076;--s-light:#A65E2B;">\\&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;"> &amp;&amp; exit 1</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  },</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">  &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">dependencies</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {},</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">  &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">browserslist</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> [</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">    // ...</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">defaults</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  ]</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span></code></pre><p>或者在项目根目录下创建一个 <code>.browserslistrc</code> 的配置文件</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-text"><span class="line"><span># ...相关配置</span></span>
<span class="line"><span></span></span>
<span class="line"><span>defaults</span></span></code></pre><p>可以看到我们这里配了个字符串 <code>defaults</code> ，这个是一个配置的简化形式</p><p>它真正的值为 <code>&gt; 0.5%, last 2 versions, Firefox ESR, not dead</code></p><p>这里有几个书写形式，<code>&gt; 0.5%</code> ， <code>last n version</code> ， <code>Firefox XX</code> 以及 <code>not dead</code></p><h2 id="查询" tabindex="-1">查询 <a class="header-anchor" href="#查询">🔗</a></h2><h3 id="not-dead" tabindex="-1">not dead <a class="header-anchor" href="#not-dead">🔗</a></h3><p>这里的 <code>not</code> 是一个修饰词，主要需要理解的是 <code>dead</code> 的语义</p><p><code>dead</code> 的意思是包含已经一年没有官方更新过的浏览器，目前来说，这些浏览器包括 <code>IE11</code> ， 移动端 <code>IE11</code>，黑莓浏览器 <code>10</code> 和 <code>7</code> 的版本，三星浏览器 <code>4</code> 的版本，移动端欧朋浏览器的 <code>12.1</code> 版本以及所有版本的百度浏览器</p><p>而加了修饰词 <code>not</code> 之后，意思就是取反</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011008158.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011008158.avif" alt=""></a></p><h3 id="_0-5" tabindex="-1">&gt; 0.5% <a class="header-anchor" href="#_0-5">🔗</a></h3><p>这里的大于号也是一个修饰符，主要理解后面的百分数的语义</p><p><code>0.5%</code> 的意思是某个版本的浏览器在全球市场上所占的份额，这个我们可以在 <a href="https://browsersl.ist/" target="_blank" rel="noopener">browsersl.ist</a> 上查询</p><p>比如我们查询大于 <code>10%</code> 的份额的所有浏览器，这里写成 <code>&gt; 10%</code> 即可</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011020822.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011020822.avif" alt=""></a></p><p>可以看到只有两个版本的浏览器符合，一个是安卓的 <code>Chrome 109</code> 版本（占比 <code>41.5%</code> ），一个是 <code>PC</code> 上的 <code>Chrome 108</code> 版本（占比 <code>16.8%</code> ），合起来占比 <code>58.4%</code></p><p>除了 <code>&gt;</code> ，我们也可用其他比较符号，比如 <code>&gt;=</code> ， <code>&lt;</code> ， <code>&lt;=</code></p><p>比如再查询一个 <code>&lt;= 10%</code> 的浏览器</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011027269.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011027269.avif" alt="截图仅包含部分"></a></p><h3 id="last-n-versions" tabindex="-1">last n versions <a class="header-anchor" href="#last-n-versions">🔗</a></h3><p>这里的 <code>n</code> 为一个数字，表示包含从当前最新版本开始往后计数 <code>n</code> 个版本的浏览器</p><p>比如 <code>last 1 versions</code> ，那么意思就是包含浏览器的最新版本</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011044988.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011044988.avif" alt=""></a></p><p>当然也可以指定某个型号的浏览器，比如 <code>last 1 chrome versions</code> 就只有 <code>Chrome</code> 的最新版本了</p><h3 id="firefox-esr" tabindex="-1">Firefox ESR <a class="header-anchor" href="#firefox-esr">🔗</a></h3><p>这里的意思是指定火狐最新的 Extended Support Release (ESR) 版本</p><p>当然这里是一种比较特殊的写法，通常情况下，我们可能会写成 <code>Firefox &gt;= n</code> 这种形式</p><p>或者 <code>Firefox n</code> 直接指定特定的版本，或者范围版本查询 <code>Firefox n1-n2</code></p><p>比如我们查询 <code>Firefox &gt;= 100</code></p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011102571.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011102571.avif" alt=""></a></p><p>指定版本查询 <code>Firefox 100</code></p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011103627.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011103627.avif" alt=""></a></p><p>指定版本范围 <code>Firefox 100-105</code></p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011104849.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011104849.avif" alt=""></a></p><p>当然，这并不是说只能查询火狐，我们查询 <code>Chrome</code> 的话只要把前面名称换掉即可</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011107480.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011107480.avif" alt=""></a></p><h2 id="组合" tabindex="-1">组合 <a class="header-anchor" href="#组合">🔗</a></h2><p>上面就是比较常见的版本号的书写方式了，还有一些比较少见的方式，这里就不写了，完整的可以查看仓库的 <a href="https://github.com/browserslist/browserslist#full-list" target="_blank" rel="noopener">README</a></p><p>除了查询， <code>browserslist</code> 还提供了一种查询组合操作，主要其实就三个， <code>or</code> ， <code>and</code> 和 <code>not</code></p><p>其中 <code>or</code> 为取并集， <code>and</code> 为取交集，而 <code>not</code> 取补集</p><p>其中 <code>or</code> 可以用逗号 <code>,</code> 来代替</p><p>前面我们说过的 <code>&gt; 0.5%, last 2 versions, Firefox ESR, not dead</code> ，等价于 <code>&gt; 0.5% or last 2 versions or Firefox ESR or not dead</code></p><table><thead><tr><th>操作类型</th><th>图解</th><th>例子</th></tr></thead><tbody><tr><td><code>or</code> / <code>,</code></td><td><img class="tb_img" src="https://fastly.jsdelivr.net/gh/browserslist/browserslist/img/union.svg"></td><td><code>&gt; .5% or last 2 versions</code> <br><code>&gt; .5%, last 2 versions</code></td></tr><tr><td><code>and</code></td><td><img class="tb_img" src="https://fastly.jsdelivr.net/gh/browserslist/browserslist/img/intersection.svg"></td><td><code>&gt; .5% and last 2 versions</code></td></tr><tr><td><code>not</code></td><td><img class="tb_img" src="https://fastly.jsdelivr.net/gh/browserslist/browserslist/img/complement.svg"></td><td>下面三个等价: <br> <code>&gt; .5% and not last 2 versions</code> <br><code>&gt; .5% or not last 2 versions</code> <br> <code>&gt; .5%, not last 2 versions</code> <br></td></tr></tbody></table><p>PS：表格来自官方 <code>README</code> 文档</p><p>这里面比较奇特的就是 <code>not</code> 和 <code>or</code>/<code>and</code> 连用了，注意我们无法直接以 <code>not</code> 直接开头来查询，这在语法上是错误的</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011419218.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011419218.avif" alt="红色的英文提示了必须在 not dead 前放上其他查询"></a></p><p>和 <code>or</code>/<code>and</code> 此时只表示<a href="https://baike.baidu.com/item/%E7%9B%B8%E5%AF%B9%E8%A1%A5%E9%9B%86/942337?fromtitle=%E7%BB%9D%E5%AF%B9%E8%A1%A5%E9%9B%86&amp;fromid=942400&amp;fr=aladdin" target="_blank" rel="noopener">相对补集（点击跳转到百度百科）</a>的意思</p><p>比如我们现在写 <code>Chrome 100-102, not Chrome 100</code> 此时结果为 <code>Chrome 101-102</code></p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011434693.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011434693.avif" alt=""></a></p><p>在 <code>package.json</code> 中配置 <code>browserslist</code> 字段时，可以用字符串，也可以用数组，数组每一项的连接为 <code>or</code></p><p>为了明确我们的项目所设定的浏览器版本范围，我们可以使用 <code>npx browserslist</code> 命令</p><p>比如我们在 <code>package.json</code> 的 <code>browserslist</code> 字段加入如下值</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-json"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">{</span></span>
<span class="line"><span style="--s-dark:#B8A96577;--s-light:#99841877;">  &quot;</span><span style="--s-dark:#B8A965;--s-light:#998418;">browserslist</span><span style="--s-dark:#B8A96577;--s-light:#99841877;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> [</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">Chrome 100</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">Chrome 101</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  ]</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span></code></pre><p>然后我们执行 <code>npx browserslist</code> ，得到如下结果</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011452067.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011452067.avif" alt=""></a></p><p>如果我们改为</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-json"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">{</span></span>
<span class="line"><span style="--s-dark:#B8A96577;--s-light:#99841877;">  &quot;</span><span style="--s-dark:#B8A965;--s-light:#998418;">browserslist</span><span style="--s-dark:#B8A96577;--s-light:#99841877;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> [</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">Chrome 100-101</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">not Chrome 101</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  ]</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span></code></pre><p>此时就只有 <code>Chrome 100</code> 了</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011453140.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011453140.avif" alt=""></a></p><h2 id="应用" tabindex="-1">应用 <a class="header-anchor" href="#应用">🔗</a></h2><h3 id="babel" tabindex="-1">Babel <a class="header-anchor" href="#babel">🔗</a></h3><p>对于 <code>Babel</code> 来说， <code>browserslist</code> 可以帮助 <code>Babel</code> 生成相对应的 <code>polyfill</code></p><p>这里我们以 <code>Promise.resolve</code> 为例，支持 <code>Promise.resolve</code> 的最低 <code>Chrome</code> 版本为 <code>32</code> ，我们就设置为 <code>32</code></p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302012245086.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302012245086.avif" alt=""></a></p><p>我们在 <code>package.json</code> 中设置 <code>browserslist</code> 属性为如下</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-json"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">{</span></span>
<span class="line"><span style="--s-dark:#B8A96577;--s-light:#99841877;">  &quot;</span><span style="--s-dark:#B8A965;--s-light:#998418;">browserslist</span><span style="--s-dark:#B8A96577;--s-light:#99841877;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> [</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">Chrome 32</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  ]</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span></code></pre><p>然后我们配置下 <code>Rollup</code> 的配置文件 <code>rollup.config.js</code> ，添加 <code>Babel</code> 相关的依赖</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-js"><span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> defineConfig</span><span style="--s-dark:#666666;--s-light:#999999;"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">rollup</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> babel</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">@rollup/plugin-babel</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> resolve</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">@rollup/plugin-node-resolve</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> commonjs</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">@rollup/plugin-commonjs</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">export</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> default</span><span style="--s-dark:#80A665;--s-light:#59873A;"> defineConfig</span><span style="--s-dark:#666666;--s-light:#999999;">({</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  input</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">src/main.js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  output</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">    file</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">dist/bundle.js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">    format</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">cjs</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  },</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  plugins</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> [</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">    babel</span><span style="--s-dark:#666666;--s-light:#999999;">({</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      babelHelpers</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">runtime</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      extensions</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> [</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">],</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      exclude</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> [</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">node_modules/**</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">],</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      presets</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> [</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">@babel/env</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">],</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      plugins</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> [</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">        // 自动添加垫片的关键</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">        [</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">          &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">@babel/transform-runtime</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">          {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">            corejs</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 3</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">          },</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">        ],</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">      ],</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    }),</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">    resolve</span><span style="--s-dark:#666666;--s-light:#999999;">({</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      browser</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> true</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    }),</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">    commonjs</span><span style="--s-dark:#666666;--s-light:#999999;">(),</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  ],</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">});</span></span></code></pre><p>然后我们在 <code>src/main.js</code> 中写下如下代码</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-js"><span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">Promise</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">resolve</span><span style="--s-dark:#666666;--s-light:#999999;">().</span><span style="--s-dark:#80A665;--s-light:#59873A;">then</span><span style="--s-dark:#666666;--s-light:#999999;">(()</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">  console</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">log</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">resolve</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">});</span></span></code></pre><p>执行 <code>npx rollup --config rollup.config.js</code></p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011514275.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011514275.avif" alt=""></a></p><p>可以看到打包后的内容并没有什么变化</p><p>然后我们把版本降低一下，降为 <code>Chrome 31</code> ，再次打包</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011521531.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011521531.avif" alt=""></a></p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011522445.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011522445.avif" alt=""></a></p><p>发现此时添加了 <code>Promise</code> 的垫片</p><h3 id="autoprefixer" tabindex="-1">Autoprefixer <a class="header-anchor" href="#autoprefixer">🔗</a></h3><p>除了 <code>Babel</code> ，<code>CSS</code> 中的 <code>PostCSS</code> 中的 <code>Autoprefixer</code> 插件也会根据相应的浏览器添加相关的前缀，这个也是非常常用的插件，省去了我们去写一些 <code>CSS</code> 前缀的工作量</p><p>这里我们用 <code>CSS</code> 的 <code>Flex</code> 布局来做测试，在 <code>Chrome 21-28</code> 下，<code>Flex</code> 需要 <code>-webkit-</code> 前缀</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011618691.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011618691.avif" alt=""></a></p><p>而 <code>28</code> 以上就不用了</p><p>我们在 <code>package.json</code> 中设置 <code>browserslist</code> 属性为如下</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-json"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">{</span></span>
<span class="line"><span style="--s-dark:#B8A96577;--s-light:#99841877;">  &quot;</span><span style="--s-dark:#B8A965;--s-light:#998418;">browserslist</span><span style="--s-dark:#B8A96577;--s-light:#99841877;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> [</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">Chrome 29</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  ]</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span></code></pre><p>我们配置下 <code>rollup.config.js</code></p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-js"><span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> defineConfig</span><span style="--s-dark:#666666;--s-light:#999999;"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">rollup</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> resolve</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">@rollup/plugin-node-resolve</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> commonjs</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">@rollup/plugin-commonjs</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> postcss</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">rollup-plugin-postcss</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> autoprefixer</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">autoprefixer</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">export</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> default</span><span style="--s-dark:#80A665;--s-light:#59873A;"> defineConfig</span><span style="--s-dark:#666666;--s-light:#999999;">({</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  input</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">src/main.js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  output</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">    file</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">dist/bundle.js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">    format</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">cjs</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  },</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  plugins</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> [</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">    postcss</span><span style="--s-dark:#666666;--s-light:#999999;">({</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      plugins</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> [</span><span style="--s-dark:#80A665;--s-light:#59873A;">autoprefixer</span><span style="--s-dark:#666666;--s-light:#999999;">()],</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    }),</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">    resolve</span><span style="--s-dark:#666666;--s-light:#999999;">({</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      browser</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> true</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    }),</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">    commonjs</span><span style="--s-dark:#666666;--s-light:#999999;">(),</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  ],</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">});</span></span></code></pre><p>然后我们写个 <code>src/main.css</code> 文件</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-css"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">flex</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  display</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#C99076;--s-light:#A65E2B;"> flex</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span></code></pre><p>然后我们在 <code>src/main.js</code> 里面引用这个 <code>CSS</code></p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-js"><span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">./main.css</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span></code></pre><p>然后打包</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011635341.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011635341.avif" alt=""></a></p><p>发现生成的 <code>CSS</code> 并没有前缀，我们改成 <code>Chrome 28</code>， 再打包</p><p><a data-fancybox="doc-gallery" href="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011642119.avif" target="_blank" rel="noopener noreferrer"><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2023/02/01/202302011642119.avif" alt=""></a></p><p>发现添加上了 <code>-webkit-</code> 前缀</p><h1 id="后记" tabindex="-1">后记 <a class="header-anchor" href="#后记">🔗</a></h1><p><code>browserslist</code> 平时可能见得不多，因为很多时候都被 <code>cli</code> 给默认处理好了</p><p>现在就能看懂了，并且也能试着配置一些浏览器版本了，也算是扩展了自己的知识面吧…</p>`,125)])))}};export{q as categories,j as date,_ as default,x as key,F as meta,v as tags,C as title,w as updated,E as wordCount};
