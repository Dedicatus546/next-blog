import{createElementBlock as o,openBlock as d,createStaticVNode as c}from"vue";import{c as n}from"./app-u6mH9xpQ.js";import"nprogress";import"pinia-plugin-persistedstate";import"vue-router";import"vue-router-better-scroller";import"@vueuse/core";import"@vueuse/components";import"@vueuse/router";import"octokit";import"pinia";import"date-fns";const a={class:"kan-doc"},_="view-design的Select组件双向绑定问题",y=1634348186,z="2021-10-16T09:36:26.000Z",U="2023-02-13T18:28:44.000Z",G=["JavaScript","Vue","view-design","element-ui"],T=["编程"],V=1082,Z=[{property:"og:title",content:"view-design的Select组件双向绑定问题"},{name:"twitter:title",content:"view-design的Select组件双向绑定问题"}],E={__name:"view-design的Select组件双向绑定问题",setup(i,{expose:t}){return t({frontmatter:{title:"view-design的Select组件双向绑定问题",key:1634348186,date:"2021-10-16T09:36:26.000Z",updated:"2023-02-13T18:28:44.000Z",tags:["JavaScript","Vue","view-design","element-ui"],categories:["编程"],wordCount:1082,meta:[{property:"og:title",content:"view-design的Select组件双向绑定问题"},{name:"twitter:title",content:"view-design的Select组件双向绑定问题"}]}}),n({title:"view-design的Select组件双向绑定问题",meta:[{property:"og:title",content:"view-design的Select组件双向绑定问题"},{name:"twitter:title",content:"view-design的Select组件双向绑定问题"}]}),(l,e)=>(d(),o("div",a,e[0]||(e[0]=[c('<h1 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言">🔗</a></h1><p>view-design 中 <code>Select</code> 组件在 <code>mounted</code> 中双向绑定失效问题。</p><h1 id="demo" tabindex="-1">DEMO <a class="header-anchor" href="#demo">🔗</a></h1><p>这里列出了三个 DEMO，分别是</p><ul><li>element 的 <code>Select</code> 组件，直接在 <code>mounted</code> 钩子内修改 <code>v-model</code> 绑定的值</li><li>view-design 的 <code>Select</code> 组件，直接在 <code>mounted</code> 钩子内修改 <code>v-model</code> 绑定的值</li><li>view-design 的 <code>Select</code> 组件，在 <code>mounted</code> 钩子内使用 <code>nextTicket</code> 修改 <code>v-model</code> 绑定的值</li></ul><p>首先可以看下 element 里面的 <code>Select</code> 组件</p><p><a data-fancybox="doc-gallery" href="https://z3.ax1x.com/2021/10/16/5GVIqU.png" target="_blank" rel="noopener noreferrer"><img src="https://z3.ax1x.com/2021/10/16/5GVIqU.png" alt=""></a></p><p>codesandbox: <a href="https://codesandbox.io/s/zen-sanderson-bxdgo" target="_blank" rel="noopener">element-demo</a></p><p>虽然返回的 <code>data</code> 的 <code>model</code> 值为<code>val-1</code>，但是在 <code>mounted</code> 中的修改为<code>val-2</code>也一致的对应到了 dom 中</p><p>接着是 view-design 里面的 <code>Select</code> 组件</p><p><a data-fancybox="doc-gallery" href="https://z3.ax1x.com/2021/10/16/5Gei0U.png" target="_blank" rel="noopener noreferrer"><img src="https://z3.ax1x.com/2021/10/16/5Gei0U.png" alt=""></a></p><p>codesandbox: <a href="https://codesandbox.io/s/intelligent-knuth-0dh71" target="_blank" rel="noopener">view-design-demo</a></p><p><code>mounted</code> 上对 <code>model</code> 的修改并没有同步到 dom</p><p>解决方法是在更改的位置包一个<code>nextTicket</code></p><p><a data-fancybox="doc-gallery" href="https://z3.ax1x.com/2021/10/16/5GeUjP.png" target="_blank" rel="noopener noreferrer"><img src="https://z3.ax1x.com/2021/10/16/5GeUjP.png" alt=""></a></p><p>codesandbox: <a href="https://codesandbox.io/s/empty-brook-6x9m5" target="_blank" rel="noopener">view-design-demo-fix</a></p><h1 id="后记" tabindex="-1">后记 <a class="header-anchor" href="#后记">🔗</a></h1><p>个人觉得从心智模型上说，element 的方式才是正确的，view-design 应该是内部存在逻辑错误，漏掉了值的更新</p><p>话说 view-design 的 <code>Select</code> 组件 bug 是真的多啊，github 上一堆的 issues</p><p>上面写到的这个情况在最新的 <code>4.6.1</code> 依然存在，甚至在 <code>4.7.0-beta.10</code> 也存在</p><p>所以，选择 UI 框架真的太重要了</p>',21)])))}};export{T as categories,z as date,E as default,y as key,Z as meta,G as tags,_ as title,U as updated,V as wordCount};
