import{_ as $,a as x,b as z,u as C}from"./app-BzoAWw-A.js";import{defineComponent as h,computed as j,createElementBlock as u,openBlock as r,createElementVNode as n,Fragment as k,renderList as M,unref as c,normalizeClass as A,toDisplayString as f,resolveComponent as P,createBlock as L,withCtx as v,createVNode as d}from"vue";import{useRouter as R}from"vue-router";import{storeToRefs as I}from"pinia";import"nprogress";import"pinia-plugin-persistedstate";import"vue-router-better-scroller";import"@vueuse/core";import"@vueuse/components";import"@vueuse/router";import"octokit";import"date-fns";const w={flex:"","gap-2":"","justify-center":"","lg:gap-4":"",class:"mujika-pagination"},B=["disabled"],D=["onClick"],T={key:1},E=["disabled"],m=5,H=h({__name:"MujikaPagination",props:{page:{default:1},pageSize:{default:10},total:{default:0}},emits:["pageChange","update:page"],setup(l,{emit:o}){const p=o,t=j(()=>l.pageSize===0?0:Math.max(1,Math.ceil(l.total/l.pageSize))),_=j(()=>{let e;if(t.value>=m){e=[];const s=Math.ceil((m-2)/2)+1,a=m-s;if(l.page<=s){for(let i=1;i<=m-1;i++)e.push(i);e.push(-1,t.value)}else if(l.page>=t.value-a){e.push(1,-1);for(let i=t.value-m+2;i<=t.value;i++)e.push(i)}else{e.push(1,-1);for(let i=l.page-s+2;i<=l.page+a-1;i++)e.push(i);e.push(-1,t.value)}}else e=Array.from({length:t.value}).map((s,a)=>a+1);return e}),g=e=>{e<1||e>t.value||(p("pageChange",e),p("update:page",e))};return(e,s)=>(r(),u("div",w,[n("button",{disabled:e.page<=1,class:"mujika-pagination-button",onClick:s[0]||(s[0]=a=>g(e.page-1))},s[2]||(s[2]=[n("i",{class:"i-mi:caret-left"},null,-1)]),8,B),(r(!0),u(k,null,M(c(_),a=>(r(),u(k,{key:a},[a>0?(r(),u("button",{key:0,class:A(["mujika-pagination-button",{active:e.page===a}]),onClick:i=>g(a)},f(a),11,D)):(r(),u("div",T,"..."))],64))),128)),n("button",{disabled:e.page>=c(t),class:"mujika-pagination-button",onClick:s[1]||(s[1]=a=>g(e.page+1))},s[3]||(s[3]=[n("i",{class:"i-mi:caret-right"},null,-1)]),8,E)]))}}),N=$(H,[["__scopeId","data-v-fa744100"]]),V={flex:"~ col","gap-4":""},q={"break-all":"",text:"34px center"},F=["innerHTML"],G=h({__name:"MujikaPostListItem",props:{post:{}},setup(l){return(o,p)=>{const t=P("RouterLink");return r(),L(x,{"padding-level":2},{default:v(()=>[n("div",V,[d(t,{to:o.post.path},{default:v(()=>[n("h2",q,f(o.post.title),1)]),_:1},8,["to"]),d(z,{page:o.post},null,8,["page"]),n("div",{class:"kan-doc",innerHTML:o.post.excerpt},null,8,F)])]),_:1})}}}),J={flex:"","gap-4":"","items-center":""},K={flex:"~ col","gap-1":"","items-center":""},O={flex:"~ col","gap-1":"","items-center":""},Q={flex:"~ col","gap-1":"","items-center":""},U=h({__name:"MujikaAuthorStatistic",setup(l){const o=C();return(p,t)=>(r(),u("div",J,[n("div",K,[t[0]||(t[0]=n("div",null,"文章",-1)),n("div",null,f(c(o).state.list.length),1)]),n("div",O,[t[1]||(t[1]=n("div",null,"分类",-1)),n("div",null,f(c(o).categoryList.length),1)]),n("div",Q,[t[2]||(t[2]=n("div",null,"标签",-1)),n("div",null,f(c(o).tagList.length),1)])]))}}),W={},X={class:"mujika-author-avatar"};function Y(l,o){return r(),u("div",X,o[0]||(o[0]=[n("img",{"aspect-ratio-square":"",block:"",src:"https://avatars.githubusercontent.com/u/48575405?v=4",alt:"Dedicatus545的头像"},null,-1)]))}const Z=$(W,[["render",Y],["__scopeId","data-v-8be5a53d"]]),tt={},et={class:"mujika-aside",w:"280px","top-2":"",sticky:"","max-h":"[calc(100vh-var(--spacing)*4)]"},nt={flex:"~ col","gap-4":"","items-center":""};function ot(l,o){const p=Z,t=U,_=x;return r(),u("aside",et,[d(_,{"has-padding":!1,"px-4":"","py-8":""},{default:v(()=>[n("div",nt,[d(p),o[0]||(o[0]=n("div",{flex:"~ col","gap-2":"","items-center":""},[n("div",null,"Deidactus545"),n("div",{text:"[var(--mygo-c-text-2)]"},"Index-Librorum-Prohibitorum")],-1)),d(t)])]),_:1})])}const st=$(tt,[["render",ot]]),at={flex:"","gap-2":"","items-start":""},it={flex:"~ col grow","gap-2":""},kt=h({__name:"index",setup(l){const o=R(),p=C(),{state:t}=p,{renderList:_}=I(p),g=e=>{o.push("/pages/"+e)};return(e,s)=>{const a=st,i=G,y=N,S=x;return r(),u("div",at,[d(a,{"un-hidden":"","lg:block":""}),n("div",it,[(r(!0),u(k,null,M(c(_),b=>(r(),L(i,{post:b,key:b.hash},null,8,["post"]))),128)),d(S,null,{default:v(()=>[d(y,{page:c(t).pagination.page,"page-size":c(t).pagination.pageSize,total:c(t).pagination.total,onPageChange:g},null,8,["page","page-size","total"])]),_:1})])])}}});export{kt as default};
