import{createElementBlock as n,openBlock as t,createStaticVNode as p}from"vue";import{c as l}from"./app-u6mH9xpQ.js";import"nprogress";import"pinia-plugin-persistedstate";import"vue-router";import"vue-router-better-scroller";import"@vueuse/core";import"@vueuse/components";import"@vueuse/router";import"octokit";import"pinia";import"date-fns";const e={class:"kan-doc"},v="ä¸ºnaive-uiæ·»åŠ å…¨å±€çš„messageå‡½æ•°",E=1639450899,F="2021-12-14T11:01:39.000Z",b="2023-02-13T18:28:44.000Z",q=["JavaScript","Vue","Naive-UI"],x=["ç¼–ç¨‹"],M=5119,w=[{property:"og:title",content:"ä¸ºnaive-uiæ·»åŠ å…¨å±€çš„messageå‡½æ•°"},{name:"twitter:title",content:"ä¸ºnaive-uiæ·»åŠ å…¨å±€çš„messageå‡½æ•°"}],$={__name:"ä¸ºnaive-uiæ·»åŠ å…¨å±€çš„messageå‡½æ•°",setup(i,{expose:a}){return a({frontmatter:{title:"ä¸ºnaive-uiæ·»åŠ å…¨å±€çš„messageå‡½æ•°",key:1639450899,date:"2021-12-14T11:01:39.000Z",updated:"2023-02-13T18:28:44.000Z",tags:["JavaScript","Vue","Naive-UI"],categories:["ç¼–ç¨‹"],wordCount:5119,meta:[{property:"og:title",content:"ä¸ºnaive-uiæ·»åŠ å…¨å±€çš„messageå‡½æ•°"},{name:"twitter:title",content:"ä¸ºnaive-uiæ·»åŠ å…¨å±€çš„messageå‡½æ•°"}]}}),l({title:"ä¸ºnaive-uiæ·»åŠ å…¨å±€çš„messageå‡½æ•°",meta:[{property:"og:title",content:"ä¸ºnaive-uiæ·»åŠ å…¨å±€çš„messageå‡½æ•°"},{name:"twitter:title",content:"ä¸ºnaive-uiæ·»åŠ å…¨å±€çš„messageå‡½æ•°"}]}),(g,s)=>(t(),n("div",e,s[0]||(s[0]=[p(`<h1 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€">ğŸ”—</a></h1><p>ä¸º <code>naive-ui</code> æ·»åŠ å…¨å±€çš„ <code>message</code> ï¼Œ<code>notification</code> ï¼Œ <code>loaddingBar</code> ï¼Œ <code>dialog</code> å‡½æ•°</p><p>å¯¹äº <code>Vue3</code> ï¼Œä¸ªäººéå¸¸å–œæ¬¢ <code>naive-ui</code> è¿™ä¸ª <code>ui</code> åº“ï¼Œå¹¶ä¸”ä¹Ÿåœ¨å·¥ä½œä¸­æŠŠå®ƒåº”ç”¨åˆ°äº†ç›¸åº”çš„é¡¹ç›®ä¹‹ä¸­</p><p>è™½ç„¶å®ƒçœ‹èµ·æ¥æœ‰ç‚¹åƒ <code>ant-design</code> ï¼Œ ä¸è¿‡å›½å†…çš„ <code>ui</code> åº“å¤§ä½“éƒ½æ˜¯ä»¥è“è‰²ä¸ºä¸»è‰²ï¼Œçœ‹èµ·æ¥å°±æœ‰äº›å®¡ç¾ç–²åŠ³äº†</p><h1 id="æ­£æ–‡" tabindex="-1">æ­£æ–‡ <a class="header-anchor" href="#æ­£æ–‡">ğŸ”—</a></h1><p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåƒ <code>element-ui</code> ï¼Œ <code>ant-design</code> ç­‰éƒ½æœ‰ä¸€äº›é€šç”¨çš„æ–¹æ³•å¯ä¾›å…¨å±€ä½¿ç”¨ï¼Œå³å¯ä»¥è„±ç¦»ç»„ä»¶çš„ä¸Šä¸‹æ–‡</p><p>æ¯”å¦‚ <code>element-plus</code> çš„</p><ul><li><a href="https://element-plus.gitee.io/zh-CN/component/message.html" target="_blank" rel="noopener">ElMessage</a></li><li><a href="https://element-plus.gitee.io/zh-CN/component/notification.html" target="_blank" rel="noopener">ElNotification</a></li><li><a href="https://element-plus.gitee.io/zh-CN/component/message-box.html" target="_blank" rel="noopener">ElMessageBox</a></li></ul><p>æˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨è¿™äº›ç»„ä»¶ï¼Œæ¯”å¦‚ <code>axios</code> çš„æ‹¦æˆªå™¨ä¸­ï¼Œæˆ–è€…è·¯ç”±å®ˆå«ï¼ˆ <code>hooks</code> ï¼‰ä¸­</p><p>è€Œåœ¨ <code>naive-ui</code> ä¸­ï¼Œä½¿ç”¨ <code>message</code> çš„æ–¹æ³•æ¯”è¾ƒç‰¹åˆ«</p><p>é¦–å…ˆæ˜¯å¿…é¡»åŒ…åœ¨ <code>n-message-provider</code> ç»„ä»¶ä¸‹</p><p>ç„¶åä½¿ç”¨ <code>useMessage</code> æ¥è·å– <code>message</code> å®ä¾‹</p><p><code>App.vue</code></p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> setup</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> lang</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">ts</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> NMessageProvider</span><span style="--s-dark:#666666;--s-light:#999999;"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &#39;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">naive-ui</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> Content</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &#39;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">./Content.vue</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">template</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;</span><span style="--s-dark:#FDAEB7;--s-light:#B31D28;">NMessageProvider</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    &lt;</span><span style="--s-dark:#FDAEB7;--s-light:#B31D28;">Content</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;&lt;/</span><span style="--s-dark:#FDAEB7;--s-light:#B31D28;">Content</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;/</span><span style="--s-dark:#FDAEB7;--s-light:#B31D28;">NMessageProvider</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">template</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span></code></pre><p><code>Content.vue</code></p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> setup</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> lang</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">ts</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> useMessage</span><span style="--s-dark:#666666;--s-light:#999999;"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &#39;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">naive-ui</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> message</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#80A665;--s-light:#59873A;"> useMessage</span><span style="--s-dark:#666666;--s-light:#999999;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#80A665;--s-light:#59873A;"> open</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#666666;--s-light:#999999;"> ()</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">  message</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">info</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">æˆ‘æ˜¯æ¶ˆæ¯</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#666666;--s-light:#999999;">)</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">template</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">button</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> @click</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">open</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">æ‰“å¼€message</span><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">button</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">template</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span></code></pre><p>çœ‹èµ·æ¥æœ‰ç‚¹å¤æ‚</p><p>æˆ‘å»ç¿»äº†ä¸‹å†å²çš„ <code>issues</code> è®°å½•ï¼Œ å‘ç°æœ‰äººå·²ç»æœ‰æè¿‡ç›¸å…³çš„ <code>issue</code> äº†</p><ul><li><a href="https://github.com/TuSimple/naive-ui/issues/1333" target="_blank" rel="noopener">issue#1333 å¸Œæœ›æ–°å¢ä»¥ä¸‹ç»„ä»¶çš„ä¸€äº›æ–¹æ³•</a></li><li><a href="https://github.com/TuSimple/naive-ui/issues/771" target="_blank" rel="noopener">issue#771 Loading Barå’ŒMessageå…¨å±€ä½¿ç”¨</a></li><li><a href="https://github.com/TuSimple/naive-ui/issues/665" target="_blank" rel="noopener">issue#665 Messageç»„ä»¶åœ¨setupå¤–è°ƒç”¨æ–¹å¼</a></li></ul><p>ä¸è¿‡ä½œè€…ä¼¼ä¹å¹¶ä¸æƒ³æä¾›è¿™æ ·çš„ <code>api</code> ï¼Œä½œè€…åœ¨ç¬¬ä¸‰ä¸ª <code>issue</code> ä¸­å›å¤äº†</p><blockquote><p>If you must need to render a message before app is ready, you need to render a app outside current app and set message api globally. However remember message is a part of your app. You canâ€™t operate a phone before you turn it on.</p></blockquote><p>æ„æ€æ˜¯å¦‚æœç¡®å®éœ€è¦åœ¨ <code>app</code> è¢«æŒ‚åœ¨å‰è°ƒç”¨ <code>message</code>ï¼Œ é‚£ä¹ˆéœ€è¦åœ¨åŸ <code>app</code> å¤–éƒ¨é¢å¤–æ¸²æŸ“ä¸€ä¸ª <code>app</code> ï¼Œå¹¶ä¸”æŠŠç›¸å…³çš„ <code>api</code> å…¨å±€åŒ–</p><p>ä½œè€…çš„æ„æ€å¾ˆç®€å•ï¼Œæƒ³ç”¨ <code>message</code>ï¼Œ å°±æ˜¯å¾— <code>app</code> æŒ‚è½½äº†æ‰èƒ½ç”¨ï¼Œå› ä¸º <code>message</code> å°±æ˜¯æ•´ä¸ª <code>app</code> çš„ä¸€ä¸ªéƒ¨åˆ†</p><p>ä½œè€…è¿˜ä¸¾äº†ä¸ªä¾‹å­ï¼š<strong>ä½ ä¸èƒ½åœ¨æ‰‹æœºè¿˜æ²¡å¼€æœºçš„æ—¶å€™å°±æ“ä½œå®ƒ</strong></p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦æŒ‰ç…§ä½œè€…è¯´çš„æ¥è¿›è¡Œ <code>hack</code></p><h2 id="å¹²æ‰-usexxx" tabindex="-1">å¹²æ‰ <code>useXXX</code> <a class="header-anchor" href="#å¹²æ‰-usexxx">ğŸ”—</a></h2><p>æ¯æ¬¡éƒ½è¦ <code>useMessage</code> å¾ˆéº»çƒ¦ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰èƒ½å¯¼å‡ºä¸€ä¸ªå…¨å±€å˜é‡å‘¢ï¼Ÿ</p><p>å¯ä»¥é€šè¿‡æ·»åŠ ä¸€ä¸ªç©ºçš„ç»„ä»¶æ¥æŠŠ <code>message</code> æå‡åˆ°å…¨å±€</p><p><code>MessageInjectWindow.vue</code></p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> setup</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> lang</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">ts</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> useMessage</span><span style="--s-dark:#666666;--s-light:#999999;"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">naive-ui</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">window</span><span style="--s-dark:#666666;--s-light:#999999;">[</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">$message</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">]</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#80A665;--s-light:#59873A;"> useMessage</span><span style="--s-dark:#666666;--s-light:#999999;">();</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">template</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">template</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span></code></pre><p>ç„¶åæˆ‘ä»¬æŠŠä¸Šé¢çš„ç»„ä»¶æ”¾åˆ° <code>App.vue</code> ä¸­</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> setup</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> lang</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">ts</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> NMessageProvider</span><span style="--s-dark:#666666;--s-light:#999999;"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &#39;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">naive-ui</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> Content</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &#39;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">./Content.vue</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">template</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;</span><span style="--s-dark:#FDAEB7;--s-light:#B31D28;">NMessageProvider</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    &lt;</span><span style="--s-dark:#FDAEB7;--s-light:#B31D28;">MessageInjectWindow</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;&lt;/</span><span style="--s-dark:#FDAEB7;--s-light:#B31D28;">MessageInjectWindow</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    &lt;</span><span style="--s-dark:#FDAEB7;--s-light:#B31D28;">Content</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;&lt;/</span><span style="--s-dark:#FDAEB7;--s-light:#B31D28;">Content</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;/</span><span style="--s-dark:#FDAEB7;--s-light:#B31D28;">NMessageProvider</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">template</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span></code></pre><p>ç„¶ååœ¨ <code>Content.vue</code> ä¸­å°±å¯ä»¥ä½¿ç”¨ <code>$message</code> äº†</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> setup</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> lang</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">ts</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#80A665;--s-light:#59873A;"> open</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#666666;--s-light:#999999;"> ()</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">  $message</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">info</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">æˆ‘æ˜¯æ¶ˆæ¯</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">template</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">button</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> @click</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">open</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">æ‰“å¼€message</span><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">button</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">template</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span></code></pre><p>ä¸è¿‡åœ¨ä»£ç çš„è¿‡ç¨‹ä¸­æ€»è§‰å¾—ç¼ºäº†ç‚¹å•¥ï¼Ÿæ²¡é”™ï¼Œå°±æ˜¯ä»£ç æç¤º</p><p>è¿™æ˜¯ä¸€ä¸ª <code>ts</code> çš„é¡¹ç›®ï¼Œé€šè¿‡æ·»åŠ  <code>d.ts</code> å¯ä»¥ä¸º <code>$message</code> èµ‹äºˆç±»å‹æç¤º</p><p>åˆ›å»º <code>global.d.ts</code> ç„¶åè¾“å…¥ä»¥ä¸‹å†…å®¹</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-ts"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">declare</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> global</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // å¯ä»¥ç›´æ¥ä½¿ç”¨ $message</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">  const </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">$message</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#CB7676;--s-light:#AB5959;">import</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">naive-ui</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">).</span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">MessageApi</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">  const </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">$dialog</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#CB7676;--s-light:#AB5959;">import</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">naive-ui</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">).</span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">DialogApi</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">  const </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">$notification</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#CB7676;--s-light:#AB5959;">import</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">naive-ui</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">).</span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">NotificationApi</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">  const </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">$loadingBar</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#CB7676;--s-light:#AB5959;">import</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">naive-ui</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">).</span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">LoadingBarApi</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">  interface</span><span style="--s-dark:#5DA994;--s-light:#2E8F82;"> Window</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">    // æŒ‚è½½éœ€è¦çš„ç±»å‹æç¤º</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">    // æˆ–è€…é€šè¿‡ window.$message ä½¿ç”¨</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    $message</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#CB7676;--s-light:#AB5959;">import</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">naive-ui</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">).</span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">MessageApi</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    $dialog</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#CB7676;--s-light:#AB5959;">import</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">naive-ui</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">).</span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">DialogApi</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    $notification</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#CB7676;--s-light:#AB5959;">import</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">naive-ui</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">).</span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">NotificationApi</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    $loadingBar</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#CB7676;--s-light:#AB5959;">import</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">naive-ui</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">).</span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">LoadingBarApi</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">export</span><span style="--s-dark:#666666;--s-light:#999999;"> {};</span></span></code></pre><p>åœ¨ <code>Window</code> ä¸‹å®šä¹‰æ˜¯å› ä¸ºéœ€è¦é€šè¿‡ <code>window[&#39;$xxx&#39;] = useXXX()</code> æ¥æŒ‚è½½ï¼Œ ä¸åŠ çš„è¯åœ¨ <code>ts</code> é¡¹ç›®ä¸‹å°±ä¼šæœ‰çº¢çº¿</p><p>åœ¨ <code>global</code> ä¸‹å®šä¹‰æ„å‘³ç€é™¤äº† <code>window[&#39;$xxx&#39;]</code> æ¥è°ƒç”¨ä¹‹å¤–ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>$xxx</code> ç›´æ¥ä½¿ç”¨</p><p>è¿™æ ·å­ä»£ç å°±æœ‰ä¸é”™çš„æç¤ºäº†</p><p><a data-fancybox="doc-gallery" href="https://s4.ax1x.com/2021/12/14/ovKKRH.png" target="_blank" rel="noopener noreferrer"><img src="https://s4.ax1x.com/2021/12/14/ovKKRH.png" alt=""></a></p><p><a data-fancybox="doc-gallery" href="https://s4.ax1x.com/2021/12/14/ovKUJg.png" target="_blank" rel="noopener noreferrer"><img src="https://s4.ax1x.com/2021/12/14/ovKUJg.png" alt=""></a></p><h2 id="å¹²æ‰åªèƒ½åœ¨appå†…ä½¿ç”¨" tabindex="-1">å¹²æ‰åªèƒ½åœ¨appå†…ä½¿ç”¨ <a class="header-anchor" href="#å¹²æ‰åªèƒ½åœ¨appå†…ä½¿ç”¨">ğŸ”—</a></h2><p>è™½ç„¶æˆ‘ä»¬å·²ç»æå–äº†å…¨å±€çš„ <code>api</code> äº†ï¼Œä½†æ˜¯ä¾ç„¶æ— æ³•åœ¨æ²¡æœ‰ <code>app</code> çš„ä¸Šä¸‹æ–‡ä¸‹ä½¿ç”¨</p><p>æ¯”å¦‚å¦‚æœæˆ‘æƒ³åœ¨ <code>mount</code> ä¹‹å‰è°ƒç”¨ä¸€ä¸ªæ¥å£ï¼Œè¿™ä¸ªæ¥å£è¦ä½¿ç”¨ <code>message</code> æ¥æ˜¾ç¤ºä¸€äº›ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±ä¼šæŠ¥é”™</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-ts"><span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> createApp</span><span style="--s-dark:#666666;--s-light:#999999;"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">vue</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> App</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">./App.vue</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const </span><span style="--s-dark:#80A665;--s-light:#59873A;">bootstrap</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> async </span><span style="--s-dark:#666666;--s-light:#999999;">()</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // æƒ³åœ¨æŒ‚åœ¨å‰è°ƒç”¨ä¸€ä¸ªæ¥å£</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">  await</span><span style="--s-dark:#B8A965;--s-light:#998418;"> Promise</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">resolve</span><span style="--s-dark:#666666;--s-light:#999999;">().</span><span style="--s-dark:#80A665;--s-light:#59873A;">then</span><span style="--s-dark:#666666;--s-light:#999999;">(()</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    $message</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">info</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">hello</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  });</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // æ¥å£å®Œæˆå†æŒ‚è½½ app</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">  createApp</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">App</span><span style="--s-dark:#666666;--s-light:#999999;">).</span><span style="--s-dark:#80A665;--s-light:#59873A;">mount</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">#app</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">bootstrap</span><span style="--s-dark:#666666;--s-light:#999999;">();</span></span></code></pre><p>ç»“æœæ˜¾è€Œæ˜“è§ï¼ŒæŠ¥é”™</p><p><a data-fancybox="doc-gallery" href="https://s4.ax1x.com/2021/12/14/ovMdAK.png" target="_blank" rel="noopener noreferrer"><img src="https://s4.ax1x.com/2021/12/14/ovMdAK.png" alt=""></a></p><p>åŸå› å¾ˆç®€å•ï¼Œéƒ½æ²¡æŒ‚è½½ <code>app</code> ï¼Œé‚£ä¹ˆ <code>MessageInjectWindow.vue</code> çš„ <code>setup</code> ä¸ä¼šæ‰§è¡Œï¼Œè‡ªç„¶ä¹Ÿå°±æ²¡æœ‰æ³¨å…¥ <code>message</code> å®ä¾‹äº†</p><p>é‚£ä¹ˆè¿™æ—¶å€™å°±éœ€è¦æ„å»ºä¸€ä¸ªç©ºçš„ <code>app</code> ï¼Œåœ¨ç›®æ ‡ <code>app</code> ä¹‹å‰æŒ‚è½½ï¼Œç„¶åå…¨å±€åŒ– <code>api</code></p><p>åˆ›å»º AppProvider.vue</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> lang</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">ts</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> setup</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> NMessageProvider</span><span style="--s-dark:#666666;--s-light:#999999;"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">naive-ui</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> MessageInjectWindow</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">./MessageInjectWindow.vue</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">template</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;</span><span style="--s-dark:#FDAEB7;--s-light:#B31D28;">NMessageProvider</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    &lt;</span><span style="--s-dark:#FDAEB7;--s-light:#B31D28;">MessageInjectWindow</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;&lt;/</span><span style="--s-dark:#FDAEB7;--s-light:#B31D28;">MessageInjectWindow</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;/</span><span style="--s-dark:#FDAEB7;--s-light:#B31D28;">NMessageProvider</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">template</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span></code></pre><p>å†…å®¹åŸºæœ¬ä¸€æ ·ï¼Œä¸è¿‡æ²¡æœ‰ <code>Content.vue</code> ï¼Œå› ä¸ºä½œä¸ºä¸€ä¸ªç©ºçš„ app ï¼Œä¸éœ€è¦æ¸²æŸ“çœŸæ­£çš„å†…å®¹èŠ‚ç‚¹</p><p>ç„¶åä¿®æ”¹ <code>main.ts</code></p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-ts"><span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> createApp</span><span style="--s-dark:#666666;--s-light:#999999;"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">vue</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> App</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">./App.vue</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> AppProvider</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &#39;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">./AppProvider.vue</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const </span><span style="--s-dark:#80A665;--s-light:#59873A;">bootstrap</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> async </span><span style="--s-dark:#666666;--s-light:#999999;">()</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // æŒ‚è½½ä¸€ä¸ªç©ºçš„ app</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">  createApp</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">AppProvider</span><span style="--s-dark:#666666;--s-light:#999999;">).</span><span style="--s-dark:#80A665;--s-light:#59873A;">mount</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">#app-provider</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // æƒ³åœ¨æŒ‚åœ¨å‰è°ƒç”¨ä¸€ä¸ªæ¥å£</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">  await</span><span style="--s-dark:#B8A965;--s-light:#998418;"> Promise</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">resolve</span><span style="--s-dark:#666666;--s-light:#999999;">().</span><span style="--s-dark:#80A665;--s-light:#59873A;">then</span><span style="--s-dark:#666666;--s-light:#999999;">(()</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    $message</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">info</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">hello</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  });</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // æ¥å£å®Œæˆå†æŒ‚è½½ app</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">  createApp</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">App</span><span style="--s-dark:#666666;--s-light:#999999;">).</span><span style="--s-dark:#80A665;--s-light:#59873A;">mount</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">#app</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">bootstrap</span><span style="--s-dark:#666666;--s-light:#999999;">();</span></span></code></pre><p>ç„¶åå°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨å…¨å±€çš„ <code>$message</code> äº†</p><h1 id="åè®°" tabindex="-1">åè®° <a class="header-anchor" href="#åè®°">ğŸ”—</a></h1><p>è¿™ä¸ªæ–¹æ³•æ˜¯ä» <code>Naive-ui-admin</code> ä»¥åŠç›¸å…³çš„ <code>issues</code> æŸ¥æ‰¾åˆ°çš„</p><p>ç›®å‰å·²ç»ç”¨åœ¨å…¬å¸çš„é¡¹ç›®ä¸­</p><p>å¦‚æœåªæ˜¯è®¨åŒæ¯æ¬¡è°ƒç”¨æ¥å£æ—¶å†™ <code>useXXX</code></p><p><code>issues</code> ä¸­ä¹Ÿæœ‰ç”¨æˆ·æè®®å¯ä»¥å°è£…é€šç”¨çš„ <code>useRequest</code></p><p>åæ­£ï¼Œèåœé’èœå„æœ‰æ‰€çˆ±å§~</p>`,63)])))}};export{x as categories,F as date,$ as default,E as key,w as meta,q as tags,v as title,b as updated,M as wordCount};
