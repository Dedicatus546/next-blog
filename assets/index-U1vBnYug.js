import{_ as $,a as x,b as P,u as j}from"./app-xo0Ya-nB.js";import{defineComponent as h,computed as b,createElementBlock as u,openBlock as r,createElementVNode as n,Fragment as k,renderList as M,unref as p,normalizeClass as S,toDisplayString as m,resolveComponent as z,createBlock as L,withCtx as v,createVNode as d}from"vue";import{storeToRefs as A}from"pinia";import"nprogress";import"pinia-plugin-persistedstate";import"vue-router";import"vue-router-better-scroller";import"@vueuse/core";import"@vueuse/components";import"@vueuse/router";import"octokit";import"date-fns";const I={flex:"","gap-2":"","justify-center":"","lg:gap-4":"",class:"mujika-pagination"},R=["disabled"],w=["onClick"],B={key:1},D=["disabled"],g=5,T=h({__name:"MujikaPagination",props:{page:{default:1},pageSize:{default:10},total:{default:0}},emits:["pageChange","update:page"],setup(l,{emit:o}){const c=o,t=b(()=>l.pageSize===0?0:Math.max(1,Math.ceil(l.total/l.pageSize))),_=b(()=>{let e;if(t.value>=g){e=[];const a=Math.ceil((g-2)/2)+1,s=g-a;if(l.page<=a){for(let i=1;i<=g-1;i++)e.push(i);e.push(-1,t.value)}else if(l.page>=t.value-s){e.push(1,-1);for(let i=t.value-g+2;i<=t.value;i++)e.push(i)}else{e.push(1,-1);for(let i=l.page-a+2;i<=l.page+s-1;i++)e.push(i);e.push(-1,t.value)}}else e=Array.from({length:t.value}).map((a,s)=>s+1);return e}),f=e=>{e<1||e>t.value||(c("pageChange",e),c("update:page",e))};return(e,a)=>(r(),u("div",I,[n("button",{disabled:e.page<=1,class:"mujika-pagination-button",onClick:a[0]||(a[0]=s=>f(e.page-1))},a[2]||(a[2]=[n("i",{class:"i-mi:caret-left"},null,-1)]),8,R),(r(!0),u(k,null,M(p(_),s=>(r(),u(k,{key:s},[s>0?(r(),u("button",{key:0,class:S(["mujika-pagination-button",{active:e.page===s}]),onClick:i=>f(s)},m(s),11,w)):(r(),u("div",B,"..."))],64))),128)),n("button",{disabled:e.page>=p(t),class:"mujika-pagination-button",onClick:a[1]||(a[1]=s=>f(e.page+1))},a[3]||(a[3]=[n("i",{class:"i-mi:caret-right"},null,-1)]),8,D)]))}}),E=$(T,[["__scopeId","data-v-fa744100"]]),H={flex:"~ col","gap-4":""},N={"break-all":"",text:"34px center"},V=["innerHTML"],q=h({__name:"MujikaPostListItem",props:{post:{}},setup(l){return(o,c)=>{const t=z("RouterLink");return r(),L(x,{"padding-level":2},{default:v(()=>[n("div",H,[d(t,{to:o.post.path},{default:v(()=>[n("h2",N,m(o.post.title),1)]),_:1},8,["to"]),d(P,{page:o.post},null,8,["page"]),n("div",{class:"kan-doc",innerHTML:o.post.excerpt},null,8,V)])]),_:1})}}}),F={flex:"","gap-4":"","items-center":""},G={flex:"~ col","gap-1":"","items-center":""},J={flex:"~ col","gap-1":"","items-center":""},K={flex:"~ col","gap-1":"","items-center":""},O=h({__name:"MujikaAuthorStatistic",setup(l){const o=j();return(c,t)=>(r(),u("div",F,[n("div",G,[t[0]||(t[0]=n("div",null,"文章",-1)),n("div",null,m(p(o).state.list.length),1)]),n("div",J,[t[1]||(t[1]=n("div",null,"分类",-1)),n("div",null,m(p(o).categoryList.length),1)]),n("div",K,[t[2]||(t[2]=n("div",null,"标签",-1)),n("div",null,m(p(o).tagList.length),1)])]))}}),Q={},U={class:"mujika-author-avatar"};function W(l,o){return r(),u("div",U,o[0]||(o[0]=[n("img",{"aspect-ratio-square":"",block:"",src:"https://avatars.githubusercontent.com/u/48575405?v=4",alt:"Dedicatus545的头像"},null,-1)]))}const X=$(Q,[["render",W],["__scopeId","data-v-8be5a53d"]]),Y={},Z={class:"mujika-aside",w:"280px","top-2":"",sticky:"","max-h":"[calc(100vh-var(--spacing)*4)]"},tt={flex:"~ col","gap-4":"","items-center":""};function et(l,o){const c=X,t=O,_=x;return r(),u("aside",Z,[d(_,{"has-padding":!1,"px-4":"","py-8":""},{default:v(()=>[n("div",tt,[d(c),o[0]||(o[0]=n("div",{flex:"~ col","gap-2":"","items-center":""},[n("div",null,"Deidactus545"),n("div",{text:"[var(--mygo-c-text-2)]"},"Index-Librorum-Prohibitorum")],-1)),d(t)])]),_:1})])}const nt=$(Y,[["render",et]]),ot={flex:"","gap-2":"","items-start":""},at={flex:"~ col grow","gap-2":""},vt=h({__name:"index",setup(l){const o=j(),{onPageChange:c,state:t}=o,{renderList:_}=A(o);return(f,e)=>{const a=nt,s=q,i=E,y=x;return r(),u("div",ot,[d(a,{"un-hidden":"","lg:block":""}),n("div",at,[(r(!0),u(k,null,M(p(_),C=>(r(),L(s,{post:C,key:C.hash},null,8,["post"]))),128)),d(y,null,{default:v(()=>[d(i,{page:p(t).pagination.page,"page-size":p(t).pagination.pageSize,total:p(t).pagination.total,onPageChange:p(c)},null,8,["page","page-size","total","onPageChange"])]),_:1})])])}}});export{vt as default};
//# sourceMappingURL=index-U1vBnYug.js.map
