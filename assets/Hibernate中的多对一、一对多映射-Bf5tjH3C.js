import{createElementBlock as n,openBlock as t,createStaticVNode as l}from"vue";import{c as p}from"./app-4gPi1Ho2.js";import"nprogress";import"pinia-plugin-persistedstate";import"vue-router";import"vue-router-better-scroller";import"@vueuse/core";import"@vueuse/components";import"@vueuse/router";import"octokit";import"pinia";import"date-fns";const e={class:"kan-doc"},b="Hibernate中的多对一、一对多映射",f=1591888868,q="2020-06-11T23:21:08.000Z",F="2023-02-13T18:28:44.000Z",v=["Java"],T=3080,x=[{property:"og:title",content:"Hibernate中的多对一、一对多映射"},{name:"twitter:title",content:"Hibernate中的多对一、一对多映射"}],S={__name:"Hibernate中的多对一、一对多映射",setup(i,{expose:a}){return a({frontmatter:{title:"Hibernate中的多对一、一对多映射",key:1591888868,date:"2020-06-11T23:21:08.000Z",updated:"2023-02-13T18:28:44.000Z",tags:["Java"],wordCount:3080,meta:[{property:"og:title",content:"Hibernate中的多对一、一对多映射"},{name:"twitter:title",content:"Hibernate中的多对一、一对多映射"}]}}),p({title:"Hibernate中的多对一、一对多映射",meta:[{property:"og:title",content:"Hibernate中的多对一、一对多映射"},{name:"twitter:title",content:"Hibernate中的多对一、一对多映射"}]}),(g,s)=>(t(),n("div",e,s[0]||(s[0]=[l(`<h1 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言">🔗</a></h1><p>之前写的一对一 这次写写多对一、一对多</p><h1 id="准备" tabindex="-1">准备 <a class="header-anchor" href="#准备">🔗</a></h1><p>一个Hibernate环境的Java项目 这个之前的帖子有 就不再写了</p><h1 id="一对多（多对一）" tabindex="-1">一对多（多对一） <a class="header-anchor" href="#一对多（多对一）">🔗</a></h1><p>这里用老师和学生来做例子 一个老师有多个学生 一个学生只能属于一个老师</p><p>Teacher类</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82;"> Teacher</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">    private</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> int</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> id</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">    private</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> String</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> name</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">    // 注意：这里的set要自己初始化，不然会报空指针的异常</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">    private</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> Set</span><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#CB7676;--s-light:#AB5959;">Student</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> list</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> new</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> HashSet</span><span style="--s-dark:#666666;--s-light:#999999;">&lt;&gt;();</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">    // ...省略getter、setter和toString方法</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span></code></pre><p>Teacher类对应的Teacher.hbm.xml</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-xml"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;?</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">xml</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> version</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">1.0</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> encoding</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">UTF-8</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;"> ?&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;!</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">DOCTYPE</span><span style="--s-dark:#C99076;--s-light:#A65E2B;"> hibernate-mapping</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> PUBLIC</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">hibernate-mapping</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">class</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> name</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">pojo.Teacher</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">        &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">id</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> name</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">id</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">            &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">generator</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> class</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">native</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">generator</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">        &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">id</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">        &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">property</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> name</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">name</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">property</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">        &lt;!-- set表示一个无需不重复的集合 --&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">        &lt;!-- name表示类中集合的属性名 --&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">        &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">set</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> name</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">list</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">            &lt;!-- </span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">                key表示多的一方的外键，column指定列名</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">                也就是会在student表指定一个列，列名为teacher_id来指向老师</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">             --&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">            &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">key</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> column</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">teacher_id</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">key</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">            &lt;!-- 指定集合的类型 --&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">            &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">one-to-many</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> class</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">pojo.Student</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">one-to-many</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">        &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">set</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">class</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">hibernate-mapping</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"></span></code></pre><p>Student类</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82;"> Student</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">    private</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> int</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> id</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">    private</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> String</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> name</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">    private</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> Teacher</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> teacher</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">    // ...省略getter、setter和toString方法</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span></code></pre><p>Student类对应的Student.hbm.xml</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-xml"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;?</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">xml</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> version</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">1.0</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> encoding</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">UTF-8</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;"> ?&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;!</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">DOCTYPE</span><span style="--s-dark:#C99076;--s-light:#A65E2B;"> hibernate-mapping</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> PUBLIC</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">        &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">        &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">hibernate-mapping</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">class</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> name</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">pojo.Student</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">        &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">id</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> name</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">id</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">            &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">generator</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> class</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">native</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">generator</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">        &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">id</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">        &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">property</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> name</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">name</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">property</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">        &lt;!-- 学生这一方是多的一方，指向老师一的一方 --&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">        &lt;!-- name表示类中对应一的一方的属性名，column表示学生这一方指向老师的外键列名 --&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">        &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">many-to-one</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> name</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">teacher</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> column</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">teacher_id</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">many-to-one</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">class</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">hibernate-mapping</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"></span></code></pre><p>写个测试类测试下</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-java"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">public</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> class</span><span style="--s-dark:#5DA994;--s-light:#2E8F82;"> HibernateTest</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    @</span><span style="--s-dark:#CB7676;--s-light:#AB5959;">Test</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">    public</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> void</span><span style="--s-dark:#80A665;--s-light:#59873A;"> test01</span><span style="--s-dark:#666666;--s-light:#999999;">()</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">        Session</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> session</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> SessionUtil</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">getSession</span><span style="--s-dark:#666666;--s-light:#999999;">();</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">        Transaction</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> transaction</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> session</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">beginTransaction</span><span style="--s-dark:#666666;--s-light:#999999;">();</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">        </span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">        // new一个老师</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">        Teacher</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> teacher</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> new</span><span style="--s-dark:#80A665;--s-light:#59873A;"> Teacher</span><span style="--s-dark:#666666;--s-light:#999999;">();</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">        teacher</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">setName</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">teacher</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">        // new两个学生</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">        Student</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> student1</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> new</span><span style="--s-dark:#80A665;--s-light:#59873A;"> Student</span><span style="--s-dark:#666666;--s-light:#999999;">();</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">        student1</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">setName</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">student1</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">        Student</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> student2</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> new</span><span style="--s-dark:#80A665;--s-light:#59873A;"> Student</span><span style="--s-dark:#666666;--s-light:#999999;">();</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">        student2</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">setName</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">student2</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">        // 老师一方设置关联关系</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">        teacher</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">getList</span><span style="--s-dark:#666666;--s-light:#999999;">().</span><span style="--s-dark:#80A665;--s-light:#59873A;">add</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">student1</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">        teacher</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">getList</span><span style="--s-dark:#666666;--s-light:#999999;">().</span><span style="--s-dark:#80A665;--s-light:#59873A;">add</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">student2</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">        // 学生一方设置关联关系</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">        student1</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">setTeacher</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">teacher</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">        student2</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">setTeacher</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">teacher</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">        // 保存</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">        session</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">save</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">teacher</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">        session</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">save</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">student1</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">        session</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">save</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">student2</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">        transaction</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">commit</span><span style="--s-dark:#666666;--s-light:#999999;">();</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">        session</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">close</span><span style="--s-dark:#666666;--s-light:#999999;">();</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">        SessionUtil</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">close</span><span style="--s-dark:#666666;--s-light:#999999;">();</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span>
<span class="line"></span></code></pre><p>运行之后 就可以看到</p><p>Teacher表</p><p><a data-fancybox="doc-gallery" href="https://i.loli.net/2019/11/07/THICmyLYuxnXwM1.png" target="_blank" rel="noopener noreferrer"><img src="https://i.loli.net/2019/11/07/THICmyLYuxnXwM1.png" alt=""></a></p><p>Student表</p><p><a data-fancybox="doc-gallery" href="https://i.loli.net/2019/11/07/JghAep67vrxfUBa.png" target="_blank" rel="noopener noreferrer"><img src="https://i.loli.net/2019/11/07/JghAep67vrxfUBa.png" alt=""></a></p><p>Student表中的外键</p><p><a data-fancybox="doc-gallery" href="https://i.loli.net/2019/11/07/hptKj8J7sEDmiXb.png" target="_blank" rel="noopener noreferrer"><img src="https://i.loli.net/2019/11/07/hptKj8J7sEDmiXb.png" alt=""></a></p><h1 id="后记" tabindex="-1">后记 <a class="header-anchor" href="#后记">🔗</a></h1><p>多对一还好 不是特别的难理解</p>`,25)])))}};export{q as date,S as default,f as key,x as meta,v as tags,b as title,F as updated,T as wordCount};
