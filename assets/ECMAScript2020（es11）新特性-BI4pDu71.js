import{createElementBlock as n,openBlock as l,createStaticVNode as p}from"vue";const t={class:"kan-doc"},g="ECMAScript2020ï¼ˆes11ï¼‰æ–°ç‰¹æ€§",h="2024-12-24T17:25:28.000Z",k="2024-12-25T23:43:34.000Z",y=["JavaScript"],A=["ç¬”è®°"],B=1734011336,D=7150,c={__name:"ECMAScript2020ï¼ˆes11ï¼‰æ–°ç‰¹æ€§",setup(e,{expose:a}){return a({frontmatter:{title:"ECMAScript2020ï¼ˆes11ï¼‰æ–°ç‰¹æ€§",date:"2024-12-24T17:25:28.000Z",updated:"2024-12-25T23:43:34.000Z",tags:["JavaScript"],categories:["ç¬”è®°"],key:1734011336,wordCount:7150}}),(d,s)=>(l(),n("div",t,s[0]||(s[0]=[p(`<h1 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€">ğŸ”—</a></h1><p>ECMAScript2020ï¼ˆes11ï¼‰æ–°ç‰¹æ€§ã€‚</p><h1 id="æ­£æ–‡" tabindex="-1">æ­£æ–‡ <a class="header-anchor" href="#æ­£æ–‡">ğŸ”—</a></h1><h2 id="å¯é€‰é“¾" tabindex="-1">å¯é€‰é“¾ <a class="header-anchor" href="#å¯é€‰é“¾">ğŸ”—</a></h2><p>åœ¨ es11 ä¹‹å‰ï¼Œå¦‚æœæƒ³è¦è¯»å–ä¸€ä¸ªå¯¹è±¡çš„æ·±å±‚çš„å±æ€§ï¼Œå¹¶ä¸”éœ€è¦é˜²æ­¢ <code>null</code> æˆ–è€… <code>undefined</code> é”™è¯¯ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šå†™ä¸‹å¦‚ä¸‹çš„ä»£ç ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  a</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">    b</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      c</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">        d</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 1</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">      }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> val</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> </span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">  ?</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">a</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> </span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">    ?</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">a</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">b</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> </span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">      ?</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">a</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">b</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">c</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> </span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">        ?</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">a</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">b</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">c</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">d</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> </span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">        :</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> undefined</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">      :</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> undefined</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">    :</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> undefined</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">  :</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> undefined</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span></code></pre><p>æˆ–è€…æˆ‘ä»¬ä½¿ç”¨ <code>&amp;&amp;</code> çš„çŸ­è·¯ç‰¹æ€§ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  a</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">    b</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      c</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">        d</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 1</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">      }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> val</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> &amp;&amp;</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">a</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> &amp;&amp;</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">a</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">b</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> &amp;&amp;</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">a</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">b</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">c</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> &amp;&amp;</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">a</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">b</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">c</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">d</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span></code></pre><p>å½“ç„¶è¿™ä¸¤ç§å½¢å¼éƒ½ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯é“¾ä¸Šçš„å€¼ä¸èƒ½æ˜¯ <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Falsy" target="_blank" rel="noopener">Falsyï¼ˆè™šå€¼ï¼‰</a> ï¼Œå¦‚æœå­˜åœ¨è¿™ç§æƒ…å†µï¼Œä½ è¿˜å¾—æ‰‹åŠ¨åˆ¤æ–­ <code>null</code> å’Œ <code>undefined</code> ï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ ·ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  a</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">    b</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      c</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">        d</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 1</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">      }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#80A665;--s-light:#59873A;"> isNullOrUndefined</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#666666;--s-light:#999999;"> (</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">val</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">  return</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> val</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ===</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> null</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ||</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> val</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ===</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> undefined</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> val</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#80A665;--s-light:#59873A;"> isNullOrUndefined</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">o</span><span style="--s-dark:#666666;--s-light:#999999;">)</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">  ?</span><span style="--s-dark:#80A665;--s-light:#59873A;"> isNullOrUndefined</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">o</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">a</span><span style="--s-dark:#666666;--s-light:#999999;">)</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">    ?</span><span style="--s-dark:#80A665;--s-light:#59873A;"> isNullOrUndefined</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">o</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">a</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">b</span><span style="--s-dark:#666666;--s-light:#999999;">)</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">      ?</span><span style="--s-dark:#80A665;--s-light:#59873A;"> isNullOrUndefined</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">o</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">a</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">b</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">c</span><span style="--s-dark:#666666;--s-light:#999999;">)</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">        ?</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">a</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">b</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">c</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">d</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">        :</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> undefined</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">      :</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> undefined</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">    :</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> undefined</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">  :</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> undefined</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span></code></pre><p>è¿™å‡ ç§å½¢å¼åªèƒ½è¯´æ˜¯å·®å¼ºäººæ„ã€‚æ‰€ä»¥ es11 æä¾›äº†å¯é€‰é“¾çš„è¯­æ³•ï¼Œé«˜æ•ˆåœ°æ¥å¤„ç†è¿™ç§æƒ…å†µã€‚</p><p>å¯é€‰é“¾æœ‰ä¸‰ç§å½¢å¼ï¼Œåˆ†åˆ«ä¸º</p><ul><li>ç›´æ¥å±æ€§å <code>a?.propertyName</code></li><li>æ–¹æ‹¬å· <code>a?.[propertyName]</code></li><li>å‡½æ•°è°ƒç”¨ <code>a?.()</code></li></ul><p>åœ¨å¯é€‰é“¾å‰çš„å¯¹è±¡ä¸º <code>null</code> å’Œ <code>undefined</code> çš„æƒ…å†µä¸‹ï¼Œè¡¨è¾¾å¼ä¼šç›´æ¥è¿”å› <code>undefined</code> ï¼Œå¹¶ä¸”åç»­çš„å¯é€‰é“¾éƒ½ä¸ä¼šæ‰§è¡Œï¼Œå…¶å®å®ƒå°±æ˜¯ç­‰æ•ˆäºä¸Šé¢çš„ <code>isNullOrUndefined</code> çš„å†™æ³•ã€‚å®ƒçš„ç”¨æ³•å¦‚ä¸‹ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  a</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">    b</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      c</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">        d</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 1</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">      }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> val</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> a</span><span style="--s-dark:#666666;--s-light:#999999;">?.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">b</span><span style="--s-dark:#666666;--s-light:#999999;">?.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">c</span><span style="--s-dark:#666666;--s-light:#999999;">?.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">d</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span></code></pre><p>å¯é€‰é“¾åªä¼šåœ¨å€¼ä¸º <code>null</code> å’Œ <code>undefined</code> çš„æƒ…å†µä¸‹çŸ­è·¯ï¼Œå¯¹ Falsy å€¼ä¹Ÿä¼šç›´æ¥è°ƒç”¨ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> false</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">o</span><span style="--s-dark:#666666;--s-light:#999999;">?.</span><span style="--s-dark:#80A665;--s-light:#59873A;">toString</span><span style="--s-dark:#666666;--s-light:#999999;">();</span><span style="--s-dark:#758575DD;--s-light:#A0ADA0;"> // è¾“å‡º &quot;false&quot; è€Œä¸æ˜¯ undefined</span></span></code></pre><h2 id="ç©ºå€¼åˆå¹¶" tabindex="-1">ç©ºå€¼åˆå¹¶ <a class="header-anchor" href="#ç©ºå€¼åˆå¹¶">ğŸ”—</a></h2><p>åœ¨ es11 å‰ï¼Œå¦‚æœæƒ³è¦åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯ä¸æ˜¯ <code>undefined</code> æˆ–è€… <code>null</code> ï¼Œå¯ä»¥ç”¨å¦‚ä¸‹çš„å½¢å¼ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> undefined</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// å®½æ¾ç›¸ç­‰</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">if</span><span style="--s-dark:#666666;--s-light:#999999;"> (</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">o</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ==</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> null</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // åšä¸€äº›æ“ä½œ</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// æˆ–è€…</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">if</span><span style="--s-dark:#666666;--s-light:#999999;"> (</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">o</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ===</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> undefined</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ||</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ===</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> null</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // åšä¸€äº›æ“ä½œ</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span></code></pre><p>å¦‚æœåªæ˜¯ç®€å•çš„èµ‹å€¼æ“ä½œï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä¸‰å…ƒè¡¨è¾¾å¼ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> undefined</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> val</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ==</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> null</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ?</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">å˜»å˜»</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> :</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">ä¸å˜»å˜»</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// æˆ–è€…</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> val</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ===</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> undefined</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ||</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ===</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> null</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ?</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">å˜»å˜»</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> :</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">ä¸å˜»å˜»</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span></code></pre><p>å†™æ³•ä¸Šè¿˜æ˜¯æœ‰äº›ç¹çï¼Œæ‰€ä»¥å¼•å…¥äº† <code>??</code> çš„æ“ä½œç¬¦ï¼Œå½“å·¦ä¾§çš„å€¼ä¸º <code>null</code> æˆ–è€… <code>undefined</code> ï¼Œåˆ™è¿”å›å³ä¾§çš„å€¼ï¼Œå¦åˆ™è¿”å›å·¦ä¾§çš„å€¼ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> === </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">undefined</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> val</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ??</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">ä¸å˜»å˜»</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span><span style="--s-dark:#758575DD;--s-light:#A0ADA0;"> // è¾“å‡º &quot;ä¸å˜»å˜»&quot;</span></span></code></pre><p>æ³¨æ„ï¼Œç©ºå€¼æ“ä½œç¬¦ <code>??</code> æœ‰<strong>çŸ­è·¯ç‰¹æ€§</strong>ï¼Œè¿™æ„å‘³ç€å¦‚æœ <code>??</code> å³ä¾§ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœ <code>??</code> å·¦è¾¹ä¸ä¸º <code>null</code> å’Œ <code>undefined</code> ï¼Œå³ä¾§çš„å‡½æ•°å°±ä¸ä¼šæ‰§è¡Œï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#80A665;--s-light:#59873A;"> fn</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#666666;--s-light:#999999;"> ()</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">  console</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">log</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">æ‰§è¡Œäº†</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 2</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> val</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ??</span><span style="--s-dark:#80A665;--s-light:#59873A;"> fn</span><span style="--s-dark:#666666;--s-light:#999999;">();</span><span style="--s-dark:#758575DD;--s-light:#A0ADA0;"> // æ— è¾“å‡º</span></span></code></pre><h2 id="globalthis-å…¨å±€å¯¹è±¡" tabindex="-1">globalThis å…¨å±€å¯¹è±¡ <a class="header-anchor" href="#globalthis-å…¨å±€å¯¹è±¡">ğŸ”—</a></h2><p>æ ‡å‡†åŒ–äº†å…¨å±€å¯¹è±¡ï¼Œåœ¨è¿™ä¸ªç‰¹æ€§ä¹‹å‰ï¼Œå¦‚æœæˆ‘ä»¬è¦è¯»å–ç¯å¢ƒçš„å…¨å±€å¯¹è±¡ï¼Œä¸€èˆ¬ä¼šå†™å¦‚ä¸‹çš„èƒ¶æ°´ä»£ç ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#CB7676;--s-light:#AB5959;">function</span><span style="--s-dark:#666666;--s-light:#999999;">()</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // web worker</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">  if</span><span style="--s-dark:#666666;--s-light:#999999;"> (</span><span style="--s-dark:#CB7676;--s-light:#AB5959;">typeof</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> self</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> !==</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &#39;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">undefined</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    self</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">globalThis</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> self</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  }</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> </span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // æµè§ˆå™¨</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">  else</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> if</span><span style="--s-dark:#666666;--s-light:#999999;"> (</span><span style="--s-dark:#CB7676;--s-light:#AB5959;">typeof</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> window</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> !==</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &#39;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">undefined</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    window</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">globalThis</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> window</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  }</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // node </span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">  else</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> if</span><span style="--s-dark:#666666;--s-light:#999999;"> (</span><span style="--s-dark:#CB7676;--s-light:#AB5959;">typeof</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> global</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> !==</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &#39;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">undefined</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    global</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">globalThis</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> global</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  }</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> </span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // éä¸¥æ ¼æ¨¡å¼</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">  else</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#C99076;--s-light:#A65E2B;">    this</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">globalThis</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#C99076;--s-light:#A65E2B;"> this</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">})();</span></span></code></pre><p>å½“ç„¶ï¼Œè¿™ç§å«ç‰‡æœ‰ä¸€äº›å±€é™æ€§ï¼Œå…·ä½“å¯ä»¥æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="https://mathiasbynens.be/notes/globalthis" target="_blank" rel="noopener"> A horrifying globalThis polyfill in universal JavaScript</a>ï¼Œæˆ–è€…é˜…è¯»æ˜é‡‘ä¸Šçš„è¯‘æ–‡ï¼š<a href="https://juejin.cn/post/6904958153503277069" target="_blank" rel="noopener">ã€è¯‘ã€‘ä¸€ç§ä»¤äººéœ‡æƒŠçš„ globalThis JavaScript Polyfill é€šç”¨å®ç°</a>ã€‚</p><p>è€Œåœ¨ es11 åï¼Œåªè¦ä½¿ç”¨ globalThis å³å¯ç›´æ¥è®¿é—®å…¨å±€çš„å¯¹è±¡ï¼Œæµè§ˆå™¨ä¸‹ä¸º <code>window</code> ï¼Œ <code>frames</code> ï¼Œ <code>self</code> ï¼Œ node ä¸‹ä¸º <code>global</code>ã€‚</p><h2 id="bigint-åŸºæœ¬ç±»å‹" tabindex="-1">BigInt åŸºæœ¬ç±»å‹ <a class="header-anchor" href="#bigint-åŸºæœ¬ç±»å‹">ğŸ”—</a></h2><p>ç”±äº js çš„æ•´æ•°å€¼æ˜¯åŸºäº IEEE 754 å®ç°çš„ï¼Œæ‰€ä»¥å¦‚æœè¡¨ç¤ºå¤§æ•´æ•°çš„è¯ä¼šæœ‰è¯¯å·®ã€‚åœ¨ js ä¸­ï¼Œå®‰å…¨çš„æ•´æ•°èŒƒå›´ä¸º <code>Number.MIN_SAFE_INTEGER</code> åˆ° <code>Number.MAX_SAFE_INTEGER</code> ï¼Œå…·ä½“çš„å€¼ä¸º -9007199254740991 åˆ° 9007199254740991 ã€‚</p><p>å¦‚æœè¶…å‡ºäº†è¿™ä¸ªèŒƒå›´ï¼Œæ•´æ•°çš„è®¡ç®—ä¾¿ä¸å†å®Œå…¨å¯é ï¼Œæ¯”å¦‚ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> b</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> Number</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">MAX_SAFE_INTEGER </span><span style="--s-dark:#CB7676;--s-light:#AB5959;">+</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 1</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ===</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> Number</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">MAX_SAFE_INTEGER </span><span style="--s-dark:#CB7676;--s-light:#AB5959;">+</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 2</span><span style="--s-dark:#666666;--s-light:#999999;">;</span><span style="--s-dark:#758575DD;--s-light:#A0ADA0;"> // è¾“å‡º true</span></span></code></pre><p>åœ¨ä½¿ç”¨äº†å¤§æ•°ç±»å‹åï¼Œå¯ä»¥é¿å…è¯¥é”™è¯¯ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> b</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#80A665;--s-light:#59873A;"> BigInt</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">Number</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">MAX_SAFE_INTEGER</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> +</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 1</span><span style="--s-dark:#CB7676;--s-light:#AB5959;">n</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> ===</span><span style="--s-dark:#80A665;--s-light:#59873A;"> BigInt</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">Number</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">MAX_SAFE_INTEGER</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> +</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 2</span><span style="--s-dark:#CB7676;--s-light:#AB5959;">n</span><span style="--s-dark:#666666;--s-light:#999999;">;</span><span style="--s-dark:#758575DD;--s-light:#A0ADA0;"> // è¾“å‡º false</span></span></code></pre><p>åœ¨ä½¿ç”¨å¤§æ•°ç±»å‹æ—¶ï¼Œæœ‰å‡ ä¸ªéœ€è¦ç‰¹åˆ«æ³¨æ„çš„ç‚¹ï¼š</p><ul><li>ä¸èƒ½ä¸ Number ç±»å‹æ··åˆè¿ç®—ï¼Œæ¯”å¦‚ <code>1n + 2</code> ä¸ç„¶æŠ¥é”™ã€‚</li><li>ä¸èƒ½ä½¿ç”¨ Math çš„æ–¹æ³•ï¼Œæ¯”å¦‚ <code>pow</code> ï¼Œä¸ç„¶æŠ¥é”™ã€‚</li><li>è½¬ä¸º Number å¯èƒ½é€ æˆç²¾åº¦ä¸¢å¤±ã€‚</li></ul><h2 id="åŠ¨æ€-import" tabindex="-1">åŠ¨æ€ import <a class="header-anchor" href="#åŠ¨æ€-import">ğŸ”—</a></h2><p>æä¾›äº†ä¸€ç§å¼‚æ­¥åŠ è½½æ¨¡å—æ–‡ä»¶çš„ç‰¹æ€§ï¼Œå¦‚æœä½¿ç”¨è¿‡ vue-router çš„åŠ¨æ€è·¯ç”±ï¼Œé‚£ä¹ˆåº”è¯¥å¯¹è¿™ç§è¯­æ³•å¾ˆç†Ÿæ‚‰ï¼Œæœ¬è´¨å°±æ˜¯ import ä¸€ä¸ªé¢å¤–çš„æ¨¡å—ï¼Œè¿”å›ä¸€ä¸ª Promise ï¼Œæ¨¡å—åŠ è½½å®Œæˆåä¼š resolve è¯¥ Promise ï¼Œè¿›è€Œæ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// util.js</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">export</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> const</span><span style="--s-dark:#80A665;--s-light:#59873A;"> add</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#666666;--s-light:#999999;"> (</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">a</span><span style="--s-dark:#666666;--s-light:#999999;">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> b</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">  return</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> a</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> +</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> b</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span></code></pre><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">&lt;!-- index.html --&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> type</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">module</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#80A665;--s-light:#59873A;"> load</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#666666;--s-light:#999999;"> ()</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">  import</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">./util.js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">).</span><span style="--s-dark:#80A665;--s-light:#59873A;">then</span><span style="--s-dark:#666666;--s-light:#999999;">((</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">module</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">    // ä½¿ç”¨ module</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  },</span><span style="--s-dark:#666666;--s-light:#999999;"> (</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">err</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">    // åŠ è½½é”™è¯¯</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  })</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span></code></pre><p>è¦æ³¨æ„è¯¥ç‰¹æ€§åªèƒ½åœ¨æ¨¡å—ç¯å¢ƒä¸‹ä½¿ç”¨ï¼Œå³ package.json ä¸­çš„ <code>type</code> ä¸º <code>module</code> ï¼Œæˆ–è€…æ–‡ä»¶æ‰©å±•åä¸º <code>mjs</code> ï¼Œæˆ–è€… <code>script</code> æ ‡ç­¾æŒ‡å®š <code>type</code> ä¸º <code>module</code> ã€‚</p><h2 id="è§„èŒƒ-for-in-é¡ºåº" tabindex="-1">è§„èŒƒ for-in é¡ºåº <a class="header-anchor" href="#è§„èŒƒ-for-in-é¡ºåº">ğŸ”—</a></h2><p>åœ¨ es11 ä¹‹å‰ï¼Œå¦‚æœä½¿ç”¨ for-in éå†ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼Œé‚£ä¹ˆéå†çš„é¡ºåºå¯èƒ½å­˜åœ¨å·®å¼‚ã€‚è€Œ es11 ç»Ÿä¸€äº†è¯¥é¡ºåºï¼Œå³ï¼š</p><ul><li>å°†æ‰€æœ‰éè´Ÿæ•´æ•°é”®æŒ‰å‡åºéå†</li><li>æ‰€æœ‰å­—ç¬¦ä¸²é”®æŒ‰åˆ›å»ºçš„é¡ºåºå‡åºéå†</li></ul><p>ä¾‹å­å¦‚ä¸‹ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  b</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 1</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  a</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 2</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">  &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">-2</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 3</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">  &quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">-1</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 4</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // ç¬¦å·é”®ä¼šè¢«å¿½ç•¥</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  [</span><span style="--s-dark:#80A665;--s-light:#59873A;">Symbol</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">z</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">)]:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 5</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#4C9A91;--s-light:#2F798A;">  2</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 6</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#4C9A91;--s-light:#2F798A;">  1</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 7</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">for</span><span style="--s-dark:#666666;--s-light:#999999;"> (</span><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> key</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> in</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">  console</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">log</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">key</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// è¾“å‡º 1 2 b a -2 -1</span></span></code></pre><p>éœ€è¦æ³¨æ„è¿™ä¸ªæ–¹æ³•ä¼šæŠŠåŸå‹é“¾ä¸Šå¯æšä¸¾çš„å±æ€§ä¹Ÿéå†å‡ºæ¥ï¼Œå¦‚ä¸‹ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// æŒ‡å®š o çš„åŸå‹</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> Object</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">create</span><span style="--s-dark:#666666;--s-light:#999999;">({</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  protoKey1</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 1</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  protoKey2</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 2</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// o æœ¬èº«çš„å±æ€§</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">o</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">key1</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;"> 3</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">for</span><span style="--s-dark:#666666;--s-light:#999999;"> (</span><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> key</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> in</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> o</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">  console</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">log</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">key</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// è¾“å‡º</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// key1</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// protoKey1</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// protoKey2</span></span></code></pre><p>for-in åœ¨è¯»å–åŸå‹é“¾å¯¹è±¡ä¸Šçš„å±æ€§å’Œè‡ªèº«çš„å±æ€§æ˜¯åˆ†å¼€æ’åºçš„ï¼Œä¹Ÿå°±æ˜¯è¯´å…ˆæ’åºè‡ªèº«çš„å±æ€§ï¼Œå®Œæˆåï¼Œæ‰¾åˆ°åŸå‹é“¾ä¸Šçš„å¯¹è±¡ï¼Œç„¶åæ’åºåŸå‹é“¾å¯¹è±¡è‡ªèº«çš„å±æ€§ï¼Œä¾æ¬¡ç±»æ¨ï¼Œæ‰€ä»¥å¯ä»¥çœ‹åˆ°ä¸Šå›¾çš„ç»“æœä¸º <code>key1 protoKey1 protoKey2</code> ï¼Œè€Œé <code>protoKey1 protoKey2 key1</code> ï¼Œå¦‚æœè§„åˆ™æ˜¯å…¨éƒ¨å±æ€§è¯»å–ä¹‹åå†æ’åºçš„è¯ï¼Œ <code>protoKey1</code> å’Œ <code>protoKey2</code> ç†åº”å°±åœ¨ <code>key1</code> çš„å‰é¢äº†ã€‚</p><p>ç”±äºå®ƒä¼šè¯»å–åŸå‹é“¾ä¸Šçš„å±æ€§çš„ç‰¹æ€§ï¼Œä¸€èˆ¬è€Œè¨€ä¸ä½¿ç”¨å®ƒï¼Œè€Œæ˜¯é€šè¿‡ <code>Object.keys</code> æ¥æ‹¿åˆ°è‡ªèº«çš„é”®ï¼ˆå’Œ for-in å…·æœ‰ç›¸åŒçš„é¡ºåºï¼‰åå†è¿›è¡Œéå†ã€‚</p><p>è™½ç„¶ for-in å¯ä»¥éå†æ•°ç»„ï¼Œä½†æ˜¯ä¸å»ºè®®ä½¿ç”¨ï¼Œå› ä¸º for-in ä¸ºå±æ€§éå†ï¼ŒåŸå‹é“¾ä¸Šçš„å€¼ä¼šå½±å“éå†ç»“æœï¼Œå»ºè®®åªä½¿ç”¨ for-of ï¼Œå®ƒæ˜¯åŸºäºè¿­ä»£å™¨çš„ã€‚</p><h2 id="promise-allsettled" tabindex="-1">Promise.allSettled <a class="header-anchor" href="#promise-allsettled">ğŸ”—</a></h2><p>æ–°å¢çš„ Promise çš„é™æ€å‡½æ•°ï¼Œå®ƒå’Œ <code>Promise.all</code> çš„åŒºåˆ«å°±æ˜¯ï¼Œ <code>Promise.allSettled</code> ä¸‹å³ä½¿æŸä¸ª Promise reject äº†ä¹Ÿä¸ä¼šå½±å“æ•´ä¸ª Promise resolve ã€‚ <code>Promise.allSettled</code> ç”Ÿæˆçš„ Promise å¯¹è±¡åªä¼šè¢« resolve ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">Promise</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">all</span><span style="--s-dark:#666666;--s-light:#999999;">([</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  Promise</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">resolve</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;">1</span><span style="--s-dark:#666666;--s-light:#999999;">),</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  Promise</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">reject</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">é”™è¯¯</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">)</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">]).</span><span style="--s-dark:#80A665;--s-light:#59873A;">catch</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">err</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">  console</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">log</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">err</span><span style="--s-dark:#666666;--s-light:#999999;">);</span><span style="--s-dark:#758575DD;--s-light:#A0ADA0;"> // è¾“å‡º é”™è¯¯</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">Promise</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">allSettled</span><span style="--s-dark:#666666;--s-light:#999999;">([</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  Promise</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">resolve</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;">1</span><span style="--s-dark:#666666;--s-light:#999999;">),</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  Promise</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">reject</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">é”™è¯¯</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">)</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">]).</span><span style="--s-dark:#80A665;--s-light:#59873A;">then</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">res</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">  console</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">log</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">res</span><span style="--s-dark:#666666;--s-light:#999999;">);</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;"> </span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // è¾“å‡º </span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // [</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  //   { status: &#39;fulfilled&#39;, value: 1 },</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  //   { status: &#39;rejected&#39;, reason: &#39;é”™è¯¯&#39; }</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // ]</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">});</span></span></code></pre><p>è¿™ä¸ªæ¥å£æ¯”è¾ƒé€‚åˆä¸€äº›å…³è”åº¦ä¸é«˜çš„å¹¶å‘ Promise ï¼Œæ¯”å¦‚é¦–é¡µè·å–ä¸åŒæ¿å—çš„æ•°æ®ï¼ŒæŸä¸ªæ¿å—é”™è¯¯ä¸€èˆ¬æ˜¯ä¸å½±å“å…¶ä»–æ¿å—çš„æ˜¾ç¤ºçš„ï¼Œåªéœ€è¦åœ¨ <code>then</code> ä¸­åˆ¤æ–­æ˜¯å“ªä¸ªæ¿å—é”™è¯¯åšå¯¹åº”çš„æµç¨‹å³å¯ã€‚</p><h2 id="string-prototype-matchall" tabindex="-1">String.prototype.matchAll <a class="header-anchor" href="#string-prototype-matchall">ğŸ”—</a></h2><p>è¿”å›å’Œæ­£åˆ™å¯¹è±¡åŒ¹é…çš„æ‰€æœ‰ç»“æœï¼ŒåŒ…æ‹¬æ•è·ç»„ï¼Œä¾‹å­å¦‚ä¸‹ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> regexp</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> /</span><span style="--s-dark:#C4704F;--s-light:#AB5E3F;">t</span><span style="--s-dark:#666666;--s-light:#999999;">(?&lt;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">g1</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span><span style="--s-dark:#C4704F;--s-light:#AB5E3F;">e</span><span style="--s-dark:#666666;--s-light:#999999;">)(?&lt;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">g2</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span><span style="--s-dark:#C4704F;--s-light:#AB5E3F;">st</span><span style="--s-dark:#666666;--s-light:#999999;">(?&lt;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">g3</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span><span style="--s-dark:#6872AB;--s-light:#5A6AA6;">\\d</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;">?</span><span style="--s-dark:#666666;--s-light:#999999;">))</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">g</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> str</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &#39;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">test1test2</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> array</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#666666;--s-light:#999999;"> [...</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">str</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">matchAll</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">regexp</span><span style="--s-dark:#666666;--s-light:#999999;">)];</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// è¾“å‡º</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// [</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//   [</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;test1&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;e&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;st1&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;1&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     index: 0,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     input: &#39;test1test2&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     groups: [Object: null prototype] { g1: &#39;e&#39;, g2: &#39;st1&#39;, g3: &#39;1&#39; }</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//   ],</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//   [</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;test2&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;e&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;st2&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;2&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     index: 5,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     input: &#39;test1test2&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     groups: [Object: null prototype] { g1: &#39;e&#39;, g2: &#39;st2&#39;, g3: &#39;2&#39; }</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//   ]</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// ]</span></span></code></pre><p>å¦‚æœä½¿ç”¨ <code>String.prototype.match</code> ï¼ˆ <code>g</code> æ¨¡å¼ï¼‰ï¼Œåˆ™ä¸ä¼šè¾“å‡ºæ•è·ç»„ï¼Œè€Œä¸”è¿”å›å€¼ä¸ºæ•°ç»„æˆ– <code>null</code> è€Œéè¿­ä»£å™¨ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> regexp</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> /</span><span style="--s-dark:#C4704F;--s-light:#AB5E3F;">t</span><span style="--s-dark:#666666;--s-light:#999999;">(?&lt;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">g1</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span><span style="--s-dark:#C4704F;--s-light:#AB5E3F;">e</span><span style="--s-dark:#666666;--s-light:#999999;">)(?&lt;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">g2</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span><span style="--s-dark:#C4704F;--s-light:#AB5E3F;">st</span><span style="--s-dark:#666666;--s-light:#999999;">(?&lt;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">g3</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span><span style="--s-dark:#6872AB;--s-light:#5A6AA6;">\\d</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;">?</span><span style="--s-dark:#666666;--s-light:#999999;">))</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">g</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> str</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &#39;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">test1test2</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> array</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> str</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">match</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">regexp</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// è¾“å‡º [ &#39;test1&#39;, &#39;test2&#39; ]</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> array2</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &quot;&quot;</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">match</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">regexp</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// è¾“å‡º null</span></span></code></pre><p>å¯ä»¥æŠŠå®ƒç†è§£ä¸º <code>RegExp.prototype.exec</code> çš„å¾ªç¯ç‰ˆï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> regexp</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> /</span><span style="--s-dark:#C4704F;--s-light:#AB5E3F;">t</span><span style="--s-dark:#666666;--s-light:#999999;">(?&lt;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">g1</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span><span style="--s-dark:#C4704F;--s-light:#AB5E3F;">e</span><span style="--s-dark:#666666;--s-light:#999999;">)(?&lt;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">g2</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span><span style="--s-dark:#C4704F;--s-light:#AB5E3F;">st</span><span style="--s-dark:#666666;--s-light:#999999;">(?&lt;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">g3</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span><span style="--s-dark:#6872AB;--s-light:#5A6AA6;">\\d</span><span style="--s-dark:#4C9A91;--s-light:#2F798A;">?</span><span style="--s-dark:#666666;--s-light:#999999;">))</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">g</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> str</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> &#39;</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">test1test2</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">&#39;</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">let</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> match</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> results</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#666666;--s-light:#999999;"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">while</span><span style="--s-dark:#666666;--s-light:#999999;"> ((</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">match</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> regex</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">exec</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">str</span><span style="--s-dark:#666666;--s-light:#999999;">))</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> !==</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> null</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">  results</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">push</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">match</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// results è¾“å‡º</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// [</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//   [</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;test1&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;e&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;st1&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;1&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     index: 0,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     input: &#39;test1test2&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     groups: [Object: null prototype] { g1: &#39;e&#39;, g2: &#39;st1&#39;, g3: &#39;1&#39; }</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//   ],</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//   [</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;test2&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;e&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;st2&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     &#39;2&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     index: 5,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     input: &#39;test1test2&#39;,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//     groups: [Object: null prototype] { g1: &#39;e&#39;, g2: &#39;st2&#39;, g3: &#39;2&#39; }</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">//   ]</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">// ]</span></span></code></pre>`,65)])))}};export{A as categories,h as date,c as default,B as key,y as tags,g as title,k as updated,D as wordCount};
