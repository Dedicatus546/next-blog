<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>git中忽略文件且不添加到.gitignore文件</title>
    <script type="module" crossorigin="" src="/assets/app-I7hi7fN_.js"></script>
    <link rel="stylesheet" crossorigin="" href="/assets/app-wnGglYIs.css">
  <link rel="modulepreload" crossorigin="" href="/assets/git中忽略文件且不添加到-gitignore文件-D1KIUI-L.js"><meta property="og:title" content="git中忽略文件且不添加到.gitignore文件"><meta name="twitter:title" content="git中忽略文件且不添加到.gitignore文件"></head>
  <body>
    <div id="app" data-server-rendered="true"><div class="mujika" min-h="100vh" flex="~ col" bg="[--mygo-c-bg-alt]"><header class="mujika-header" flex="~ shrink-0" px-4="" h="70px" bg="[var(--mygo-c-bg)]" items-center="" justify-between="" data-v-c1947e25=""><a href="/" class="" flex="" gap-4="" items-center="" data-v-c1947e25=""><img w="40px" aspect-ratio-square="" src="/logo.svg" alt="恋の歌的logo" data-v-c1947e25=""></a><div data-v-c1947e25=""><div p-1="" flex="" gap-1="" rounded="6px" bg="[var(--mygo-c-bg-alt)]" data-v-c1947e25=""><!--[--><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="bg-[var(--mygo-c-bg)]" title="自动" data-v-c1947e25=""><!--[-->Auto<!--]--></div><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="" title="日间" data-v-c1947e25=""><!--[--><i class="i-ri:sun-line" data-v-c1947e25=""></i><!--]--></div><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="" title="夜间" data-v-c1947e25=""><!--[--><i class="i-ri:moon-line" data-v-c1947e25=""></i><!--]--></div><!--]--></div></div></header><main class="mujika-home" flex="grow" mx="auto" min-h="0" p-2="" w-full="" un-2xl:w="[calc(96rem-var(--spacing)*2)]"><div flex="" gap-2="" items-start=""><div flex="~ col grow" gap-2="" min-w-0=""><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="~ col" mb-4="" gap-4=""><h1 break-all="" text="34px center">git中忽略文件且不添加到.gitignore文件</h1></div><div flex="~ col" gap-3="" text="[var(--mygo-c-text-2)]"><div flex="~ wrap" gap-3="" justify-center=""><!----><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:calendar"></i><span un-hidden="" lg:inline="">发表于</span><span pl-1="">2022-01-05 16:51</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:calendar-check"></i><span un-hidden="" lg:inline="">更新于</span><span pl-1="">2023-02-13 18:28</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:folder"></i><span un-hidden="" lg:inline="">分类于</span><!--[--><a pl-1="" href="/category/编程">编程</a><!--]--></div></div><div flex="~ wrap" gap-3="" justify-center=""><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:file-word"></i><span un-hidden="" lg:inline="">总字数</span><span pl-1="">855</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:clock"></i><span un-hidden="" lg:inline="">阅读时长 ≈</span><span pl-1="">3 分钟</span></div></div></div><div class="mujika-doc-content"><!--[--><div class="kan-doc"><h1 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言">🔗</a></h1><p>记一次添加 <code>git</code> 忽略文件不添加到 <code>.gitignore</code> 中</p><h1 id="正文" tabindex="-1">正文 <a class="header-anchor" href="#正文">🔗</a></h1><p>写一些需求的时候，有时会随手创建一些 <code>test.js</code> 来跑一些代码</p><p><code>git add</code> 然后 <code>commit</code> 提交的时候，很容易忘记把它排除掉</p><p>但是又不想因为这个文件污染 <code>.gitignore</code> 文件</p><p>这时候，就要使用另一种方式来添加要排除的文件</p><p>在 <code>git</code> 中，每个项目的根目录下都会有 <code>.git</code> 文件夹</p><p><img src="https://s4.ax1x.com/2022/01/10/7VFPdP.png" alt=""></p><p>由于这个文件夹是隐藏的，所以可能你会看不到</p><p>这时候就要设置资源管理器显示隐藏目录了（这里我使用的是window11）</p><p><img src="https://s4.ax1x.com/2022/01/10/7VkVk6.png" alt=""></p><p>找个 <code>.git</code> 文件夹之后，进入这个文件夹</p><p>在这个文件夹里面，找到 <code>info/exclude</code></p><p><img src="https://s4.ax1x.com/2022/01/10/7Vk37t.png" alt=""></p><p>然后用记事本打开它，发现是个空文件</p><p>不过顶部有一些注释</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-text"><span class="line"><span># git ls-files --others --exclude-from=.git/info/exclude</span></span>
<span class="line"><span># Lines that start with '#' are comments.</span></span>
<span class="line"><span># For a project mostly in C, the following would be a good set of</span></span>
<span class="line"><span># exclude patterns (uncomment them if you want to use them):</span></span>
<span class="line"><span># *.[oa]</span></span>
<span class="line"><span># *~</span></span></code></pre><p>可以看到，最后两行给了我们两个例子</p><ul><li><code>*.[oa]</code></li><li><code>*~</code></li></ul><p>在注释中提到这是 <code>C</code> 项目可能会用到的注释</p><p>当然，我是个切图仔，所以添加的一般是一些 <code>test</code> 的 <code>js</code> 文件</p><p>所以我们可以加一行</p><ul><li><code>*.test.local.js</code></li></ul><p><img src="https://s4.ax1x.com/2022/01/10/7VATqs.png" alt=""></p><p>然后 <code>ctrl + s</code> 保存后关闭</p><p>回到 <code>vscode</code> 中，我们建一个 <code>1.test.local.js</code> ，随便写点内容</p><p><img src="https://s4.ax1x.com/2022/01/10/7VE1FP.png" alt=""></p><p>然后使用 <code>git status</code> 查看工作区的状态</p><p>发现此时工作区是干净的，也就是 <code>git</code> 没有对 <code>1.test.local.js</code> 这个文件进行追踪</p><p>当然目前这种添加是项目级别的</p><p>那我要是想全部的项目都排除某个文件，那要如何操作呢</p><p>这时候需要配置 <code>git config</code> 在 <code>git config</code> 中，我们可以指定全局的 <code>.gitignore</code> 文件</p><p><code>git-config</code>文档：<a href="http://git-scm.com/docs/git-config" target="_blank" rel="noopener">git-config</a></p><p>进上面的地址然后 <code>ctrl + f</code> 搜索 <code>core.excludesFile</code> ，然后就可以找到下面这段内容</p><blockquote><p>Specifies the pathname to the file that contains patterns to describe paths that are not meant to be tracked, in addition to <code>.gitignore</code> (per-directory) and <code>.git/info/exclude</code>. Defaults to <code>$XDG_CONFIG_HOME/git/ignore</code>. If <code>$XDG_CONFIG_HOME</code> is either not set or empty, <code>$HOME/.config/git/ignore</code> is used instead.</p></blockquote><p>指定一个除了每个项目下的 <code>.gitignore</code> 和 <code>.git/info/exclude</code> 之外的不被 <code>git</code> 跟踪的文件 默认的位置为 <code>$XDG_CONFIG_HOME/git/ignore</code> 如果 <code>$XDG_CONFIG_HOME</code> 环境变量不存在，则使用 <code>$HOME/.config/git/ignore</code></p><p>由于我电脑上 <code>git</code> 是在 <code>window10</code> 的时候装的，然后期间我又格盘装了 <code>window11</code></p><p>所以 <code>git</code> 的环境变量基本没了，这里就试着指定一个绝对路径来试试</p><p>在控制台下输入 <code>git config --global core.excludesFile E:\ignore</code></p><p>为全局的 <code>git</code> 配置 <code>core.excludesFile</code></p><p>然后我们在 <code>E:\ignore</code> 随便写个规则</p><p>就写 <code>index.js</code> ，可恶的 <code>index.js</code> 今天定让你有来无回！</p><p>先通过 <code>git config -l</code> 看看当前的配置</p><p><img src="https://s4.ax1x.com/2022/01/10/7VueQf.png" alt=""></p><p>没问题 <code>E:\ignore</code> 已经在配置中的</p><p>然后写个 <code>index.js</code>，然后依然执行 <code>git status</code> 查看工作区的状态</p><p><img src="https://s4.ax1x.com/2022/01/10/7VugOO.png" alt=""></p><p>一个干净的工作区，哈哈哈哈哈</p><h1 id="后记" tabindex="-1">后记 <a class="header-anchor" href="#后记">🔗</a></h1><p>记得要去掉配置，不然代码没提交上去不关我事啊</p><p>删掉配置的指令 <code>git config --global --unset core.excludesFile</code></p><p>然后再次 <code>git status</code> ， <code>index.js</code> 现在就可以被添加了</p><p><img src="https://s4.ax1x.com/2022/01/10/7VubX8.png" alt=""></p></div><!--]--></div><div flex="~ wrap" text="[var(--mygo-c-text-2)]" mt-8="" gap-4="" justify-center=""><!--[--><div>#git</div><div>#.gitignore</div><!--]--></div><!--]--></div></div><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex=""><a href="/41f0a7b1afd8" class=""><i class="i-mi:chevron-left" mr-1=""></i><span>Riddle Joker</span></a><a href="/167c74b8906d" class="" ml-auto=""><span>2021 - 2022 終わらない歌</span><i class="i-mi:chevron-right" ml-1=""></i></a></div><!--]--></div></div><!--[--><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-eedc551d="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="" gap-4="" items-start="" data-v-eedc551d=""><div flex="~ shrink-0" bg="[var(--mygo-c-bg-alt)]" rounded-6px="" w-60px="" aspect-ratio-square="" items-center="" justify-center="" data-v-eedc551d=""><i text-40px="" text="[#999]" class="i-fa6-regular:user" data-v-eedc551d=""></i></div><div flex="~ col grow" gap-4="" data-v-eedc551d=""><textarea disabled="" placeholder="万水千山总是情，留下评论行不行" class="mujika-git-talk-textarea" un-disabled:cursor-not-allowed="" p-4="" outline-0="" data-v-eedc551d=""></textarea><div flex="" items-start="" justify-between="" data-v-eedc551d=""><a target="_blank" href="https://guides.github.com/features/mastering-markdown/" data-v-eedc551d=""> 支持 Markdown 语法 </a><button class="mujika-git-talk-button" cursor-pointer="" data-v-eedc551d=""> 点击登录 </button></div></div></div><!--]--></div></div><!----><!--]--></div><aside class="mujika-aside" w="280px" flex="~ col shrink-0" top-2="" sticky="" max-h="[calc(100vh-var(--spacing)*4)]" un-hidden="" lg:block=""><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" flex="~ col" gap-4="" data-v-7ac4adc5=""><!--[--><div p="4 b-0" flex-shrink-0="">文章目录</div><div p="4 t-0" flex-grow="" min-h-0="" overflow-y-auto=""><!----></div><!--]--></div></aside><!--teleport start--><!--teleport end--></div></main><footer class="mujika-footer" px-4="" py-6="" bg="[var(--mygo-c-bg)]" flex="~ col shrink-0" gap-2="" items-center="" data-v-d1d7a153=""><div flex="" items-center="" data-v-d1d7a153=""><span data-v-d1d7a153="">Power by&nbsp;</span><i class="i-logos:vue" data-v-d1d7a153=""></i><span data-v-d1d7a153="">&nbsp;+&nbsp;</span><i class="i-logos:vitejs" data-v-d1d7a153=""></i></div><div text-center="" data-v-d1d7a153=""><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" data-v-d1d7a153=""> CC BY-NC-SA 4.0 </a> 2021 - PRESENT © Dedicatus545 </div><div text="[var(--mygo-c-text-2)]" text-center="" data-v-d1d7a153=""> 如果我和狗一样有尾巴的话，一定会藏不住这份喜悦，而尾巴一直摇个不停吧。 </div></footer></div></div>
  

</body></html>