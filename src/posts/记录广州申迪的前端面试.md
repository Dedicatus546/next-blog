---
title: >-
  è®°å½•å¹¿å·ç”³è¿ªçš„å‰ç«¯é¢è¯•
tags:
  - JavaScript
  - å‰ç«¯ç¬”è¯•é¢˜
categories:
  - ç¬”è¯•
date: 2024-11-28 22:18:36
updated: 2024-11-28 22:18:36
key: 1732779962
---



# å‰è¨€

è®°å½•å¹¿å·ç”³è¿ªçš„å‰ç«¯é¢è¯•ã€‚

<!-- more -->

æ‰¾äº†ä¸€ä¸ªæœˆå·¥ä½œäº†ï¼ŒæŠ•äº†ç®€å†å¾ˆå¤šéƒ½æ˜¯æ²¡å›å¤çš„ï¼Œä¸€ä¸ªæœˆåªé¢è¯•äº† 4 å®¶ã€‚

æ„Ÿè§‰è¦å›å®¶é€å¤–å–äº†ã€‚

# æ­£æ–‡

è¿™ä¸ªå…¬å¸éœ€è¦å…ˆç¬”è¯•ï¼Œæ‰€ä»¥åœ¨é‚£é‡Œå¡«äº†å·®ä¸å¤š 1 ä¸ªå°æ—¶é¢˜ç›®ã€‚

## åŸºæœ¬æ•°æ®ç±»å‹å’Œå¤æ‚æ•°æ®ç±»å‹

è¿™ä¸ªæ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œçœ‹ç»™çš„å¤šå°‘ä¸ªç©ºï¼Œä¸€å®šè¦å¡«çš„ä¸º `number` ï¼Œ `string` ï¼Œ `boolean` ï¼Œ `undefined` ï¼Œ `null`  ï¼Œç©ºå¤šçš„è¯å†åå•† `symbol` å’Œ `bigint` ã€‚

å¤æ‚æ•°æ®ç±»å‹å°±æ˜¯ `object` å¯¹è±¡ã€‚

## ç›’å­ margin-top åå¡Œ

ç»™å®šä¸¤ä¸ªå—çº§ç›’å­ï¼Œä¸Šæ–¹ç›’å­è®¾ç½® `margin-bottom: 10px` ä¸‹æ–¹ç›’å­è®¾ç½® `margin-top: 5px` ï¼Œé—®ä¸¤è€…çš„å·®è·æ˜¯å¤šå°‘ã€‚

è¿™é¢˜ä¸»è¦è€ƒç›¸é‚»ç›’å­çš„ `margin` åå¡Œï¼ˆä¹Ÿç§°ä¸ºå¤–è¾¹è·æŠ˜å ï¼‰ä»¥åŠ BFC ï¼Œå³ Block Formatting Context ï¼Œä¸­æ–‡åä¸ºåŒºå—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ã€‚

ç›¸é‚»ç›’å­åœ¨é»˜è®¤æƒ…å†µä¸‹ä¼šå‘ç”Ÿ `margin` åå¡Œï¼Œå³ä¼šå– `margin` å¤§çš„ä¸€æ–¹ä½œä¸ºä¸¤è€…çš„é—´è·ã€‚æ‰€ä»¥è¯¥é¢˜ç­”æ¡ˆä¸º `10px` ã€‚

ä¸ºäº†è§£å†³è¿™ç§æƒ…å†µï¼Œéœ€è¦è®©å…¶ä¸­çš„ä¸€ä¸ªç›’å­åˆ›å»º BFC ï¼Œè¿™æ ·å³å¯è§£å†³è¯¥é—®é¢˜ï¼Œæœ€ç®€å•åœ°è§£å†³æ–¹æ³•å°±æ˜¯åŠ ä¸Š `overflow: hidden` ä½¿å…¶åˆ›å»º BFC ã€‚

## å¤±ç„¦çš„äº‹ä»¶å

èšç„¦æ˜¯ `focus` ï¼Œå¤±ç„¦æ˜¯ `blur` ã€‚

## åŸå‹é“¾

è¾“å‡ºä»¥ä¸‹ä»£ç çš„ç»“æœ

```javascript
function o(name) {
  this.name = name;
}

o.protoType.print = function() {
  console.log(this.name);
}

const i = new o("dd");
i.name = "ee";
i.__proto__.name = "dd"
i.__proto__.print();
i.print();
```

é—®è¾“å‡ºç»“æœï¼Œè¿™é‡Œéœ€è¦å¯¹åŸå‹é“¾æœ‰ä¸€äº›è®¤è¯†ï¼Œ`o.protoType` å’Œ `i.__proto__` ä¸ºç›¸åŒçš„å¯¹è±¡ï¼Œæ¯ä¸ªå®ä¾‹åŒ–çš„å¯¹è±¡çš„ `__proto__` éƒ½æŒ‡å‘å®ƒæ„é€ å™¨çš„ `protoType` ã€‚

æ¥ç€æˆ‘ä»¬éœ€è¦çŸ¥é“ï¼Œéç®­å¤´å‡½æ•°çš„è°ƒç”¨çš„ `this` å–å†³äºè°è°ƒç”¨çš„å®ƒã€‚

- å¯¹äº `i.__proto__.print()` æ­¤æ—¶ `this` ä¸º `i.__proto__` ã€‚
- å¯¹äº `i.print()` æ­¤æ—¶ `this` ä¸º `i` ã€‚

è¿™é‡Œéœ€è¦æ³¨æ„ `i.print` å’Œ `i.__proto__.print` ä¸ºåŒä¸€ä¸ªå‡½æ•°ï¼Œ `i.print` åœ¨ `i` ä¸Šæ²¡æœ‰æ‰¾åˆ° `print` æ–¹æ³•åä¸€ç›´å¾€åŸå‹é“¾ä¸Šé¢æŸ¥æ‰¾ã€‚

æ‰€ä»¥è¿™é“é¢˜çš„ç­”æ¡ˆä¸º `dd` å’Œ `ee` ã€‚

## æ•°ç»„ä¸­æ’å…¥å…ƒç´ çš„æ–¹æ³•

è¿™é‡Œç»™äº†ä¸‰ä¸ªç©ºï¼Œåº”è¯¥æ˜¯å¡« `push` ã€ `unshift` å’Œ `splice` ã€‚

PSï¼šè¿™é‡Œå¼„æ··äº† `shift` å’Œ `unshift` ï¼Œå†™æˆ `shift` äº†ï¼Œ `shift` ä¸ºå¼¹å‡ºå¤´å…ƒç´ ï¼Œç»™è‡ªå·±èœéº»äº†ğŸ˜…ã€‚

- `push` åœ¨å°¾éƒ¨æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚
- `unshift` åœ¨å¤´éƒ¨æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚
- `splice` å¯ä»¥æŒ‡å®šæŸä¸ªä½ç½®åˆ é™¤å¹¶æ’å…¥å…ƒç´ ï¼Œåªéœ€æŠŠç¬¬äºŒä¸ªå‚æ•°è®¾ç½®ä¸º 0 ï¼Œé‚£ä¹ˆå°±ä¸ä¼šåˆ é™¤å…ƒç´ äº†ï¼Œå†æŒ‡å®šç¬¬ä¸‰ä¸ªä»¥åçš„å‚æ•°å°±å¯ä»¥å¾€è¯¥ä½ç½®æ’å€¼äº†ã€‚

## åœ°å€æ è¾“å…¥åœ°å€åˆ°æ˜¾ç¤ºé¡µé¢çš„è¿‡ç¨‹

çº¯å…«è‚¡æ–‡ï¼Œè¿™ç§ç›´æ¥ç™¾åº¦ã€‚

## æ·±æ‹·è´ä¸æµ…æ‹·è´

æµ…æ‹·è´å¯ä»¥ç”¨å¾ˆå¤šå†…ç½®çš„æ–¹æ³•å®ç°ï¼Œæ¯”å¦‚å­—é¢å¯¹è±¡çš„å±•å¼€ï¼Œæ•°ç»„çš„å±•å¼€ï¼š

```javascript
const o = { a: 1, b: 2 };
const copy = { ...o };
```

```javascript
const o = [1, 2, 3];
const copy = [...o];
```

æˆ–è€…ä½¿ç”¨ Object.assign æ¥è¿›è¡Œæµ…æ‹·è´ï¼š

```javascript
const o = { a: 1, b: 2 };
const copy = Object({}, o);
```

æ·±æ‹·è´å…¶å®å°±æ˜¯é€’å½’æµ…æ‹·è´ï¼Œå½“ç„¶ä¹Ÿæœ‰ä¸€äº›æ–¹ä¾¿çš„æ–¹æ³•æ¥è¿›è¡Œå¿«é€Ÿçš„æ·±æ‹·è´ã€‚

å¦‚æœå¯¹è±¡ä¸åŒ…å«æ— æ³•åºåˆ—åŒ–çš„ç±»å‹ï¼ˆæ¯”å¦‚ Function ï¼Œ Symbol ï¼Œ DOM å¯¹è±¡ç­‰ï¼‰ï¼Œä¸”æ²¡æœ‰å¾ªç¯å¼•ç”¨ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ `JSON.parse(JSON.stringify(obj))` ã€‚

```javascript
const o = { a: 1, b: 2 };
const copy = JSON.parse(JSON.stringify(o));
```

å¦‚æœä½ çš„æ‰§è¡Œç¯å¢ƒå¤Ÿç°ä»£ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨ [structuredClone](https://developer.mozilla.org/zh-CN/docs/Web/API/Window/structuredClone) åŸç”Ÿæ¥å£ï¼Œå®ƒå¾ˆå¥½åœ°å¤„ç†äº†å¾ªç¯å¼•ç”¨çš„æƒ…å†µï¼Œè€Œä¸”æ”¯æŒæ‰€æœ‰æ”¯æŒ[ç»“æ„åŒ–å…‹éš†çš„ç±»å‹](https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Workers_API/Structured_clone_algorithm#%E6%94%AF%E6%8C%81%E7%9A%84%E7%B1%BB%E5%9E%8B)ï¼Œå½“ç„¶å¯¹äºå…¶ä»–ç±»å‹ä¹Ÿæ˜¯æ— æ³•å…‹éš†çš„ã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä¸‰æ–¹åº“ï¼Œæ¯”å¦‚ lodash çš„ [clone](https://github.com/lodash/lodash/blob/main/dist/lodash.js#L11155) ï¼Œä¸è¿‡å®ƒä¹Ÿæ˜¯å®ç°äº†ç»“æ„åŒ–å…‹éš†çš„ç±»å‹ï¼Œå¦‚æœè¿˜è¦æ”¯æŒå…¶ä»–ä¸æ”¯æŒçš„ç±»å‹ï¼Œé‚£å°±å¾—æ‰‹å†™å…‹éš†å‡½æ•°æ¥å¤„ç†å¯¹åº”çš„æƒ…å†µäº†ã€‚

## æ‰‹å†™ä¸€ä¸ªèŠ‚æµï¼ˆthrottleï¼‰å‡½æ•°

å¯ä»¥åŸºäºæ—¶é—´æˆ³æˆ–è€… `setTimeout` æ¥å®ç°ã€‚

`setTimeout` çš„ç‰ˆæœ¬æˆ‘ä»¬å¯ä»¥å‚è€ƒ [radash](https://github.com/sodiray/radash) çš„å®ç°:

```javascript
const throttle = ({ interval }, func) => {
  let ready = true;
  let timer = void 0;
  const throttled = (...args) => {
    if (!ready)
      return;
    func(...args);
    ready = false;
    timer = setTimeout(() => {
      ready = true;
      timer = void 0;
    }, interval);
  };
  throttled.isThrottled = () => {
    return timer !== void 0;
  };
  return throttled;
};
```

åŸºäº `Date.now` å®ç°ï¼š

```javascript
function throttle(func, delay) {
  let lastCallTime = 0;

  const throttled = (...args) => {
    const now = Date.now();
    if (now - lastCallTime < delay) {
      return;
    }
    func(...args);
    lastCallTime = now;
  };

  return throttled;
}
```

## æ‰‹å†™ä¸€ä¸ªè§£æåœ°å€æ å‚æ•°çš„å‡½æ•°

å†™ä¸€ä¸ªå‡½æ•° ï¼Œè¦æ±‚æ ¹æ®å½“å‰ `href` æ¥è§£æ `query` å‚æ•°ï¼Œå³ï¼Œå¦‚æœè®¿é—® `http://example.com?a=1&b=2` ï¼Œé‚£ä¹ˆå‡½æ•° `fn("a")` è¿”å› `1` ï¼Œ `fn("b")` è¿”å› `2` ã€‚

è¿™é“é¢˜ç›´æ¥ä½¿ç”¨ URL å¯¹è±¡æ¥æå®šï¼Œæ‰‹å†™å®ç°æ˜¯ä¸å¯èƒ½ï¼Œåªèƒ½è°ƒè°ƒ api è¿™ä¸ªæ ·å­ï¼š

```javascript
function fn(key) {
  const url = new URL(location.href);
  return url.searchParams.get(key);
}
```

å½“ç„¶å¦‚æœè¦æ‰‹å†™å®ç°çš„è¯ï¼Œå…¶å®å°±æ˜¯é‚£å‡ ä¸ªæ­¥éª¤ï¼š

- é€šè¿‡ `location.search` æ‹¿åˆ°æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚
- å»æ‰ `?` ï¼Œç„¶åé€šè¿‡ `&` åˆ†å‰²ã€‚
- æ¥ç€æ¯ä¸€é¡¹é€šè¿‡ `=` åˆ†å‰²ï¼Œç´¢å¼• `0` ä¸ºé”®ï¼Œç´¢å¼• `1` ä¸ºå€¼ã€‚
- è¿”å›å¯¹åº”å€¼ã€‚

```javascript
function fn(searchKey) {
  const queryString = location.search;
  const queryList = queryString.substring(1).split("&");

  for(let i = 0; i < queryList.length; i++) {
    const [key, value] = queryList[i].split("=");
    if (key === searchKey) {
      return decodeURIComponent(value);
    }
  }

  return null;
}
```
