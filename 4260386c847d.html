<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/logo.svg"><meta name="viewport" content="width=device-width,initial-scale=1"><title>JavaScriptçš„æ¨¡å—è§„èŒƒ</title><script type="importmap">{"imports":{"vue":"https://esm.sh/vue","vue-router":"https://esm.sh/vue-router","pinia":"https://esm.sh/pinia","@vueuse/core":"https://esm.sh/@vueuse/core","@vueuse/components":"https://esm.sh/@vueuse/components","@vueuse/router":"https://esm.sh/@vueuse/router","date-fns":"https://esm.sh/date-fns","nprogress":"https://esm.sh/nprogress","octokit":"https://esm.sh/octokit","pinia-plugin-persistedstate":"https://esm.sh/pinia-plugin-persistedstate","vue-router-better-scroller":"https://esm.sh/vue-router-better-scroller"}}</script><script type="module" async="" crossorigin="" src="/assets/app-C4XuqRXg.js"></script><link rel="stylesheet" crossorigin="" href="/assets/app-DgCMeXmb.css"><link rel="modulepreload" crossorigin="" href="/assets/JavaScriptçš„æ¨¡å—è§„èŒƒ-CUC_V5ZX.js"><meta property="og:title" content="JavaScriptçš„æ¨¡å—è§„èŒƒ"><meta name="twitter:title" content="JavaScriptçš„æ¨¡å—è§„èŒƒ"></head><body><div id="app" data-server-rendered="true"><div class="mujika" min-h="100vh" flex="~ col" bg="[--mygo-c-bg-alt]"><header class="mujika-header" flex="~ shrink-0" px-4="" h="70px" bg="[var(--mygo-c-bg)]" items-center="" justify-between="" data-v-c1947e25=""><a href="/" class="" flex="" gap-4="" items-center="" data-v-c1947e25=""><img w="40px" aspect-ratio-square="" src="/logo.svg" alt="æ‹ã®æ­Œçš„logo" data-v-c1947e25=""></a><div data-v-c1947e25=""><div p-1="" flex="" gap-1="" rounded="6px" bg="[var(--mygo-c-bg-alt)]" data-v-c1947e25=""><!--[--><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="bg-[var(--mygo-c-bg)]" title="è‡ªåŠ¨" data-v-c1947e25=""><!--[-->Auto<!--]--></div><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="" title="æ—¥é—´" data-v-c1947e25=""><!--[--><i class="i-ri:sun-line" data-v-c1947e25=""></i><!--]--></div><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="" title="å¤œé—´" data-v-c1947e25=""><!--[--><i class="i-ri:moon-line" data-v-c1947e25=""></i><!--]--></div><!--]--></div></div></header><main class="mujika-home" flex="grow" mx="auto" min-h="0" p-2="" w-full="" un-2xl:w="[calc(96rem-var(--spacing)*2)]"><div flex="" gap-2="" items-start=""><div flex="~ col grow" gap-2="" min-w-0=""><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="~ col" mb-4="" gap-4=""><h1 break-all="" text="34px center">JavaScriptçš„æ¨¡å—è§„èŒƒ</h1></div><div flex="~ col" gap-3="" text="[var(--mygo-c-text-2)]"><div flex="~ wrap" gap-3="" justify-center=""><!----><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:calendar"></i><span un-hidden="" lg:inline="">å‘è¡¨äº</span><span pl-1="">2021-08-07 18:35</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:calendar-check"></i><span un-hidden="" lg:inline="">æ›´æ–°äº</span><span pl-1="">2023-02-13 18:28</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:folder"></i><span un-hidden="" lg:inline="">åˆ†ç±»äº</span><!--[--><a pl-1="" href="/category/ç¬”è®°">ç¬”è®°</a><!--]--></div></div><div flex="~ wrap" gap-3="" justify-center=""><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:file-word"></i><span un-hidden="" lg:inline="">æ€»å­—æ•°</span><span pl-1="">2.5K</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:clock"></i><span un-hidden="" lg:inline="">é˜…è¯»æ—¶é•¿ â‰ˆ</span><span pl-1="">9 åˆ†é’Ÿ</span></div></div></div><div class="mujika-doc-content"><!--[--><div class="kan-doc"><p><code>JavaScript</code>çš„æ¨¡å—è§„èŒƒ</p><p>ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§è§„èŒƒï¼š</p><ul><li><code>AMD</code></li><li><code>CMD</code></li><li><code>CommonJS</code></li><li><code>UMD</code></li><li><code>ES6 module</code></li></ul><h1 id="amdï¼ˆasynchronous-module-definitionï¼‰" tabindex="-1">AMDï¼ˆAsynchronous Module Definitionï¼‰ <a class="header-anchor" href="#amdï¼ˆasynchronous-module-definitionï¼‰">ğŸ”—</a></h1><p>å®ç°åº“ï¼š</p><p><a href="https://requirejs.org/" target="_blank" rel="noopener">RequireJS</a></p><blockquote><p>RequireJS is a JavaScript file and module loader. It is optimized for in-browser use, but it can be used in other JavaScript environments, like Rhino and Node. Using a modular script loader like RequireJS will improve the speed and quality of your code.</p></blockquote><p><code>RequireJS</code>æ˜¯ä¸€ä¸ª<code>JavaScript</code>æ–‡ä»¶å’Œæ¨¡å—çš„åŠ è½½å™¨ï¼Œä¸ºæµè§ˆå™¨çš„ä½¿ç”¨åšäº†ä¼˜åŒ–ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥åœ¨å…¶ä»–çš„<code>JavaScript</code>ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œæ¯”å¦‚<code>Rhino</code>å’Œ<code>Node</code>ã€‚ä½¿ç”¨åƒ<code>RequireJS</code>ä¸€æ ·çš„æ¨¡å—åŒ–çš„è„šæœ¬åŠ è½½å™¨èƒ½å¤Ÿæé«˜ä»£ç çš„åŠ è½½é€Ÿåº¦å’Œè´¨é‡ã€‚</p><p>ç›´æ¥åœ¨æµè§ˆå™¨å¼•å…¥å³å¯ä½¿ç”¨ï¼Œæˆ–è€…ä¸‹è½½åˆ°é¡¹ç›®ä¸­ï¼Œ<code>CDN</code>åœ°å€ï¼š<a href="https://cdn.bootcdn.net/ajax/libs/require.js/2.3.6/require.js" target="_blank" rel="noopener">https://cdn.bootcdn.net/ajax/libs/require.js/2.3.6/require.js</a>ã€‚</p><p>ä½¿ç”¨<code>http-server</code>è·‘ä¸€ä¸ªç®€æ˜“çš„<code>http</code>æœåŠ¡å™¨ï¼Œé¡¹ç›®ç›®å½•å¦‚ä¸‹ï¼š</p><p><a data-fancybox="doc-gallery" href="https://z3.ax1x.com/2021/08/08/flN4bR.png" target="_blank" rel="noopener noreferrer"><img src="https://z3.ax1x.com/2021/08/08/flN4bR.png" alt=""></a></p><p>å®šä¹‰ä¸€ä¸ª<code>util</code>æ¨¡å—ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">define</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#CB7676;--s-light:#AB5959">function</span><span style="--s-dark:#666666;--s-light:#999999"> ()</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">  function</span><span style="--s-dark:#80A665;--s-light:#59873A"> add</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">a</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">    return</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> a</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> +</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">  function</span><span style="--s-dark:#80A665;--s-light:#59873A"> cut</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">a</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">    return</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> a</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> -</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">  return</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">    add</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">    cut</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  };</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">});</span></span></code></pre><p>ç¼–å†™<code>index.html</code>ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;!</span><span style="--s-dark:#4D9375;--s-light:#1E754F">DOCTYPE</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> html</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">html</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> lang</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">en</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">head</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">meta</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> charset</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">UTF-8</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">meta</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> http-equiv</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">X-UA-Compatible</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> content</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">IE=edge</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">meta</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> name</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">viewport</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> content</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">width=device-width, initial-scale=1.0</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">title</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">æ¨¡å—åŒ–</span><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">title</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">head</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">body</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">div</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">RequireJS</span><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">div</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">script</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> src</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">script/require.js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> data-main</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">script/main.js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">script</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">body</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">html</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span></code></pre><p>é€šè¿‡<code>data-main</code>æˆ‘ä»¬å¯ä»¥æŒ‡å®šå½“<code>RequireJS</code>åŠ è½½å®Œæ¯•ä¹‹åæ‰§è¡Œçš„ç¬¬ä¸€ä¸ª<code>js</code>æ–‡ä»¶ï¼Œä¸€èˆ¬å«è¿™ä¸ªæ–‡ä»¶ä¸ºå…¥å£æ–‡ä»¶ï¼ˆ<code>Entry Point</code>ï¼‰ã€‚</p><p>ç¼–å†™<code>main.js</code>æ–‡ä»¶ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">require</span><span style="--s-dark:#666666;--s-light:#999999">([</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">util</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">],</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> function</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#BD976A;--s-light:#B07D48">util</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">  console</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">log</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">util</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">  console</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">log</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">util</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">add</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#4C9A91;--s-light:#2F798A">1</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#4C9A91;--s-light:#2F798A"> 2</span><span style="--s-dark:#666666;--s-light:#999999">));</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">});</span></span></code></pre><p><code>require</code>å‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šéœ€è¦çš„ä¾èµ–æ•°ç»„ï¼Œç¬¬äºŒä¸ªå‚æ•°ä»¥å›è°ƒå‡½æ•°çš„å½¢å¼ï¼Œå½“æŒ‡å®šçš„ä¾èµ–åŠ è½½å®Œæ¯•æ—¶ï¼Œè¿è¡Œå›è°ƒå‡½æ•°ã€‚</p><p>è¿™é‡ŒæŒ‡å®šäº†<code>util</code>æ¨¡å—ï¼Œé‚£ä¹ˆå›è°ƒå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°å°±ä¸º<code>util</code>æ¨¡å—è¿”å›çš„å¯¹è±¡ã€‚</p><p><a data-fancybox="doc-gallery" href="https://z3.ax1x.com/2021/08/08/flUoLj.png" target="_blank" rel="noopener noreferrer"><img src="https://z3.ax1x.com/2021/08/08/flUoLj.png" alt=""></a></p><p><code>AMD</code>çš„ç‰¹ç‚¹æ˜¯ä¾èµ–å‰ç½®ï¼Œå³å›è°ƒå‡½æ•°ä¸€å®šåœ¨æ¨¡å—<strong>æ‰§è¡Œ</strong>å®Œæ¯•ä¹‹åæ‰ä¼šæ‰§è¡Œï¼Œå³ä½¿æŸäº›æ¨¡å—åœ¨ä»£ç ä¸­å­˜åœ¨ä¸ä½¿ç”¨åˆ°çš„æƒ…å†µï¼Œæ¯”å¦‚ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// å‡å®šå­˜åœ¨module1å’Œmodule2æ¨¡å—</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">require</span><span style="--s-dark:#666666;--s-light:#999999">([</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">module1</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">module2</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">],</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> function</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#BD976A;--s-light:#B07D48">m1</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> m2</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">  let</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> isUseM2</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> true</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">  // ä¸€äº›è®¡ç®—</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">  // ç°åœ¨isUseM2å¯èƒ½ä¸æ˜¯trueäº†</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">  if</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#BD976A;--s-light:#B07D48">isUseM2</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">    m2</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">func</span><span style="--s-dark:#666666;--s-light:#999999">();</span><span style="--s-dark:#758575DD;--s-light:#A0ADA0"> // ä½¿ç”¨m2çš„æŸä¸ªåŠŸèƒ½</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">});</span></span></code></pre><p>åŒæ—¶<code>AMD</code>å®šä¹‰çš„æ¨¡å—éƒ½æ˜¯å¼‚æ­¥åŠ è½½çš„ï¼Œä»¥ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ§åˆ¶å°æŸ¥çœ‹<code>DOM</code>æƒ…å†µï¼Œå‘ç°<code>RequireJS</code>æ’å…¥äº†ä¸¤ä¸ª<code>script</code>æ ‡ç­¾æ¥åŠ è½½ç›¸åº”çš„æ¨¡å—ï¼Œè¿™ä¸¤ä¸ª<code>script</code>éƒ½æ·»åŠ äº†<code>async</code>å±æ€§ï¼Œä¹Ÿå°±ä¸ä¼šé˜»å¡åˆ°<code>DOM</code>çš„æ¸²æŸ“äº†ã€‚</p><p><a data-fancybox="doc-gallery" href="https://z3.ax1x.com/2021/08/08/fla7cD.png" target="_blank" rel="noopener noreferrer"><img src="https://z3.ax1x.com/2021/08/08/fla7cD.png" alt=""></a></p><p>å¼•å…¥å’ŒåŠ è½½æ¨¡å—çš„å·¥ä½œäº¤ç»™äº†<code>RequireJS</code>ï¼Œæ²¡æœ‰å¿…è¦æ‰‹å†™è¿›<code>index.html</code>æ–‡ä»¶ä¸­ï¼Œåªéœ€ä»¥<code>RequireJS</code>å®šä¹‰çš„æ¨¡å¼å‘<code>RequireJS</code>è¡¨æ˜éœ€è¦çš„æ¨¡å—å³å¯ï¼Œå³é€šè¿‡<code>require</code>å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ¥æŒ‡å®šæ¨¡å—ã€‚</p><h1 id="cmdï¼ˆcommon-module-definitionï¼‰" tabindex="-1">CMDï¼ˆCommon Module Definitionï¼‰ <a class="header-anchor" href="#cmdï¼ˆcommon-module-definitionï¼‰">ğŸ”—</a></h1><p>å®ç°åº“ï¼š</p><p><a href="seajs.github.io/seajs/">SeaJS</a></p><p>PSï¼šæ–‡æ¡£é¡µå¯èƒ½æ‰“ä¸å¼€ï¼Œå¯ä»¥æŠŠé¡¹ç›®æ‹‰åˆ°æœ¬åœ°ï¼Œæ‰“å¼€<code>doc/index.html</code>å³å¯æŸ¥çœ‹æ–‡æ¡£ã€‚<code>git</code>åœ°å€<code>https://github.com/seajs/seajs.git</code>ã€‚</p><p><a data-fancybox="doc-gallery" href="https://z3.ax1x.com/2021/08/08/flwOYt.png" target="_blank" rel="noopener noreferrer"><img src="https://z3.ax1x.com/2021/08/08/flwOYt.png" alt=""></a></p><p>æ–‡æ¡£é¦–é¡µï¼š</p><p><a data-fancybox="doc-gallery" href="https://z3.ax1x.com/2021/08/08/flwz6S.png" target="_blank" rel="noopener noreferrer"><img src="https://z3.ax1x.com/2021/08/08/flwz6S.png" alt=""></a></p><p><code>SeaJS</code>æ˜¯ç”±å›½å†…å¼€æºçš„é¡¹ç›®ï¼Œç”±è…¾è®¯ï¼Œé˜¿é‡Œå…±åŒç»´æŠ¤ï¼Œä¸è¿‡ç°åœ¨åŸºæœ¬æ²¡äººç»´æŠ¤äº†ï¼Œæœ€è¿‘ä¸€æ¬¡<code>push</code>å·²ç»æ˜¯<code>3</code>å¹´å‰äº†ï¼ˆå’Œ<code>RequireJS</code>ä¸€æ ·ï¼‰ã€‚</p><p>å’Œ<code>RequireJS</code>ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨<code>CDN</code>ä¹Ÿå¯ä»¥ä¸‹è½½åˆ°æœ¬åœ°å¼•å…¥ï¼Œ<a href="https://cdn.bootcdn.net/ajax/libs/seajs/2.3.0/sea.js" target="_blank" rel="noopener">https://cdn.bootcdn.net/ajax/libs/seajs/2.3.0/sea.js</a></p><p>åœ¨<code>SeaJS 2.1</code>ç‰ˆæœ¬åˆ é™¤äº†å¯¹<code>data-main</code>çš„æ”¯æŒï¼Œç°åœ¨ä½¿ç”¨<code>seajs.use</code>æ¥ä»£æ›¿<code>data-main</code>æ¥å¯åŠ¨ä¸»æ¨¡å—ã€‚</p><p><code>html</code>ä¿®æ”¹å¦‚ä¸‹ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;!</span><span style="--s-dark:#4D9375;--s-light:#1E754F">DOCTYPE</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> html</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">html</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> lang</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">en</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">head</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">meta</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> charset</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">UTF-8</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">meta</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> http-equiv</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">X-UA-Compatible</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> content</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">IE=edge</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">meta</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> name</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">viewport</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> content</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">width=device-width, initial-scale=1.0</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">title</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">æ¨¡å—åŒ–</span><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">title</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">head</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">body</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">div</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">SeaJS</span><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">div</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">script</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> src</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">script/sea.js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">script</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">script</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">      // åŠ è½½ä¸»æ¨¡å—main.js</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">      seajs</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">use</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">./script/main.js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">script</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">body</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">html</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span></code></pre><p>ä½¿ç”¨<code>define</code>å‡½æ•°æ¥å®šä¹‰æ¨¡å—<code>util</code>ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">define</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#CB7676;--s-light:#AB5959">function</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#BD976A;--s-light:#B07D48">require</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> exports</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> module</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">  function</span><span style="--s-dark:#80A665;--s-light:#59873A"> add</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">a</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">    return</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> a</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> +</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">  function</span><span style="--s-dark:#80A665;--s-light:#59873A"> cut</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">a</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">    return</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> a</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> -</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">  return</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">    add</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">    cut</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  };</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">});</span></span></code></pre><p>åœ¨<code>main</code>æ¨¡å—ä¸­ä½¿ç”¨<code>util</code>æ¨¡å—ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">define</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#CB7676;--s-light:#AB5959">function</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#BD976A;--s-light:#B07D48">require</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> exports</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> module</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">  const</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> util</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#80A665;--s-light:#59873A"> require</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">util.js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">  console</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">log</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">util</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">  console</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">log</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">util</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">add</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#4C9A91;--s-light:#2F798A">1</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#4C9A91;--s-light:#2F798A"> 2</span><span style="--s-dark:#666666;--s-light:#999999">));</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">});</span></span></code></pre><p>ç„¶åå°±å¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„æ•ˆæœå›¾ï¼š</p><p><a data-fancybox="doc-gallery" href="https://z3.ax1x.com/2021/08/08/flvuKP.png" target="_blank" rel="noopener noreferrer"><img src="https://z3.ax1x.com/2021/08/08/flvuKP.png" alt=""></a></p><p>å¯ä»¥çœ‹å‡º<code>CMD</code>çš„ç†å¿µæ˜¯ä¾èµ–åç½®ï¼Œæˆ–è€…è¯´ä¾èµ–å°±è¿‘ï¼Œå³æ— éœ€æå‰<strong>æ‰§è¡Œ</strong>å®Œå½“å‰æ¨¡å—éœ€è¦çš„å…¨éƒ¨ä¾èµ–æ¨¡å—çš„é€»è¾‘å³å¯æ‰§è¡Œæœ¬æ¨¡å—çš„å‡½æ•°ï¼Œæ¨¡å—åªåœ¨éœ€è¦çš„æ—¶å€™æ‰è¢«æ‰§è¡Œå¯¹åº”çš„å‡½æ•°ç„¶å<code>require</code>è¿›æ¥ï¼Œå³ç”¨å³è¿”ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªåŒæ­¥æ‰§è¡Œçš„æ¦‚å¿µã€‚</p><p>æ¯”å¦‚ä¹‹å‰åœ¨<code>RequireJS</code>ä¸­çš„ä¾‹å­ï¼Œåœ¨<code>SeaJS</code>ä¸­ä¸ºå¦‚ä¸‹ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// å‡å®šå­˜åœ¨module1å’Œmodule2æ¨¡å—</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">define</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#CB7676;--s-light:#AB5959">function</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#BD976A;--s-light:#B07D48">require</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">  let</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> isUseM2</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> true</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">  // ä¸€äº›è®¡ç®—</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">  // ç°åœ¨isUseM2å¯èƒ½ä¸æ˜¯trueäº†</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">  if</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#BD976A;--s-light:#B07D48">isUseM2</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // è¿™é‡Œæ‰æ‰§è¡Œmodule2çš„æ¨¡å—çš„é€»è¾‘</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">    const</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> m2</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#80A665;--s-light:#59873A"> require</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">module2</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">    m2</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">func</span><span style="--s-dark:#666666;--s-light:#999999">();</span><span style="--s-dark:#758575DD;--s-light:#A0ADA0"> // ä½¿ç”¨m2çš„æŸä¸ªåŠŸèƒ½</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  }</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> else</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // è¿™é‡Œä¸ä¼šåŠ è½½module2</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">});</span></span></code></pre><h1 id="commonjs" tabindex="-1">CommonJS <a class="header-anchor" href="#commonjs">ğŸ”—</a></h1><p><code>CommonJS</code>æ˜¯æœåŠ¡ç«¯ï¼ˆ<code>NodeJS</code>ï¼‰æ‰€ä½¿ç”¨çš„ä¸€å¥—è§„èŒƒï¼Œå®ƒä½¿ç”¨åŒæ­¥åŠ è½½æœºåˆ¶æ¥åŠ è½½æ¨¡å—ã€‚</p><p>ç”±äºåœ¨æœåŠ¡ç«¯è¿è¡Œï¼Œ<code>CommonJS</code>åœ¨å¼•å…¥å’Œæ‰§è¡Œéƒ½æ˜¯åŒæ­¥çš„ï¼Œè¿™å’Œ<code>AMD</code>å’Œ<code>CMD</code>æœ‰ç€æœ¬è´¨çš„ä¸åŒçš„ï¼Œåä¸¤è€…åœ¨å¼•å…¥é˜¶æ®µéƒ½æ˜¯å¼‚æ­¥çš„ã€‚<code>AMD</code>åœ¨æ‰§è¡Œé˜¶æ®µæ˜¯å¼‚æ­¥çš„ï¼Œè€Œ<code>CMD</code>ä¸ºåŒæ­¥çš„ã€‚å¼•å…¥å¯ä»¥ç†éœ€è¦æ‰§è¡Œçš„è§£ä¸ºä½¿ç”¨<code>HTTP</code>æ¥è·å–ä¸€ä¸ª<code>js</code>æ–‡ä»¶ï¼Œè€Œæ‰§è¡Œå¯ä»¥ç†è§£ä¸ºæ¨¡å—æœ¬èº«æ‰€é€»è¾‘ã€‚æ¯”å¦‚ä¸Šé¢ä¾‹å­ä¸­<code>util</code>æ¨¡å—ï¼Œåœ¨æ¨¡å—çš„å‡½æ•°ä¸­éœ€è¦å®šä¹‰<code>add</code>å‡½æ•°å’Œ<code>cut</code>å‡½æ•°ï¼Œè¿™ä¸ºæ¨¡å—çš„æ‰§è¡Œé˜¶æ®µã€‚</p><p><code>CommonJS</code>å…¶å®å’Œ<code>CMD</code>éƒ½æ˜¯ç›¸ä¼¼çš„ï¼Œ<code>CommonJS</code>ä¹Ÿå®šä¹‰æ¯ä¸ªæ–‡ä»¶ä¸ºä¸€ä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—å¯ä»¥é€šè¿‡<code>require</code>æ¥å¼•å…¥éœ€è¦çš„ä¾èµ–ï¼Œé€šè¿‡<code>module.exports</code>æˆ–è€…<code>exports</code>æ¥è¿”å›æ¨¡å—éœ€è¦æš´éœ²ç»™ç¬¬ä¸‰æ–¹çš„æ¥å£ã€‚</p><p>å¯ä»¥å°†<code>util.js</code>æ”¹é€ ä¸ºå¦‚ä¸‹ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// util.js</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">function</span><span style="--s-dark:#80A665;--s-light:#59873A"> add</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">a</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">  return</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> a</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> +</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">function</span><span style="--s-dark:#80A665;--s-light:#59873A"> cut</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">a</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">  return</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> a</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> -</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// æš´éœ²ç»™å¤–ç•Œçš„API</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">module</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#B8A965;--s-light:#998418">exports</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">  add</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">  cut</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">};</span></span></code></pre><p>åœ¨<code>main</code>ä¸­ä½¿ç”¨<code>util</code>æ¨¡å—ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> util</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#80A665;--s-light:#59873A"> require</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">./util</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">console</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">log</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">util</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">add</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#4C9A91;--s-light:#2F798A">1</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#4C9A91;--s-light:#2F798A"> 2</span><span style="--s-dark:#666666;--s-light:#999999">));</span></span></code></pre><p>ç”±äº<code>CommonJS</code>åªèƒ½åœ¨<code>Node</code>ä¸­è¿è¡Œï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨<code>Node</code>æ¥å¯åŠ¨<code>main.js</code>ï¼Œå¯åŠ¨ä¹‹åå°±å¯ä»¥çœ‹åˆ°å¦‚ä¸‹çš„æ•ˆæœï¼š</p><p><a data-fancybox="doc-gallery" href="https://z3.ax1x.com/2021/08/08/f1AYuQ.png" target="_blank" rel="noopener noreferrer"><img src="https://z3.ax1x.com/2021/08/08/f1AYuQ.png" alt=""></a></p><h1 id="umdï¼ˆuniversal-module-definitionï¼‰" tabindex="-1">UMDï¼ˆUniversal Module Definitionï¼‰ <a class="header-anchor" href="#umdï¼ˆuniversal-module-definitionï¼‰">ğŸ”—</a></h1><p><code>UMD</code>ä¸ºé€šç”¨æ¨¡å—å®šä¹‰è§„èŒƒï¼Œè®©äº§å‡ºçš„ä»£ç å…¼å®¹ä¸åŒçš„æ¨¡å—è§„èŒƒã€‚</p><p>æ¯”å¦‚å¦‚ä¸‹ä»£ç ï¼ˆå–è‡ª<code>webpack</code>ä¸­<code>output.library.type</code>ä¸º<code>umd</code>çš„æ‰“åŒ…ä»£ç ç‰‡æ®µï¼‰ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#CB7676;--s-light:#AB5959">function</span><span style="--s-dark:#80A665;--s-light:#59873A"> webpackUniversalModuleDefinition</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">root</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> factory</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">  if</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#CB7676;--s-light:#AB5959">typeof</span><span style="--s-dark:#B8A965;--s-light:#998418"> exports</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> ===</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">object</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> &amp;&amp;</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> typeof</span><span style="--s-dark:#B8A965;--s-light:#998418"> module</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> ===</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">object</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // commonjs2</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">    module</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#B8A965;--s-light:#998418">exports</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#80A665;--s-light:#59873A"> factory</span><span style="--s-dark:#666666;--s-light:#999999">();</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  }</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> else</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> if</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#CB7676;--s-light:#AB5959">typeof</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> define</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> ===</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">function</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> &amp;&amp;</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> define</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">amd</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // amd</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">    define</span><span style="--s-dark:#666666;--s-light:#999999">([],</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> factory</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  }</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> else</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> if</span><span style="--s-dark:#666666;--s-light:#999999"> (</span><span style="--s-dark:#CB7676;--s-light:#AB5959">typeof</span><span style="--s-dark:#B8A965;--s-light:#998418"> exports</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> ===</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">object</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // commonjs</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">    exports</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">MyLibrary</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">]</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#80A665;--s-light:#59873A"> factory</span><span style="--s-dark:#666666;--s-light:#999999">();</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  }</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> else</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    // æŒ‚è½½åˆ°å…¨å±€</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">    root</span><span style="--s-dark:#666666;--s-light:#999999">[</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">MyLibrary</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">]</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#80A665;--s-light:#59873A"> factory</span><span style="--s-dark:#666666;--s-light:#999999">();</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">})(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">global</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> function</span><span style="--s-dark:#666666;--s-light:#999999"> ()</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">  // é€»è¾‘</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">});</span></span></code></pre><h1 id="es6-module" tabindex="-1">ES6 module <a class="header-anchor" href="#es6-module">ğŸ”—</a></h1><p><code>es6</code>å®ç°äº†æ¨¡å—åŠŸèƒ½ï¼Œä¸»è¦é€šè¿‡ä¸¤ä¸ªå…³é”®å­—<code>import</code>å’Œ<code>export</code>ã€‚</p><p>ä¿®æ”¹<code>util.js</code>æ–‡ä»¶ä¸ºå¦‚ä¸‹ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">export</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> function</span><span style="--s-dark:#80A665;--s-light:#59873A"> add</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">a</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">  return</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> a</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> +</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">export</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> function</span><span style="--s-dark:#80A665;--s-light:#59873A"> cut</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">a</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">  return</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> a</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> -</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> b</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><p>ä¿®æ”¹<code>main.js</code>ä¸ºå¦‚ä¸‹ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">import</span><span style="--s-dark:#666666;--s-light:#999999"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> add</span><span style="--s-dark:#666666;--s-light:#999999"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">./util.js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">console</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">log</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">add</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">console</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">log</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#80A665;--s-light:#59873A">add</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#4C9A91;--s-light:#2F798A">1</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#4C9A91;--s-light:#2F798A"> 2</span><span style="--s-dark:#666666;--s-light:#999999">));</span></span></code></pre><p>ç„¶åéœ€è¦åœ¨<code>index.html</code>ä¸­é€šè¿‡<code>script</code>çš„<code>type=module</code>æ¥å¼•å…¥<code>main.js</code>ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;!</span><span style="--s-dark:#4D9375;--s-light:#1E754F">DOCTYPE</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> html</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">html</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> lang</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">en</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">head</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">meta</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> charset</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">UTF-8</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">meta</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> http-equiv</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">X-UA-Compatible</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> content</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">IE=edge</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">meta</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> name</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">viewport</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> content</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">width=device-width, initial-scale=1.0</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">title</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">æ¨¡å—åŒ–</span><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">title</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">head</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">body</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">div</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34">es6 module</span><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">div</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">    &lt;!-- type="module" --&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">    &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F">script</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> src</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">/script/main.js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> type</span><span style="--s-dark:#666666;--s-light:#999999">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">module</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">&gt;&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">script</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">  &lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">body</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F">html</span><span style="--s-dark:#666666;--s-light:#999999">&gt;</span></span></code></pre><p>ç„¶åè®¿é—®æµè§ˆå™¨ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p><p><a data-fancybox="doc-gallery" href="https://z3.ax1x.com/2021/08/09/f1WWPU.png" target="_blank" rel="noopener noreferrer"><img src="https://z3.ax1x.com/2021/08/09/f1WWPU.png" alt=""></a></p><h1 id="commonjså’Œes6-moduleåŒºåˆ«" tabindex="-1"><code>CommonJS</code>å’Œ<code>ES6 Module</code>åŒºåˆ« <a class="header-anchor" href="#commonjså’Œes6-moduleåŒºåˆ«">ğŸ”—</a></h1><p>çœ‹èµ·æ¥<code>es6</code>çš„æ¨¡å—ä»£ç å†™èµ·æ¥å’Œ<code>CommonJS</code>å·®ä¸å¤šï¼Œä½†æ˜¯ä»–ä»¬æœ‰ç€æœ¬è´¨çš„åŒºåˆ«ã€‚</p><ul><li><code>CommonJS</code>æ¨¡å—è¾“å‡ºçš„æ˜¯ä¸€ä¸ªå€¼çš„æ‹·è´ï¼Œ<code>ES6 Module</code>æ¨¡å—è¾“å‡ºçš„æ˜¯å€¼çš„å¼•ç”¨ï¼›</li><li><code>CommonJS</code>æ¨¡å—æ˜¯è¿è¡Œæ—¶åŠ è½½ï¼Œ<code>ES6 Module</code>æ˜¯ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£ï¼›</li><li><code>CommonJS</code>æ˜¯å•ä¸ªå€¼å¯¼å‡ºï¼Œ<code>ES6 Module</code>å¯ä»¥å¯¼å‡ºå¤šä¸ªï¼›</li><li><code>CommonJS</code>æ˜¯åŠ¨æ€è¯­æ³•å¯ä»¥å†™åœ¨åˆ¤æ–­é‡Œï¼Œ<code>ES6 Module</code>é™æ€è¯­æ³•åªèƒ½å†™åœ¨é¡¶å±‚ï¼›</li><li><code>CommonJS</code>çš„<code>this</code>æ˜¯å½“å‰æ¨¡å—ï¼Œ<code>ES6 Module</code>çš„<code>this</code>æ˜¯<code>undefined</code>ï¼›</li></ul><p>ä»¥ä¸Šçš„åˆ†ç‚¹æ¥è‡ªè¿™ï¼š<a href="https://www.zhihu.com/question/62791509/answer/1535800470" target="_blank" rel="noopener">CommonJS å’Œ ES6 module çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</a></p><p>ç¬¬ä¸€ç‚¹å¯ä»¥ç”¨ä¸€ä¸ªå°ä¾‹å­æ¥è¯´æ˜ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// CommonJS æ¨¡å— util.js</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">let</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> count</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#4C9A91;--s-light:#2F798A"> 1</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">function</span><span style="--s-dark:#80A665;--s-light:#59873A"> addOne</span><span style="--s-dark:#666666;--s-light:#999999">()</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">  count</span><span style="--s-dark:#CB7676;--s-light:#AB5959">++</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">function</span><span style="--s-dark:#80A665;--s-light:#59873A"> getCount</span><span style="--s-dark:#666666;--s-light:#999999">()</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">  return</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> count</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">module</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#B8A965;--s-light:#998418">exports</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">  count</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">  addOne</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">  getCount</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">};</span></span></code></pre><p>å½“æˆ‘ä»¬å¼•å…¥è¿™ä¸ªæ¨¡å—ä½¿ç”¨<code>addOne</code>è¿›è¡Œ<code>count</code>è‡ªå¢æ—¶ï¼Œå¯¼å‡ºçš„<code>count</code>å¹¶ä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// CommonJS æ¨¡å— test.js</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">const</span><span style="--s-dark:#666666;--s-light:#999999"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> count</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> addOne</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> getCount</span><span style="--s-dark:#666666;--s-light:#999999"> }</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#80A665;--s-light:#59873A"> require</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959">./util.js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// å¯¼å‡ºçš„countä¸º1</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">console</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">log</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">count</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// ç»™countè‡ªå¢</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">addOne</span><span style="--s-dark:#666666;--s-light:#999999">();</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// è¿˜æ˜¯ä¸º1</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">console</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">log</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">count</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// å†…éƒ¨çš„å€¼å˜ä¸ºäº†2</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">console</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">log</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#80A665;--s-light:#59873A">getCount</span><span style="--s-dark:#666666;--s-light:#999999">());</span></span></code></pre><p>è¾“å‡ºå¦‚ä¸‹ï¼š</p><p><a data-fancybox="doc-gallery" href="https://z3.ax1x.com/2021/08/14/fyAvgx.png" target="_blank" rel="noopener noreferrer"><img src="https://z3.ax1x.com/2021/08/14/fyAvgx.png" alt=""></a></p><p>å…¶å®ä¸éš¾è§£é‡Šï¼Œå½“æˆ‘ä»¬åœ¨æœ€åé€šè¿‡<code>module.exports</code>å¯¼å‡ºæ—¶ï¼Œæœ‰ä¸€ä¸ªèµ‹å€¼çš„è¿‡ç¨‹ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">module</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#B8A965;--s-light:#998418">exports</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">  count</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> count</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">  // ...</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">};</span></span></code></pre><p>è¿™æ—¶å€™å¯¼å‡ºçš„<code>count</code>å°±å’Œå†…éƒ¨çš„<code>count</code>ä¸æ˜¯ä¸€ä¸ªæŒ‡å‘äº†ã€‚</p><p>å¦‚æœä½¿ç”¨<code>ES6 Module</code>ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// ES6 Module æ¨¡å— util.mjs</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">export</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> let</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> count</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#4C9A91;--s-light:#2F798A"> 1</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">export</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> function</span><span style="--s-dark:#80A665;--s-light:#59873A"> addOne</span><span style="--s-dark:#666666;--s-light:#999999">()</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">  count</span><span style="--s-dark:#CB7676;--s-light:#AB5959">++</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">export</span><span style="--s-dark:#CB7676;--s-light:#AB5959"> function</span><span style="--s-dark:#80A665;--s-light:#59873A"> getCount</span><span style="--s-dark:#666666;--s-light:#999999">()</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">  return</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> count</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// ES6 Module æ¨¡å— test.mjs</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">import</span><span style="--s-dark:#666666;--s-light:#999999"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> count</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> addOne</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> getCount</span><span style="--s-dark:#666666;--s-light:#999999"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959">./util.js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977">"</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// å¯¼å‡ºçš„countä¸º1</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">console</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">log</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">count</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// ç»™countè‡ªå¢</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A">addOne</span><span style="--s-dark:#666666;--s-light:#999999">();</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// å˜ä¸º2</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">console</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">log</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">count</span><span style="--s-dark:#666666;--s-light:#999999">);</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// å†…éƒ¨çš„å€¼ä¹Ÿå˜ä¸ºäº†2</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">console</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#80A665;--s-light:#59873A">log</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#80A665;--s-light:#59873A">getCount</span><span style="--s-dark:#666666;--s-light:#999999">());</span></span></code></pre><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><a data-fancybox="doc-gallery" href="https://z3.ax1x.com/2021/08/14/fyVO6x.png" target="_blank" rel="noopener noreferrer"><img src="https://z3.ax1x.com/2021/08/14/fyVO6x.png" alt=""></a></p><p>èƒ½å¤Ÿä½¿ç”¨<code>CommonJS</code>å†™å‡ºç±»ä¼¼<code>ES6 Module</code>çš„æ•ˆæœå—ï¼Œå½“ç„¶æ˜¯å¯ä»¥çš„ï¼Œåªéœ€è¦ä»¥å¼•ç”¨çš„æ–¹å¼ä½¿ç”¨<code>count</code>å³å¯ã€‚</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">// CommonJS æ¨¡å— util.js</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">function</span><span style="--s-dark:#80A665;--s-light:#59873A"> addOne</span><span style="--s-dark:#666666;--s-light:#999999">()</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">  exports</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">count</span><span style="--s-dark:#CB7676;--s-light:#AB5959">++</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">function</span><span style="--s-dark:#80A665;--s-light:#59873A"> getCount</span><span style="--s-dark:#666666;--s-light:#999999">()</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F">  return</span><span style="--s-dark:#B8A965;--s-light:#998418"> exports</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48">count</span><span style="--s-dark:#666666;--s-light:#999999">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">module</span><span style="--s-dark:#666666;--s-light:#999999">.</span><span style="--s-dark:#B8A965;--s-light:#998418">exports</span><span style="--s-dark:#666666;--s-light:#999999"> =</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418">  count</span><span style="--s-dark:#666666;--s-light:#999999">:</span><span style="--s-dark:#4C9A91;--s-light:#2F798A"> 1</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">  addOne</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48">  getCount</span><span style="--s-dark:#666666;--s-light:#999999">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">};</span></span></code></pre><p>æ•ˆæœå°±å’Œ<code>ES6</code>çš„ä¸€æ ·äº†ã€‚</p><p>ç¬¬äºŒç‚¹å’Œç¬¬å››ç‚¹ä¸€èµ·è§£é‡Šå¯èƒ½ä¼šæ›´å®¹æ˜“ç†è§£ï¼Œ<code>CommonJS</code>æ˜¯<code>Node</code>ä¸Šçš„æ¨¡å—åŒ–ï¼Œå…¶å®ç°çš„åŸç†æ˜¯æ„å»ºä¸€ä¸ª<code>Module</code>å¯¹è±¡ï¼Œé€šè¿‡ç»™ä»£ç æ–‡æœ¬åŒ…è£…åˆ°ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨<code>module.exports</code>ã€<code>exports</code>è¿™äº›å˜é‡ï¼Œå³ï¼š</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff" tabindex="0"><code class="language-javascript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959">function</span><span style="--s-dark:#80A665;--s-light:#59873A"> module</span><span style="--s-dark:#666666;--s-light:#999999">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48">exports</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> require</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> module</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> __filename</span><span style="--s-dark:#666666;--s-light:#999999">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48"> __dirname</span><span style="--s-dark:#666666;--s-light:#999999">)</span><span style="--s-dark:#666666;--s-light:#999999"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0">  // æ–‡ä»¶é‡Œçš„ä»£ç éƒ½ä¼šä»¥å­—ç¬¦ä¸²çš„å½¢å¼æ‹¼æ¥åˆ°è¿™é‡Œã€‚</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999">}</span></span></code></pre><p>è€Œ<code>ES6 Module</code>ä¸æ˜¯ä½¿ç”¨å‡½æ•°å°è£…çš„æ–¹å¼è¿›è¡Œæ¨¡å—åŒ–ï¼Œè€Œæ˜¯ç›´æ¥ä»è¯­æ³•å±‚é¢æä¾›äº†æ¨¡å—åŒ–çš„åŠŸèƒ½ã€‚</p><p>å³<code>ES6 Module</code>ä¼šåœ¨ç¨‹åºå¼€å§‹å‰å…ˆæ ¹æ®æ¨¡å—å…³ç³»æŸ¥æ‰¾åˆ°æ‰€æœ‰æ¨¡å—ï¼Œå°†æ‰€æœ‰æ¨¡å—å®ä¾‹éƒ½åˆ›å»ºå¥½ã€‚</p><p>è¿™ä¹Ÿå¯ä»¥ä»ç¬¬å››ç‚¹çœ‹å‡ºæ¥ï¼Œç”±äº<code>CommonJS</code>å¯ä»¥åŠ¨æ€çš„å¼•å…¥ï¼Œæ‰€ä»¥åªè¦ä½ æƒ³ï¼Œå®Œå…¨å¯ä»¥åœ¨ä¸€ä¸ªæ¨¡å—çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨<code>require</code>å¼•å…¥ç›¸åº”çš„æ¨¡å—ã€‚</p><p>è€Œ<code>ES6 Module</code>åˆ™ä¸è¡Œï¼Œå› ä¸ºè¿è¡Œå‰éœ€è¦åˆ†æå¼•å…¥æƒ…å†µæ‰€ï¼Œæ‰€ä»¥åªèƒ½å°†æœ‰çš„<code>import</code>å†™åœ¨ä»£ç çš„å¼€å¤´ã€‚è¿™ä¹Ÿæ˜¯<code>Tree-Shaking</code>ï¼ˆæ‘‡æ ‘ï¼‰ä¼˜åŒ–çš„åŸç†ã€‚</p><p>ç¬¬ä¸‰ç‚¹å¯ä»¥ç†è§£ä¸º<code>CommonJS</code>æœ¬è´¨å°±æ˜¯å¯¼å‡ºä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸º<code>module.exports</code>æˆ–è€…<code>exports</code>ï¼Œè¿™ä¸¤è€…éƒ½æŒ‡å‘äº†ä¸€ä¸ªåˆå§‹çš„ç©ºå¯¹è±¡ã€‚</p><p>è€Œ<code>ES6 Module</code>ä»…ä»…åªæ˜¯å¯¹éœ€è¦å¯¼å‡ºçš„å¯¹è±¡åšæ ‡è®°è€Œå·²ï¼Œå³ä½¿ç”¨<code>export</code>å»æ ‡æ˜éœ€è¦å¯¼å‡ºçš„å˜é‡ã€‚</p><p>å¦‚æœåœ¨è¿è¡Œä¸­ä½¿ç”¨äº†æœªå¯¼å‡ºçš„å±æ€§ï¼Œ<code>CommonJS</code>ä¼šåœ¨è¿è¡Œæ—¶å¯èƒ½ä¼šæŠ¥é”™ï¼Œè€Œ<code>ES6 Module</code>åœ¨åˆ†æé˜¶æ®µå°±ä¼šç›´æ¥æŠ¥é”™äº†ã€‚</p></div><!--]--></div><div flex="~ wrap" text="[var(--mygo-c-text-2)]" mt-8="" gap-4="" justify-center=""><!--[--><div>#JavaScript</div><div>#æ¨¡å—</div><!--]--></div><!--]--></div></div><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="~ wrap" gap-4=""><a href="/004922bae706" class="" truncate="" title="åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨æ‘„åƒå¤´å’Œéº¦å…‹é£DEMO"><i class="i-mi:chevron-left" mr-1=""></i><span>åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨æ‘„åƒå¤´å’Œéº¦å…‹é£DEMO</span></a><a href="/64c3550d44ea" class="" ml-auto="" truncate="" title="CSSæ¨ªå‘æ»šåŠ¨ï¼Œä¸€ä¸ªå±…ä¸­ï¼Œå¤šä¸ªé å·¦"><span>CSSæ¨ªå‘æ»šåŠ¨ï¼Œä¸€ä¸ªå±…ä¸­ï¼Œå¤šä¸ªé å·¦</span><i class="i-mi:chevron-right" ml-1=""></i></a></div><!--]--></div></div><!--[--><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-a68bfdd1="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="" gap-4="" items-start="" data-v-a68bfdd1=""><div flex="~ shrink-0" bg="[var(--mygo-c-bg-alt)]" rounded-6px="" w-60px="" aspect-ratio-square="" items-center="" justify-center="" data-v-a68bfdd1=""><i text-40px="" text="[#999]" class="i-fa6-regular:user" data-v-a68bfdd1=""></i></div><div flex="~ col grow" gap-2="" lg:gap-4="" data-v-a68bfdd1=""><textarea disabled="" placeholder="ä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼Œç•™ä¸‹è¯„è®ºè¡Œä¸è¡Œ" class="mujika-git-talk-textarea" un-disabled:cursor-not-allowed="" p-2="" outline-0="" lg:p-4="" data-v-a68bfdd1=""></textarea><div flex="" items-start="" data-v-a68bfdd1=""><a target="_blank" href="https://guides.github.com/features/mastering-markdown/" data-v-a68bfdd1="">æ”¯æŒ Markdown è¯­æ³•</a><div ml-auto="" data-v-a68bfdd1=""></div><!----><button class="mujika-button" data-v-a68bfdd1="" data-v-15330f5f=""><!--[--><!--]--><!--[-->ç‚¹å‡»ç™»å½•<!--]--></button></div></div></div><!--]--></div></div><!----><!--]--></div><aside class="mujika-aside" w="280px" flex="~ col shrink-0" top-2="" sticky="" max-h="[calc(100vh-var(--spacing)*4)]" un-hidden="" lg:block=""><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" flex="~ col" gap-4="" data-v-7ac4adc5=""><!--[--><div p="4 b-0" flex-shrink-0="">æ–‡ç« ç›®å½•</div><div p="4 t-0" flex-grow="" min-h-0="" overflow-y-auto=""><!----></div><!--]--></div></aside><!--teleport start--><!--teleport end--></div></main><footer class="mujika-footer" px-4="" py-6="" bg="[var(--mygo-c-bg)]" flex="~ col shrink-0" gap-2="" items-center="" data-v-d1d7a153=""><div flex="" items-center="" data-v-d1d7a153=""><span data-v-d1d7a153="">Power by&nbsp;</span><i class="i-logos:vue" data-v-d1d7a153=""></i><span data-v-d1d7a153="">&nbsp;+&nbsp;</span><i class="i-logos:vitejs" data-v-d1d7a153=""></i></div><div text-center="" data-v-d1d7a153=""><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" data-v-d1d7a153="">CC BY-NC-SA 4.0 </a>2021 - PRESENT Â© Dedicatus545</div><div text="[var(--mygo-c-text-2)]" text-center="" data-v-d1d7a153="">å¦‚æœæˆ‘å’Œç‹—ä¸€æ ·æœ‰å°¾å·´çš„è¯ï¼Œä¸€å®šä¼šè—ä¸ä½è¿™ä»½å–œæ‚¦ï¼Œè€Œå°¾å·´ä¸€ç›´æ‘‡ä¸ªä¸åœå§ã€‚</div></footer></div></div></body></html>