---
title: ECMAScript2022ï¼ˆes13ï¼‰æ–°ç‰¹æ€§
date: 2024-12-27 23:26:53
updated: 2024-12-27 23:26:53
tags:
  - JavaScript
categories:
  - ç¬”è®°
key: 1734011336
---


# å‰è¨€

ECMAScript2022ï¼ˆes13ï¼‰æ–°ç‰¹æ€§ã€‚

<!-- more -->

# æ­£æ–‡

## é¡¶å±‚ await

åœ¨ esm æ¨¡å—å†…ï¼Œåœ¨é¡¶å±‚ await ç‰¹æ€§å‡ºæ¥å‰ï¼Œå¦‚æœä¸€ä¸ªæ¨¡å—çš„å¯¼å‡ºä¾èµ–å¼‚æ­¥æ“ä½œçš„è¯ï¼Œå¤„ç†èµ·æ¥å°±ä¼šæ¯”è¾ƒå¤æ‚ï¼Œæ¯”å¦‚å¦‚æœæˆ‘ä»¬éœ€è¦å¯¼å‡ºä¸€ä¸ª `db` å¯¹è±¡ï¼Œå³è¿æ¥ä¸€ä¸ªæ•°æ®åº“åå¯¼å‡ºï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå†™ï¼š

```javascript
// db.mjs
// ç¬¬ä¸‰æ–¹å¼•å…¥çš„åˆ›å»º db å®ä¾‹çš„å¼‚æ­¥å‡½æ•°
import { createDB } from "db-lib";

export let db = undefined;

export let initDBPromise = new Promise(async (resolve, reject) => {
  db = await createDB();
  resolve();
});
```

ç„¶åæˆ‘ä»¬åœ¨éœ€è¦çš„åœ°æ–¹ï¼Œéƒ½å¾—å¼•å…¥ `initDBPromise` æ¥ç¡®ä¿å¼•å…¥çš„ `db` ä¸ä¸º `undefined` ï¼Œå¦‚ä¸‹ï¼š

```javascript
// a.mjs
import { db, initDBPromise } from "db.mjs";

initDBPromise.then(() => {
  // ä½¿ç”¨ db ã€‚
});
```

åˆæˆ–è€…ç›´æ¥å¯¼å‡ºä¸€ä¸ª Promise ï¼Œresolve çš„ç»“æœä¸º `db` å¯¹è±¡ï¼Œå¦‚ä¸‹ï¼š

```javascript
// db.mjs
// ç¬¬ä¸‰æ–¹å¼•å…¥çš„åˆ›å»º db å®ä¾‹çš„å¼‚æ­¥å‡½æ•°
import { createDB } from "db-lib";

export let resolveDBPromise = new Promise(async (resolve, reject) => {
  resolve(await createDB());
});
```

ç„¶åä½¿ç”¨çš„æ—¶å€™å¦‚ä¸‹ï¼š

```javascript
// b.mjs
import { resolveDBPromise } from "db.mjs";

resolveDBPromise.then((db) => {
  // ä½¿ç”¨ db ã€‚
});
```

è™½ç„¶èƒ½å¤Ÿå®Œæˆéœ€æ±‚ï¼Œä½†è¿™ä¼šå¯¼è‡´ä¸€äº›é—®é¢˜ï¼š

- å¼€å‘è€…å¿…é¡»äº†è§£åº“ä½œè€…å¯¼å‡ºçš„å¯¹è±¡æ˜¯å¦å¯èƒ½æ˜¯å¼‚æ­¥äº§ç”Ÿçš„ï¼Œæ˜¯å¦æœ‰å¯¹åº”çš„ Promise å¯¼å‡ºæ¥ç¡®ä¿å¯¹è±¡å·²åˆå§‹åŒ–ã€‚è¿™ä¼šåŠ é‡ç†è§£è´Ÿæ‹…ã€‚
- å¼€å‘è€…å¾ˆæœ‰å¯èƒ½å¿˜è®°è°ƒç”¨å¯¼å‡ºçš„ Promise æ¥è·å–å·²åˆå§‹åŒ–çš„å¯¹è±¡ï¼Œä½†ä»£ç å¯èƒ½ä»ç„¶èƒ½æ­£å¸¸å·¥ä½œï¼Œæ¯”å¦‚æ­£å¼ç¯å¢ƒä¸­å¼‚æ­¥æ“ä½œå¯èƒ½æ¯”å¼€å‘ç¯å¢ƒä¸­è¦æ…¢å¾—å¤šï¼Œå¯¼è‡´æŸäº›æŸäº›å¼€å‘ç¯å¢ƒä¸­èƒ½æ‰§è¡Œçš„ä»£ç åœ¨æ­£å¼ç¯å¢ƒä¸­å‡ºç°äº†å¼‚å¸¸ã€‚
- å¦‚æœä¸€ä¸ªæ¨¡å— A ä¾èµ–äº†å¦ä¸€ä¸ªå¼‚æ­¥å¯¼å‡ºçš„æ¨¡å— B ï¼Œé‚£ä¹ˆæ„å‘³ç€ A æ¨¡å—ä¸­ä¾èµ– B æ¨¡å—çš„å¯¼å‡ºéƒ½å¾—æˆä¸ºå¼‚æ­¥å¯¼å‡ºï¼Œè¿™è¿›ä¸€æ­¥åŠ é‡äº†ç¼–å†™å’Œç†è§£è´Ÿæ‹…ã€‚

æ‰€ä»¥å¼•å…¥äº†é¡¶å±‚ await è¿™ä¸ªç‰¹æ€§ã€‚å¯ä»¥ç†è§£ä¸ºä¸Šé¢çš„å†™ Promise çš„æ­¥éª¤ï¼Œæ¨¡å—ç³»ç»Ÿå¸®ä½ å®ç°äº†ã€‚åœ¨æ¨¡å—çš„é¡¶éƒ¨å°±å¯ä»¥ç›´æ¥ await æŸä¸ª promise ã€‚ä¾‹å­å¦‚ä¸‹ï¼š

```javascript
// db.mjs
// ç¬¬ä¸‰æ–¹å¼•å…¥çš„åˆ›å»º db å®ä¾‹çš„å¼‚æ­¥å‡½æ•°
import { createDB } from "db-lib";

export const db = await createDB();
```

ç„¶ååœ¨å…¶ä»–æ–‡ä»¶ä¸­ä½¿ç”¨ï¼š

```javascript
// c.mjs
import { db } from "db.mjs";

// ä½¿ç”¨ db
```

è¿™é‡Œè¦æ³¨æ„ï¼Œå¦‚æœä¸€ä¸ªæ¨¡å—å…·æœ‰é¡¶å±‚ await ï¼Œé‚£ä¹ˆæ‰€æœ‰ä¾èµ–å®ƒçš„æ¨¡å—éƒ½å¾—ç­‰åˆ°å®ƒé˜»å¡ç»“æŸåå†æ‰§è¡Œã€‚ESM çš„ import æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ç§æ‰§è¡Œçš„è¿‡ç¨‹ï¼Œåªæœ‰æ‰§è¡Œå®Œæˆäº†ï¼Œæ‰èƒ½ç¡®å®šå¯¼å‡ºçš„ä¸œè¥¿ï¼Œæ‰€ä»¥ä¾èµ–å…·æœ‰é¡¶å±‚ await çš„æ¨¡å—éƒ½ä¼šè¢«é˜»å¡ã€‚

åœ¨[ææ¡ˆ](https://github.com/tc39/proposal-top-level-await)çš„é¡µé¢ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½çŸ¥é“ä¸€äº›å¾ˆæœ‰æ„æ€çš„ç‚¹ï¼Œæ¯”å¦‚ï¼š

å…³äº ESM æ¨¡å—çš„æ‰§è¡Œé¡ºåºï¼Œå¦‚æœä¸å­˜åœ¨é¡¶å±‚ await æ¨¡å—ï¼Œé‚£ä¹ˆæ¨¡å—çš„æ‰§è¡Œéµå¾ªåç»­éå†ï¼Œå³å…ˆéå†å·¦å­æ ‘ï¼Œå†éå†å³å­æ ‘ï¼Œæœ€åè¾“å‡ºæ ¹ï¼Œæ¯”å¦‚ç°åœ¨æœ‰å¦‚ä¸‹çš„æ–‡ä»¶ä¾èµ–ï¼š

```
c
|\
a b
```

è¿™ä¸ªå›¾çš„æ„æ€æ˜¯ c æ–‡ä»¶ import äº† a æ–‡ä»¶å’Œ b æ–‡ä»¶ã€‚

é‚£ä¹ˆæ‰§è¡Œ c æ–‡ä»¶ï¼Œé¡ºåºä¸º a b c ï¼Œa å’Œ b çš„é¡ºåºå–å†³äºä½  import çš„é¡ºåºï¼Œå¦‚æœ b çš„ import åœ¨ a å‰é¢ï¼Œé‚£ä¹ˆæ‰§è¡Œé¡ºåºå°±å˜æˆäº† b a c ã€‚

åœ¨åŠ ä¸Šé¡¶å±‚ await åï¼Œå…¶å®è¿™ä¸ªé¡ºåºéå†é¡ºåºä¹Ÿæ˜¯ä¿æŒä¸å˜çš„ï¼Œåªæ˜¯åœ¨é‡åˆ°é¡¶å±‚ await æ¨¡å—åä¼šè®©å‡ºæ‰§è¡Œé€»è¾‘ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªæ–‡ä»¶ä¾èµ–ï¼š

```
g
|\
| \
|  \
e   fï¼ˆé¡¶å±‚ await æ¨¡å—ï¼‰
|\  |\
a b c d
```

åœ¨è¿™ä¸ªä¾èµ–å›¾ä¸­ï¼Œå­æ ‘ e æ˜¯å®Œå…¨ä¸å—é¡¶å±‚ await å½±å“çš„ï¼Œå®ƒå®Œå…¨å’Œå‰é¢çš„ä¸€æ ·ï¼Œæ‰§è¡Œé¡ºåºä¸º a b e ï¼Œæ¥ç€éå† g å³å­æ ‘ï¼Œæ­¤æ—¶è§£æå®Œæˆ c å’Œ d ï¼Œå‘ç° f æ˜¯å¼‚æ­¥æ¨¡å—ï¼Œé‚£ä¹ˆéœ€è¦è®©å‡ºæ‰§è¡Œæƒï¼Œä½†æ˜¯ f å·²ç»æ˜¯ g åœ¨å¯¼å…¥é¡ºåºä¸Šçš„æœ€åä¸€ä¸ªæ¨¡å—äº†ï¼Œæ­¤æ—¶åªéœ€ç­‰å¾… f å®Œæˆå³å¯ï¼Œæœ€åå†éå† g æœ¬èº«ã€‚

å¦‚æœ f å’Œ e å¯¹è°ƒï¼š

```
g
|\
| \
|  \
f   e
|\  |\
c d a b
```

é‚£ä¹ˆæ‰§è¡Œåˆ° f é˜»å¡ä¹‹åï¼Œä¼šäº¤å‡ºæ‰§è¡Œæƒï¼Œè¿™æ—¶å­æ ‘ e å¼€å§‹è§£æï¼Œè¾“å‡º a b e ï¼Œæ¥ç€ç­‰å¾… f é˜»å¡å®Œæˆï¼Œæœ€åéå† g è‡ªèº«ã€‚

åœ¨ [FAQ](https://github.com/tc39/proposal-top-level-await?tab=readme-ov-file#faq) éƒ¨åˆ†ä¹Ÿè®¨è®ºäº†å…¶ä»–ä¸€äº›æ–¹é¢ï¼Œæ¯”å¦‚å¼‚æ­¥å¯¼å…¥å­˜åœ¨æ­»é”é—®é¢˜ï¼Œä»¥åŠè¯¥ç‰¹æ€§çš„è¯­ä¹‰å»ç³–åŒ–ï¼Œè¿˜æ˜¯ç›¸å½“æœ‰æ„æ€çš„ï¼Œå»ºè®®ä½œä¸º~~å•æ‰€è¯»ç‰©~~ã€‚

## ç±»å®ä¾‹çš„å±æ€§å£°æ˜

åœ¨ es13 ä¹‹å‰ï¼Œç±»çš„å±æ€§å£°æ˜éƒ½åœ¨æ„é€ å™¨ä¸­ï¼Œå¦‚ä¸‹ï¼š

```javascript
class A {
  constructor() {
    this.x = 1;
    this.y = 2;
  }
}
```

è€Œ es13 æ”¯æŒç›´æ¥åœ¨ class çš„å—å†…ç¼–å†™å˜é‡å£°æ˜å’Œèµ‹å€¼ï¼š

```javascript
class A {
  x = 1;
  y = 2;
}
```

## ç±»å®ä¾‹ç§æœ‰å±æ€§å’Œæ–¹æ³•

è™½ç„¶ js åœ¨ es6 å¼•å…¥äº† class ç‰¹æ€§ï¼Œä¸è¿‡æ•´ä½“ä¸Šä¾ç„¶ä¸å®Œæ•´ï¼Œæ¯”å¦‚åœ¨å°è£…æ€§çš„æ–¹é¢ã€‚

è™½ç„¶ç±»å¯ä»¥å°è£…é€»è¾‘ï¼Œä½†ç”±äº js çš„åŠ¨æ€æ€§ï¼Œå¤–éƒ¨ç”¨æˆ·å¯ä»¥éšæ„ä¿®æ”¹ç±»ä¸Šçš„å±æ€§ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ‰§è¡Œå‡ºç°å¼‚å¸¸ï¼Œè¿™æ˜¯ç¼ºå°‘ç§æœ‰å±æ€§å¯¼è‡´çš„ï¼Œæ‰€ä»¥ es13 å¼•å…¥äº†ç§æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œä»¥ `#` å¼€å¤´çš„å˜é‡éƒ½ä¼šè¢«å½“ä½œç§æœ‰å˜é‡å’Œç§æœ‰æ–¹æ³•ï¼Œå¦‚ä¸‹ï¼š

```javascript
class A {
  #a = 1;
  b = 2;

  #test() {
    console.log("#test");
  }
}
```

å¤–éƒ¨æ— æ³•è®¿é—® `#a` è¿™ä¸ªç§æœ‰å˜é‡æˆ–è€… `#test` è¿™ä¸ªç§æœ‰æ–¹æ³•ï¼š

```javascript
const a = new A();

a.#a; // æŠ¥é”™
a.#test(); // æŠ¥é”™
```

å†…éƒ¨å¯ä»¥ä½¿ç”¨ `this` æ­£å¸¸è®¿é—®ï¼š

```javascript
class A {
  #a = 1;
  b = 2;

  #test() {
    console.log("#test");
  }

  test() {
    console.log(this.#a);
    this.#test();
  }
}
```

è¿™é‡Œè¦æ³¨æ„ `#test` å’Œ `test` æ˜¯ä¸¤ä¸ª**åå­—ä¸åŒ**çš„å±æ€§ï¼Œè¿™æ„å‘³ç€å®ƒä»¬æ˜¯èƒ½å¤Ÿå…±å­˜çš„ã€‚

## ç±»é™æ€å±æ€§å’Œæ–¹æ³•

es13 ä¹Ÿå¢å¼ºäº†ç±»çš„é™æ€æˆå‘˜å’Œæ–¹æ³•çš„èƒ½åŠ›ï¼Œç±»ä¹Ÿå¯ä»¥å®šä¹‰ç§æœ‰é™æ€å±æ€§å’Œæ–¹æ³•äº†ï¼š

```javascript
class A {
  static #a = 1;
  static #test() {
    console.log(this.#a);
  }

  test() {
    A.#test();
  }
}

const a = new A();
a.test(); // è¾“å‡º 1
A.#a; // æŠ¥é”™
A.#test(); // æŠ¥é”™
```

## ç±»é™æ€å—

åœ¨ç±»åŠ å¼ºäº†é™æ€å±æ€§å’Œæ–¹æ³•åï¼Œé™æ€æˆå‘˜çš„åˆå§‹åŒ–ä¹Ÿè¿›ä¸€æ­¥çš„åŠ å¼ºï¼Œé€šè¿‡ static å—å¯ä»¥ä¸ºé™æ€æˆå‘˜è¿›è¡Œå¤æ‚çš„åˆå§‹åŒ–æ“ä½œï¼š

```javascript
// å¤æ‚çš„æ“ä½œ
const complex = () => {};

class A {
  static #a;

  static {
    const c = complex();
    if (c) {
      this.#a = 1;
    } else {
      const d = c.property
      this.#a = d;
    }
  }
}
```

è¿™é‡Œè¦æ³¨æ„ static å—çš„ `this` æŒ‡å‘çš„æ˜¯ç±»æœ¬èº«ï¼Œè€Œä¸æ˜¯ç±»çš„å®ä¾‹ï¼Œä½ å¯ä»¥ç†è§£ä¸º static å—å†…çš„ `this` æŒ‡å‘çš„å°±æ˜¯ `A` ï¼Œè€Œé `A` çš„å®ä¾‹ï¼Œå› ä¸ºè¿™æ˜¯å¯¹é™æ€æ•°æ®çš„åˆå§‹åŒ–ï¼Œè·Ÿå®ä¾‹æ— å…³ã€‚

## ç±»ç§æœ‰å±æ€§ in æ“ä½œç¬¦

åœ¨å‰é¢çš„å¼•å…¥ç§æœ‰å±æ€§å’Œæ–¹æ³•çš„ç‰¹æ€§ä¹‹åï¼Œå°±ä¼šå‘ç°ï¼Œæˆ‘å¾ˆéš¾ç”¨ä¸€ä¸ªç®€ä»‹çš„æ–¹æ³•æ¥åˆ¤æ–­æŸä¸ªç±»æ˜¯å¦å«æœ‰æŸä¸ªç§æœ‰å­—æ®µï¼Œè¿™æ—¶åŸºäºè¯»å–ç§æœ‰å±æ€§ä¼šæŠ¥é”™çš„ç‰¹æ€§ï¼Œå¯ä»¥å†™ä¸‹å¦‚ä¸‹çš„æ–¹æ³•ï¼š

```javascript
class A {
  #a = 1;
  b = 2;

  #test() {
    console.log("#test");
  }

  // è¯»å–ç§æœ‰å±æ€§çš„æ–¹æ³•ä¸€å®šå¾—åœ¨ç±»å†…ï¼Œç±»å¤–è¯»å–ç§æœ‰å±æ€§éƒ½æ˜¯è¯­æ³•é”™è¯¯çš„ã€‚
  static check(obj) {
    try {
      obj.#a;
      return true;
    } catch {
      return false;
    }
  }
}

A.check(new A()); // true
A.check({}); // false
```

è™½ç„¶èƒ½è§£å†³é—®é¢˜ï¼Œä½†çœ‹èµ·æ¥æœ‰ç‚¹å”ï¼Œæ‰€ä»¥ es13 è¿˜æ·»åŠ äº†ä¸€ä¸ª `in` æ“ä½œæ¥æ£€æµ‹ç§æœ‰å±æ€§ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š

```javascript
class A {
  #a = 1;
  b = 2;

  #test() {
    console.log("#test");
  }

  // è¯»å–ç§æœ‰å±æ€§çš„æ–¹æ³•ä¸€å®šå¾—åœ¨ç±»å†…ï¼Œç±»å¤–è¯»å–ç§æœ‰å±æ€§éƒ½æ˜¯è¯­æ³•é”™è¯¯çš„ã€‚
  static check(obj) {
    return #a in obj;
  }
}

A.check(new A()); // true
A.check({}); // false
```

## Array.prototype.at å’Œ String.prototype.at

è¿™ä¸¤ä¸ª `at` å‡½æ•°å…¶å®å°±æ˜¯æ–¹æ‹¬å·çš„å‡½æ•°å½¢å¼ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š

```javascript
const str = "ä½ å¥½";
str.at(0); // è¾“å‡º ä½  ï¼Œç­‰æ•ˆäº str[0]

const array = [1, 2, 3];
array.at(0); // è¾“å‡º 1 ï¼Œç­‰æ•ˆäº array[0]
```

æ—¢ç„¶æ˜¯ç­‰ä»·çš„ï¼Œé‚£ä¸ºä»€ä¹ˆè¿˜éœ€è¦ `at` å‡½æ•°å‘¢ï¼Œå…¶å® `at` å‡½æ•°è¿˜æ”¯æŒè´Ÿæ•°çš„è°ƒç”¨å½¢å¼ï¼Œå¦‚æœä¼ å…¥çš„å€¼ä¸ºè´Ÿæ•°ï¼Œé‚£ä¹ˆå®é™…çš„å¼•ç”¨ä¸º `index + length` ï¼Œæ¯”å¦‚ï¼š

```javascript
const str = "ä½ å¥½ï¼Œä¸–ç•Œ";
str.at(-1); // è¾“å‡º ç•Œ ï¼Œå®é™…çš„ç´¢å¼•ä½ç½®ä¸º str.length + (-1) = 4

const array = [1, 2, 3];
array.at(-2); // è¾“å‡º 2 ï¼Œå®é™…çš„ç´¢å¼•ä½ç½®ä¸º array.length + (-2) = 1
```

## Object.hasOwn

`Object.prototype.hasOwnProperty.call` çš„å®˜æ–¹çœç•¥ç‰ˆ...

ä¸è¿‡è¿™é‡Œå¯èƒ½æœ‰äº›å°ä¼™ä¼´ä¼šç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆè¦é€šè¿‡ `call` è°ƒç”¨ï¼Œç›´æ¥è°ƒç”¨ä¸è¡Œå—ï¼Ÿ

è¯¶ ğŸ¤“ï¼Œè¿™å°±è¦è¯´åˆ° js çš„åŸå‹é“¾çš„é—®é¢˜äº†ï¼Œå¦‚æœæŸä¸ªä¸çŸ¥åçš„è„šæœ¬åœ¨ä½ çš„å¯¹è±¡ä¸Šå¤šåŠ äº†ä¸ª `hasOwnProperty` å‡½æ•°ï¼Œé‚£å°±ä¼šå‡ºç°ï¼š

```javascript
const a = Object.create({
  hasOwnProperty() {
    return true;
  },
});

a.hasOwnProperty("æˆ‘æœ‰è¿™ä¸ªå±æ€§å—"); // è¾“å‡º true
```

æ‰€ä»¥ `Object.prototype.hasOwnProperty.call` å¯ä»¥æ”¹å˜ `hasOwnProperty` å†…çš„ `this` ï¼ŒåŒæ—¶ç¡®ä¿æ£€æµ‹è¿™ä»¶äº‹çš„é€»è¾‘ç¡®å®æ¥æºäº `Object.prototype.hasOwnProperty` ï¼Œä¸è¿‡ä¸ºäº†é˜²æ­¢è¿è¡Œæ—¶ä¿®æ”¹ï¼Œå¤§éƒ¨åˆ†çš„æ¡†æ¶éƒ½ä¼šæå‰ä¿å­˜ä¸€ä»½ `Object.prototype.hasOwnProperty` çš„å¼•ç”¨ï¼Œæ¯”å¦‚ï¼š

```javascript
const hasOwnProperty = Object.prototype.hasOwnProperty;
```

è™½ç„¶å…¶ä»–å…ˆäºè¯¥è„šæœ¬åŠ è½½çš„è„šæœ¬ä»æœ‰å¯èƒ½å¤å†™ `Object.prototype.hasOwnProperty` ï¼Œä½†ç®—æ˜¯é˜²å¾¡ç­‰çº§æœ€é«˜çš„äº†ã€‚

## æ­£åˆ™ d æ¨¡å¼

es13 å¼•å…¥äº†æ­£åˆ™çš„ `d` æ¨¡å¼ï¼Œå®ƒçš„ä½œç”¨æ˜¯å¯¹ä¸€äº›æ¥å£çš„è¿”å›å€¼æ·»åŠ æ•è·çš„ç´¢å¼•ä½ç½®ï¼Œå±æ€§åä¸º `indices` ï¼Œæ¯”å¦‚ `Regexp.prototype.exec` ï¼Œ `String.prototype.match` ç­‰ï¼Œä¾‹å­å¦‚ä¸‹ï¼š

```javascript
const re1 = /a+(?<Z>z)?/d;
const s1 = "xaaaz";
const m1 = re1.exec(s1);
// è¾“å‡º
// [
//   'aaaz',
//   'z',
//   index: 1,
//   input: 'xaaaz',
//   groups: [Object: null prototype] { Z: 'z' },
//   // é¢å¤–è¿”å›çš„ indices å±æ€§ï¼Œå…¶ä¸­ç¬¬ 0 é¡¹ä¸ºæ•´ä½“çš„åŒ¹é…ï¼Œç¬¬äºŒé¡¹ä¸ºæ•è·ç»„çš„åŒ¹é…ï¼Œéƒ½æ˜¯å·¦é—­å³å¼€çš„
//   indices: [
//     [ 1, 5 ],
//     [ 4, 5 ],
//     // å¦‚æœæ•è·ç»„æ˜¯å…·åçš„ï¼Œé‚£ä¹ˆç»“æœä¼šè¢«æ·»åŠ åœ¨è¯¥å±æ€§ä¸­
//     groups: [Object: null prototype] { Z: [4, 5] }
//   ]
// ]
```

å¦‚æœæ•è·ç»„æœªè¢«åŒ¹é…ï¼Œé‚£ä¹ˆç›¸åº”çš„ä½ç½®ä¼šä¸º undefined ï¼Œä¾‹å­å¦‚ä¸‹ï¼š

```javascript
const re1 = /a+(?<Z>z)?/d;
const s1 = "xaaay";
const m1 = re1.exec(s1);
// è¾“å‡º
// [
//   'aaa',
//   undefined,
//   index: 1,
//   input: 'xaaay',
//   groups: [Object: null prototype] { Z: undefined },
//   indices: [
//     [ 1, 4 ],
//     // è¿™é‡Œæ˜¯ undefined
//     undefined,
//     // å…·åæ•è·ç»„çš„ä½ç½®ä¹Ÿä¸º undefined 
//     groups: [Object: null prototype] { Z: undefined }
//   ]
// ]
```