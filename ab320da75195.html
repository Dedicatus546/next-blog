<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <link rel="icon" type="image/svg+xml" href="/logo.svg">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ä»0æ­å»ºä¸€ä¸ªVue3+Ts+Pinia+Vue-Router+Eslint+Prettieré¡¹ç›®</title>
    <script type="module" crossorigin="" src="/assets/app-I7hi7fN_.js"></script>
    <link rel="stylesheet" crossorigin="" href="/assets/app-wnGglYIs.css">
  <link rel="modulepreload" crossorigin="" href="/assets/ä»0æ­å»ºä¸€ä¸ªVue3-Ts-Pinia-Vue-Router-Eslint-Prettieré¡¹ç›®-C10IA-Ye.js"><meta property="og:title" content="ä»0æ­å»ºä¸€ä¸ªVue3+Ts+Pinia+Vue-Router+Eslint+Prettieré¡¹ç›®"><meta name="twitter:title" content="ä»0æ­å»ºä¸€ä¸ªVue3+Ts+Pinia+Vue-Router+Eslint+Prettieré¡¹ç›®"></head>
  <body>
    <div id="app" data-server-rendered="true"><div class="mujika" min-h="100vh" flex="~ col" bg="[--mygo-c-bg-alt]"><header class="mujika-header" flex="~ shrink-0" px-4="" h="70px" bg="[var(--mygo-c-bg)]" items-center="" justify-between="" data-v-c1947e25=""><a href="/" class="" flex="" gap-4="" items-center="" data-v-c1947e25=""><img w="40px" aspect-ratio-square="" src="/logo.svg" alt="æ‹ã®æ­Œçš„logo" data-v-c1947e25=""></a><div data-v-c1947e25=""><div p-1="" flex="" gap-1="" rounded="6px" bg="[var(--mygo-c-bg-alt)]" data-v-c1947e25=""><!--[--><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="bg-[var(--mygo-c-bg)]" title="è‡ªåŠ¨" data-v-c1947e25=""><!--[-->Auto<!--]--></div><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="" title="æ—¥é—´" data-v-c1947e25=""><!--[--><i class="i-ri:sun-line" data-v-c1947e25=""></i><!--]--></div><div leading="[1]" px-2="" py-1="" cursor-pointer="" rounded="6px" class="" title="å¤œé—´" data-v-c1947e25=""><!--[--><i class="i-ri:moon-line" data-v-c1947e25=""></i><!--]--></div><!--]--></div></div></header><main class="mujika-home" flex="grow" mx="auto" min-h="0" p-2="" w-full="" un-2xl:w="[calc(96rem-var(--spacing)*2)]"><div flex="" gap-2="" items-start=""><div flex="~ col grow" gap-2="" min-w-0=""><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="~ col" mb-4="" gap-4=""><h1 break-all="" text="34px center">ä»0æ­å»ºä¸€ä¸ªVue3+Ts+Pinia+Vue-Router+Eslint+Prettieré¡¹ç›®</h1></div><div flex="~ col" gap-3="" text="[var(--mygo-c-text-2)]"><div flex="~ wrap" gap-3="" justify-center=""><!----><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:calendar"></i><span un-hidden="" lg:inline="">å‘è¡¨äº</span><span pl-1="">2022-08-20 15:09</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:calendar-check"></i><span un-hidden="" lg:inline="">æ›´æ–°äº</span><span pl-1="">2023-02-13 18:28</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:folder"></i><span un-hidden="" lg:inline="">åˆ†ç±»äº</span><!--[--><a pl-1="" href="/category/ç¼–ç¨‹">ç¼–ç¨‹</a><!--]--></div></div><div flex="~ wrap" gap-3="" justify-center=""><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:file-word"></i><span un-hidden="" lg:inline="">æ€»å­—æ•°</span><span pl-1="">3.3K</span></div><div flex="" gap-1="" items-center=""><i class="i-fa6-regular:clock"></i><span un-hidden="" lg:inline="">é˜…è¯»æ—¶é•¿ â‰ˆ</span><span pl-1="">12 åˆ†é’Ÿ</span></div></div></div><div class="mujika-doc-content"><!--[--><div class="kan-doc"><h1 id="å‰è¨€" tabindex="-1">å‰è¨€ <a class="header-anchor" href="#å‰è¨€">ğŸ”—</a></h1><p>æ„Ÿè§‰è®¸ä¹…æ²¡å‘å¸–å­äº†ï¼Œæœ€è¿‘ä½¿ç”¨äº† <code>Vue3 + Ts</code> æ¥å†™å…¬å¸çš„ä¸€ä¸ªé¡¹ç›®</p><p>æ­£å¥½è®°å½•ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼Œæ–¹ä¾¿ä»¥åæ²¡ææ‡‚å¯ä»¥å›è¿‡å¤´æ¥æŸ¥çœ‹ï¼Œæ¯•ç«Ÿæˆ‘è¿™è®°å¿†åŠ›ï¼Œç¦»è€å¹´ç—´å‘†åº”è¯¥æ˜¯ä¸è¿œäº†ğŸ˜‚</p><h1 id="æ­£æ–‡" tabindex="-1">æ­£æ–‡ <a class="header-anchor" href="#æ­£æ–‡">ğŸ”—</a></h1><p>æœ€å…ˆå¼€å§‹ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ <code>Vite</code> è„šæ‰‹æ¶åˆ›å»ºä¸€ä¸ª <code>Vue3 + Ts</code> çš„é¡¹ç›®</p><p>ç„¶åæˆ‘ä»¬åœ¨è¿™ä¸ªé¡¹ç›®ä¸Šè¿›è¡Œæ·»ç –åŠ ç“¦</p><h2 id="åˆ›å»º-vue3-ts-é¡¹ç›®" tabindex="-1">åˆ›å»º Vue3 + Ts é¡¹ç›® <a class="header-anchor" href="#åˆ›å»º-vue3-ts-é¡¹ç›®">ğŸ”—</a></h2><p><code>Vite</code> æ–‡æ¡£åœ°å€ <a href="https://vitejs.dev/guide/#scaffolding-your-first-vite-project" target="_blank" rel="noopener">Scaffolding Your First Vite Project</a></p><p>è¿™é‡Œç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ <code>pnpm</code> åŒ…ç®¡ç†å·¥å…·ï¼Œæ‰€ä»¥æ‰§è¡Œ <code>pnpm create vite</code></p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201629891.avif" alt=""></p><p>è¾“å…¥é¡¹ç›®åï¼Œé€‰æ‹© <code>vue</code> å’Œ <code>vue-ts</code> å³å¯ï¼Œç„¶åæˆ‘ä»¬å°±æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªæœ€ç®€å•çš„ <code>Vue3 + Ts</code> çš„é¡¹ç›®</p><p>ç„¶åæˆ‘ä»¬è¿›å…¥é¡¹ç›®æ‰§è¡Œ <code>pnpm i</code> å®‰è£…ä¾èµ–</p><p>åˆ°è¿™ä¸€æ­¥è¿˜æ˜¯ç›¸å½“ç®€å•çš„ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ä¸‹é¡¹ç›®çš„ç»“æ„</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201805116.avif" alt=""></p><h2 id="å¼•å…¥-pinia-å’Œ-vue-router" tabindex="-1">å¼•å…¥ Pinia å’Œ Vue-Router <a class="header-anchor" href="#å¼•å…¥-pinia-å’Œ-vue-router">ğŸ”—</a></h2><p><code>Pinia</code> ä½œä¸º <code>Vue3</code> å®˜æ–¹çš„å…¨å±€çŠ¶æ€ç®¡ç†åº“ï¼Œä½¿ç”¨ä¸Šæ›´åŠ æ–¹ä¾¿ï¼Œå¯¹æ¯” <code>Vuex</code> æ¥è¯´æ‹¥æœ‰æ›´å¥½çš„ç±»å‹æ¨æ–­ï¼Œä»¥åŠç®€å•çš„ <code>Api</code> å¯¼å‡º</p><p><code>Vue-Router 4</code> æ˜¯ <code>Vue3</code> å®˜æ–¹çš„è·¯ç”±åº“ï¼Œç›¸å¯¹äº <code>React</code> çš„è®¸è®¸å¤šå¤šçš„è·¯ç”±å®ç°ï¼Œ<code>Vue</code> çš„é€‰æ‹©å°±åªæœ‰ <code>Vue-Router</code> ï¼Œæ¯•ç«Ÿæ˜¯å®˜æ–¹çš„ï¼Œé‡åˆ°é—®é¢˜ä¹Ÿå®¹æ˜“æ‰¾åˆ°è§£å†³åŠæ³•</p><p>å®‰è£… <code>Vue-Router</code> å¾ˆç®€å•ï¼Œç›´æ¥æ‰§è¡Œ <code>pnpm add vue-router</code> å³å¯ï¼Œ å®‰è£… <code>Pinia</code> åªéœ€æ‰§è¡Œ <code>pnpm add pinia</code></p><p>ç„¶åæˆ‘ä»¬éœ€è¦æŠŠå®ƒå®‰è£…åˆ° <code>Vue</code> ä¸Š</p><p>é»˜è®¤æƒ…å†µä¸‹çš„ <code>main.ts</code> é•¿ä¸‹é¢è¿™æ ·</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201807808.avif" alt=""></p><p>è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦å…ˆä¿®æ”¹ä¸‹ç›®å½•ç»“æ„ï¼Œå¢åŠ  <code>router</code> å’Œ <code>store</code> ä¸¤ä¸ªæ–‡ä»¶å¤¹</p><p>å¹¶ä¸”åˆ†åˆ«åœ¨è¿™ä¸¤ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢å»ºä¸€ä¸ª <code>index.ts</code></p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201809932.avif" alt=""></p><p>ä¹‹åæˆ‘ä»¬æ¥ç¼–å†™ <code>store</code> ä¸‹é¢çš„ <code>index.ts</code></p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201811983.avif" alt=""></p><p>æ¥ç€æˆ‘ä»¬ç¼–å†™ <code>router</code> ä¸‹é¢çš„ <code>index.ts</code></p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201814942.avif" alt=""></p><p>ç„¶åæˆ‘ä»¬ä¿®æ”¹ä¸‹ <code>main.ts</code> çš„ä»£ç </p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201819421.avif" alt=""></p><p>ç„¶åæˆ‘ä»¬å¯ä»¥æ‰§è¡Œ <code>pnpm run dev</code> çœ‹ä¸€ä¸‹</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201821765.avif" alt=""></p><p>è¿™æ—¶å€™æˆ‘ä»¬å‘ç° <code>Vue-Router</code> æŠ¥äº†ä¸€ä¸ªè­¦å‘Šï¼Œæ„æ€å°±æ˜¯æ²¡æœ‰è®¾ç½® <code>/</code> å¯¹åº”çš„è·¯ç”±</p><p>æˆ‘ä»¬å¯ä»¥æŠŠé»˜è®¤çš„ <code>HelloWorld</code> ç»„ä»¶ä½œä¸ºè·¯ç”±æ˜ å°„å‡ºå»</p><p>å…ˆä¿®æ”¹ <code>App.vue</code> ï¼Œä½¿ç”¨ <code>RouterView</code> æ¥å®šä¹‰ä¸€ä¸ªè·¯ç”±å…¥å£</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201824307.avif" alt=""></p><p>ç„¶åæˆ‘ä»¬æ·»åŠ ä¸€ä¸ªè·¯ç”±</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201825324.avif" alt=""></p><p>è¿™æ ·å­è¿™ä¸ªè­¦å‘Šå°±ä¼šæ¶ˆå¤±äº†ï¼Œå½“ç„¶ï¼Œè¿™åªæ˜¯ä¸ºäº†æ¼”ç¤ºå¦‚ä½•è®¾ç½®è·¯ç”±è€Œå·²ï¼Œå®é™…æƒ…å†µä¸‹å¯èƒ½ä¼šæ¯”è¾ƒå¤æ‚</p><p><code>Vue-Router</code> ä½¿ç”¨èµ·æ¥å’Œåœ¨ <code>Vue2</code> å…¶å®å·®ä¸å¤šï¼ŒåŸºæœ¬ä¸Šæ˜¯ä¸€æ¨¡ä¸€æ ·</p><p>è¿™é‡Œå†™ä¸‹ <code>Pinia</code> çš„ä½¿ç”¨</p><p>å¯¹äºå¾ˆå¤šçš„ç½‘ç«™ï¼Œæˆ‘ä»¬éƒ½æ˜¯è¦è®°å½•ç™»å½•çŠ¶æ€å’Œå½“å‰ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯çš„ï¼Œè¿™ä¸ªå°±å¯ä»¥ç”¨ä¸­å¿ƒçŠ¶æ€ç®¡ç†æ¥åš</p><p>æˆ‘ä»¬æ–°å»ºä¸€ä¸ª <code>useLoginStore.ts</code> ï¼ˆè¿™é‡Œå†™çš„ä»£ç æœ‰ç‚¹é•¿ï¼Œå°±ä¸æˆªå›¾äº†â€¦</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-typescript"><span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> defineStore</span><span style="--s-dark:#666666;--s-light:#999999;"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">pinia</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> computed</span><span style="--s-dark:#666666;--s-light:#999999;">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> reactive</span><span style="--s-dark:#666666;--s-light:#999999;">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> toRefs</span><span style="--s-dark:#666666;--s-light:#999999;"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">vue</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">useLoginStore</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#80A665;--s-light:#59873A;"> defineStore</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">LoginStore</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;">,</span><span style="--s-dark:#666666;--s-light:#999999;"> ()</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">  const </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">state</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#80A665;--s-light:#59873A;"> reactive</span><span style="--s-dark:#666666;--s-light:#999999;">&lt;{</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    loginUser</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">Record</span><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">string</span><span style="--s-dark:#666666;--s-light:#999999;">, </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">any</span><span style="--s-dark:#666666;--s-light:#999999;">&gt; | </span><span style="--s-dark:#CB7676;--s-light:#AB5959;">null</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  }&gt;({</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">    loginUser</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#CB7676;--s-light:#AB5959;">null</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">  const </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">isLogin</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#80A665;--s-light:#59873A;"> computed</span><span style="--s-dark:#666666;--s-light:#999999;">(()</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> state</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">loginUser</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> !== null</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">  const </span><span style="--s-dark:#80A665;--s-light:#59873A;">loginAction</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#CB7676;--s-light:#AB5959;"> async </span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">username</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">string</span><span style="--s-dark:#666666;--s-light:#999999;">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> password</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">string</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">    // è¿™é‡Œæ˜¯æ¨¡æ‹Ÿç™»å½•</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">    const </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">res</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> await</span><span style="--s-dark:#B8A965;--s-light:#998418;"> Promise</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">resolve</span><span style="--s-dark:#666666;--s-light:#999999;">({</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      username</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">lwf</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      email</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">xxx@qq.com</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    });</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    state</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">loginUser</span><span style="--s-dark:#666666;--s-light:#999999;"> = {</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      username</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">res</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">username</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">      email</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">res</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">email</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    };</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">  return</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">    ...</span><span style="--s-dark:#80A665;--s-light:#59873A;">toRefs</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">state</span><span style="--s-dark:#666666;--s-light:#999999;">),</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    isLogin</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    loginAction</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  };</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">export</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> default</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> useLoginStore</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span></code></pre><p>è™½ç„¶ <code>Pinia</code> ä¹Ÿå¯ä»¥å†™æˆå’Œ <code>Vuex</code> ä¸€æ ·ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿˜æ˜¯ä¸å¤Ÿä¼˜é›…ï¼Œæˆ‘è¿˜æ˜¯æ›´å–œæ¬¢è¿™ç§ <code>setup</code> å†™æ³•ï¼Œæ²¡æœ‰ <code>this</code> å¹²æ‰°</p><p>ç„¶åæˆ‘ä»¬å¯ä»¥å†™ä¸ªç®€ç­”çš„ç™»å½•é¡µï¼Œæ–°å»ºä¸€ä¸ª <code>Login.vue</code></p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-html"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> setup</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> lang</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">ts</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> reactive</span><span style="--s-dark:#666666;--s-light:#999999;"> }</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">vue</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">import</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> useLoginStore</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> from</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> "</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">./store/useLoginStore</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> loginStore</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#80A665;--s-light:#59873A;"> useLoginStore</span><span style="--s-dark:#666666;--s-light:#999999;">();</span></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> model</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#80A665;--s-light:#59873A;"> reactive</span><span style="--s-dark:#666666;--s-light:#999999;">({</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  username</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> ""</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#B8A965;--s-light:#998418;">  password</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;"> ""</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">const</span><span style="--s-dark:#80A665;--s-light:#59873A;"> login</span><span style="--s-dark:#666666;--s-light:#999999;"> =</span><span style="--s-dark:#666666;--s-light:#999999;"> ()</span><span style="--s-dark:#666666;--s-light:#999999;"> =&gt;</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#4D9375;--s-light:#1E754F;">  try</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    loginStore</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#80A665;--s-light:#59873A;">loginAction</span><span style="--s-dark:#666666;--s-light:#999999;">(</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">model</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">username</span><span style="--s-dark:#666666;--s-light:#999999;">,</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> model</span><span style="--s-dark:#666666;--s-light:#999999;">.</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">password</span><span style="--s-dark:#666666;--s-light:#999999;">);</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  }</span><span style="--s-dark:#4D9375;--s-light:#1E754F;"> catch</span><span style="--s-dark:#666666;--s-light:#999999;"> (</span><span style="--s-dark:#BD976A;--s-light:#B07D48;">e</span><span style="--s-dark:#666666;--s-light:#999999;">)</span><span style="--s-dark:#666666;--s-light:#999999;"> {</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">    // å¤„ç†é”™è¯¯</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  }</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">};</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">script</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">template</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">div</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">æ˜¯å¦ç™»å½•: {{ loginStore.isLogin }}</span><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">div</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">input</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> type</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">text</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> v-model</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">model.username</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">br</span><span style="--s-dark:#666666;--s-light:#999999;"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">input</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> type</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">text</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> v-model</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">model.password</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">br</span><span style="--s-dark:#666666;--s-light:#999999;"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  &lt;</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">button</span><span style="--s-dark:#BD976A;--s-light:#B07D48;"> @click</span><span style="--s-dark:#666666;--s-light:#999999;">=</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">login</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span><span style="--s-dark:#DBD7CAEE;--s-light:#393A34;">ç™»å½•</span><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">button</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">&lt;/</span><span style="--s-dark:#4D9375;--s-light:#1E754F;">template</span><span style="--s-dark:#666666;--s-light:#999999;">&gt;</span></span></code></pre><p>æ³¨å†Œåˆ°è·¯ç”±ä¸­</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201839187.avif" alt=""></p><p>æ‰“å¼€ <code>http://localhost:5173/login</code> å°±å¯ä»¥çœ‹åˆ°æ•ˆæœ</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201840206.avif" alt=""></p><p>å½“ç„¶è¿™é‡Œä¸å†™è´¦å·å¯†ç æ˜¯æ²¡é—®é¢˜çš„ï¼Œåªæ˜¯ç”¨æ¥åšä¸ªä¾‹å­ï¼Œéšä¾¿è¾“å…¥ç„¶åç‚¹å‡»ç™»å½•ï¼Œ<code>isLogin</code> ä¸º <code>true</code> äº†</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201845768.avif" alt=""></p><p>æˆ‘ä»¬å¯ä»¥ç”¨ <code>dev-tools</code> æ¥æŸ¥çœ‹ <code>Pinia</code> çš„çŠ¶æ€</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201847042.avif" alt=""></p><h2 id="å¼•å…¥-naive-ui-ç»„ä»¶åº“" tabindex="-1">å¼•å…¥ Naive-UI ç»„ä»¶åº“ <a class="header-anchor" href="#å¼•å…¥-naive-ui-ç»„ä»¶åº“">ğŸ”—</a></h2><p>ä¸€èˆ¬è€Œè¨€åšä¸€äº› <code>ToB</code> çš„ç³»ç»Ÿï¼ŒåŸºæœ¬ä¸Šéƒ½ä¸ä¼šæœ‰ <code>UI</code> å›¾çš„ï¼Œè¦æ±‚çš„å°±æ˜¯ä¸€ä¸ªæˆå‹å¿«ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªç»„ä»¶åº“æ¥å¸®åŠ©æˆ‘ä»¬å¼€å‘</p><p>æˆ‘ä¸ªäººè¿˜æ˜¯æ¯”è¾ƒå–œæ¬¢ <code>Naive-UI</code> è¿™ä¸ªç»„ä»¶åº“çš„ï¼Œ<code>Ant-Design</code> å’Œ <code>Element-UI</code> å…¶å®ä¹Ÿä¸é”™ï¼Œçœ‹ä¸ªäººå–œå¥½å§</p><p>è¿™é‡Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ <code>pnpm add naive-ui</code> å®‰è£…</p><p><code>Naive-UI</code> é»˜è®¤å°±æ”¯æŒ <code>tree-shaking</code> ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦åœ¨éœ€è¦ç”¨åˆ°çš„æ—¶å€™å¼•å…¥ç›¸åº”ç»„ä»¶å³å¯</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201901501.avif" alt=""></p><p>è¿™é‡Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ª <code>Button</code> ç»„ä»¶ï¼Œåˆ·æ–°é¡µé¢å°±å¯ä»¥çœ‹åˆ°æ•ˆæœäº†</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208201902324.avif" alt=""></p><h2 id="å¼•å…¥-unplugin-auto-import-å’Œ-unplugin-vue-components" tabindex="-1">å¼•å…¥ unplugin-auto-import å’Œ unplugin-vue-components <a class="header-anchor" href="#å¼•å…¥-unplugin-auto-import-å’Œ-unplugin-vue-components">ğŸ”—</a></h2><p>æ¯æ¬¡æˆ‘ä»¬å†™é¡µé¢å¾ˆå¤šæ—¶å€™éƒ½éœ€è¦å¼•å…¥ <code>reactive</code>, <code>ref</code>, <code>watchEffect</code> ç­‰å‡½æ•°ï¼Œä¸€æ—¦è¿˜å¼•ç”¨äº†å…¶ä»–çš„èµ„æº</p><p>é‚£ä¹ˆ <code>&lt;script setup&gt;</code> éƒ¨åˆ†çœ‹èµ·æ¥å°±ä¼šæ¯”è¾ƒä¹±ï¼Œä¸€å¨çš„ <code>import { } from vue</code></p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¤§ç¥ <code>antfd</code> å¼€å‘äº† <code>unplugin-auto-import</code> çš„æ’ä»¶ï¼Œæ”¯æŒ <code>vite</code>, <code>rollup</code>, <code>webpack</code>ï¼Œéå¸¸çš„ç‰›é€¼</p><p>ä½¿ç”¨è¿™ä¸ªæ’ä»¶ï¼Œæˆ‘ä»¬å°±ä¸ç”¨å†™é‡å¤çš„ <code>import</code> è¯­å¥äº†</p><p>ä½¿ç”¨ <code>pnpm add unplugin-auto-import -D</code> å®‰è£…</p><p>ç„¶åä¿®æ”¹ <code>vite.config.ts</code> æ–‡ä»¶</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202123317.avif" alt=""></p><p>æ³¨æ„ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸»è¦é…ç½®ä¸¤ä¸ªå±æ€§ï¼Œä¸€ä¸ªæ˜¯ <code>imports</code> ï¼Œä¸€ä¸ªæ˜¯ <code>dts</code></p><p><code>imports</code> ç”¨æ¥è¡¨æ˜æˆ‘ä»¬éœ€è¦å…¨å±€æ³¨å†Œçš„ <code>import</code> è¯­å¥</p><p>æˆ‘ä»¬å¯ä»¥ç‚¹è¿›å»çœ‹ <code>imports</code> çš„ç±»å‹ï¼Œæ”¯æŒçš„è‡ªåŠ¨å¯¼å…¥æ˜¯éå¸¸å¤šçš„</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-typescript"><span class="line"><span style="--s-dark:#CB7676;--s-light:#AB5959;">declare const </span><span style="--s-dark:#BD976A;--s-light:#B07D48;">presets</span><span style="--s-dark:#666666;--s-light:#999999;">: {</span></span>
<span class="line"><span style="--s-dark:#80A665;--s-light:#59873A;">    ahooks</span><span style="--s-dark:#666666;--s-light:#999999;">: () =&gt; </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">@nuxtjs/composition-api</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">@vue/composition-api</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">@vueuse/core</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: () =&gt; </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">@vueuse/math</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: () =&gt; </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">@vueuse/head</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    mobx</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">mobx-react-lite</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    pinia</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    preact</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    quasar</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    react</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">react-router</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">react-router-dom</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">react-i18next</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    svelte</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">svelte/animate</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">svelte/easing</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">svelte/motion</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">svelte/store</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">svelte/transition</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">vee-validate</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    vitepress</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">vue-demi</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">vue-i18n</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">vue-router</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    vue</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">vue/macros</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    vuex</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    vitest</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">uni-app</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">solid-js</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">@solidjs/router</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">solid-app-router</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    jotai</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    '</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">jotai/utils</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">'</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#BD976A;--s-light:#B07D48;">    recoil</span><span style="--s-dark:#666666;--s-light:#999999;">: </span><span style="--s-dark:#5DA994;--s-light:#2E8F82;">ImportsMap</span><span style="--s-dark:#666666;--s-light:#999999;">;</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">};</span></span></code></pre><p>è¿™æ ·å­æˆ‘ä»¬ä½¿ç”¨ç›¸å…³çš„ <code>api</code> äº†</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202134868.avif" alt=""></p><p>å¯¼å‡ºçš„ <code>api</code> åˆ—è¡¨æˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ <code>src/auto-import.d.ts</code></p><p>å½“ç„¶ï¼Œç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ <code>TypeScript</code> ï¼Œæ‰€ä»¥ä¸æŠ¥é”™çš„åŠŸåŠ³æ˜¯è¿™ä¸ª <code>src/auto-import.d.ts</code> æ–‡ä»¶</p><p>é»˜è®¤æƒ…å†µä¸‹æ˜¯æœ‰ç”Ÿæˆ <code>d.ts</code> æ–‡ä»¶çš„ï¼Œä½†æ˜¯ä¸æ˜¯åœ¨ <code>src</code> ç›®å½•ä¸‹ï¼Œè¿™ä¼šå¯¼è‡´ä¸€ä¸ªé—®é¢˜</p><p>å› ä¸º <code>tsconfig.json</code> å¹¶æ²¡æœ‰è¯†åˆ«è¿™ä¸ª <code>d.ts</code></p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202150886.avif" alt=""></p><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¸è®¾ç½® <code>dts</code> å±æ€§ï¼Œç„¶åæŠŠ <code>auto-import.d.ts</code> åŠ å…¥åˆ° <code>tsconfig.json</code> çš„ <code>includes</code> å±æ€§ä¸­</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-json5"><span class="line"><span style="--s-dark:#666666;--s-light:#999999;">{</span></span>
<span class="line"><span style="--s-dark:#758575DD;--s-light:#A0ADA0;">  // ...</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">  "</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">include</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;">:</span><span style="--s-dark:#666666;--s-light:#999999;"> [</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    "</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">auto-import.d.ts</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    "</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">src/**/*.ts</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    "</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">src/**/*.d.ts</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    "</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">src/**/*.tsx</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span><span style="--s-dark:#666666;--s-light:#999999;">,</span></span>
<span class="line"><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">    "</span><span style="--s-dark:#C98A7D;--s-light:#B56959;">src/**/*.vue</span><span style="--s-dark:#C98A7D77;--s-light:#B5695977;">"</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">  ]</span></span>
<span class="line"><span style="--s-dark:#666666;--s-light:#999999;">}</span></span></code></pre><p>è¿™æ ·ä¹Ÿå¯ä»¥é¡ºåˆ©è¯†åˆ«äº†</p><p>åŒæ ·ï¼Œç”±äºæˆ‘ä»¬ä½¿ç”¨ç»„ä»¶åº“ï¼Œæ¯ä¸ªé¡µé¢ä¹Ÿéœ€è¦å¼•å…¥å¾ˆå¤šçš„ç»„ä»¶åº“ç»„ä»¶ï¼Œä¸€æ—¦å¼•å…¥å¾ˆå¤šä»£ç çœ‹èµ·æ¥ä¹Ÿä¼šå¾ˆæ‚</p><p>æ‰€ä»¥å¤§ç¥åˆå¼€å‘äº† <code>unplugin-vue-components</code> æ’ä»¶ï¼Œå®ƒèƒ½å¤Ÿå…¨å±€å¯¼å‡ºç»„ä»¶åº“ç»„ä»¶ï¼Œè€Œä¸”æ˜¯æ”¯æŒ tree-shaking çš„</p><p>ä½¿ç”¨ <code>pnpm add unplugin-vue-components -D</code> å®‰è£…</p><p>ç„¶åç»§ç»­ä¿®æ”¹ <code>vite.config.ts</code> æ–‡ä»¶</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202200338.avif" alt=""></p><p>è¿™é‡Œé…ç½®äº† <code>resolvers</code> å’Œ <code>dts</code> ï¼Œ<code>dts</code> çš„ä½œç”¨å’Œä¸Šä¸ªæ’ä»¶ä¸€æ ·</p><p><code>resolvers</code> é…ç½®äº†éœ€è¦è‡ªåŠ¨å¯¼å…¥çš„ç»„ä»¶åº“ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº† <code>Naive-UI</code> ï¼Œæ‰€ä»¥ä½¿ç”¨ <code>NaiveUiResolver</code> ï¼Œä¸»æµçš„ <code>UI</code> éƒ½èƒ½æ”¯æŒï¼Œæ¯”å¦‚ <code>Ant Design</code> ï¼Œ <code>Element-UI</code> ç­‰</p><p>é»˜è®¤æƒ…å†µä¸‹å•Šï¼Œä»–è¿˜ä¼šæŠŠ <code>src/components</code> ä¸‹çš„ç»„ä»¶ä¹Ÿè®¾ä¸ºè‡ªåŠ¨å¯¼å…¥</p><p>å¯ä»¥æ‰“å¼€ <code>src/components.d.ts</code> æ–‡ä»¶æŸ¥çœ‹ï¼Œå‘ç° <code>HelloWorld</code> å’Œ <code>NButton</code> å·²ç»è¢«æ³¨å†Œäº†</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202209676.avif" alt=""></p><p>tipsï¼šå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ <code>pnpm</code> ï¼Œé‚£ä¹ˆæ­¤æ—¶ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œè™½ç„¶å·²ç»æœ‰ <code>d.ts</code> æ–‡ä»¶äº†ï¼Œä½†æ˜¯ <code>vue</code> æ–‡ä»¶å¹¶æ²¡æœ‰ç±»å‹æç¤º</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202212376.avif" alt=""></p><p>è¿™æ˜¯ç”±äºç”Ÿæˆçš„ <code>d.ts</code> æ˜¯åœ¨ <code>@vue/runtime-core</code> æ¨¡å—ä¸‹çš„ï¼Œä½†æ˜¯ <code>pnpm</code> å¹¶ä¸ä¼šå­˜åœ¨å¹»å½±ä¾èµ–ï¼Œåœ¨ <code>node_modules</code> ä¸‹ä¸ä¼šæ‰å¹³ä¾èµ–</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202220068.avif" alt=""></p><p>æ‰€ä»¥è¯¥ <code>d.ts</code> å°±æ— æ•ˆäº†ï¼Œå¯ä»¥æŠŠ <code>@vue/runtime-core</code> æ”¹æˆ <code>vue</code> è¿™æ—¶å€™ä½ ä¼šå‘ç°æç¤ºå°±æœ‰äº†</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202217226.avif" alt=""></p><p>ä½†æ˜¯ç”±äºè¿™ä¸ªæ–‡ä»¶æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œå¦‚æœæœ‰æ–°çš„ç»„ä»¶éœ€è¦ç”Ÿæˆå®šä¹‰ï¼Œé‚£ä¹ˆåˆä¼šè¢«æ’ä»¶æ”¹æˆ <code>@vue/runtime-core</code></p><p>è¿™æ—¶å€™æˆ‘ä»¬å°±è¦ç”¨ <code>.npmrc</code> æ¥å‘Šè¯‰ <code>pnpm</code> æŠŠ <code>@vue/runtime-core</code> æå‡åˆ° <code>node_modules</code> ç›®å½•ä¸‹</p><p>æˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹å»ºä¸€ä¸ª <code>.npmrc</code> æ–‡ä»¶</p><pre class="shiki shiki-themes vitesse-dark vitesse-light" style="--s-dark:#dbd7caee;--s-light:#393a34;--s-dark-bg:#121212;--s-light-bg:#ffffff;" tabindex="0"><code class="language-text"><span class="line"><span># ä¿®å¤ pnpm å®‰è£…æ— æ³•è·å¾—æç¤ºé—®é¢˜</span></span>
<span class="line"><span># issue https://github.com/antfu/unplugin-vue-components/issues/406</span></span>
<span class="line"><span># æå‡ @vue/runtime-core è¿™ä¸ªä¾èµ–åˆ° node_modules ä¸‹</span></span>
<span class="line"><span>public-hoist-pattern[]=@vue/runtime-core</span></span></code></pre><p>ç„¶åæˆ‘ä»¬é‡æ–°è¿è¡Œ <code>pnpm i</code> ï¼Œè¿™æ—¶å€™ <code>@vue/runtime-core</code> å°±åœ¨ <code>node_modules</code> ä¸‹äº†</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202224824.avif" alt=""></p><p>è¿™æ—¶å€™å°±å¯ä»¥æ­£ç¡®çš„è¯†åˆ«ç±»å‹äº†</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202226833.avif" alt=""></p><h2 id="å¼•å…¥-axios" tabindex="-1">å¼•å…¥ Axios <a class="header-anchor" href="#å¼•å…¥-axios">ğŸ”—</a></h2><p>åŸºæœ¬ä¸Šåˆ›å»ºé¡¹ç›®éƒ½éœ€è¦ <code>Axios</code> æ¥ä½œä¸º <code>http</code> è¯·æ±‚åº“</p><p>å½“ç„¶ï¼Œå¦‚æœæ˜¯å•çº¯çš„å¼•å…¥å…¶å®ä¸éš¾ï¼Œè¿™é‡Œä¸»è¦æ˜¯å†™ä¸€ä¸‹æˆ‘çš„å°è£…</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208211439914.avif" alt=""></p><p>è¿™é‡Œçš„ <code>baseURL</code> å‚æ•°ä¸»è¦çœ‹åç«¯æ¥å£ï¼Œåƒæˆ‘å¸ä¸æè·¨åŸŸé…ç½®çš„ï¼Œå°±éœ€è¦æˆ‘åœ¨ <code>Vite</code> ä¸­å¼€å¯ä¸€ä¸ª <code>proxy</code> æ¥ä»£ç†æ¥å£ï¼Œç„¶åå¯¹ <code>api</code> è¿›è¡Œè½¬å‘</p><p>æ‹¦æˆªå™¨ä¸»è¦æ˜¯è¿”å›å®ä½“æ•°æ®ï¼Œä¸ç„¶æ¯æ¬¡éƒ½è¦ <code>res.data.data</code> æ¥å–æ•°æ®è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œä»¥åŠå¤„ç†é”™è¯¯è¯·æ±‚ç­‰</p><p>è¿™ä¸ªè¦æ ¹æ®å…·ä½“æƒ…å†µæ¥é…ç½®ï¼Œå½“ç„¶ï¼Œå¯¹äº <code>TypeScript</code> ï¼Œæˆ‘ä»¬è‡ªç„¶å¸Œæœ›èƒ½å¤Ÿæœ‰å®Œæ•´çš„ç±»å‹æç¤º</p><p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°è£…ä¸‹å››ä¸ªæ–¹æ³•ï¼Œè¿™é‡Œä»¥ <code>get</code> ä¸¾ä¾‹</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208211447228.avif" alt=""></p><p>ç„¶åæˆ‘ä»¬å¯ä»¥å†™å¯¹åº”çš„ <code>api</code> ï¼Œæ¯”å¦‚è·å–ç”¨æˆ·åˆ—è¡¨</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208211453695.avif" alt=""></p><p>è¿™æ ·å­å¼•å…¥ <code>getUserListApi</code> è¿™ä¸ª <code>api</code> æ‰§è¡Œå°±èƒ½æœ‰å®Œæ•´çš„ç±»å‹æç¤ºäº†</p><p>è¯·æ±‚å‚æ•°</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208211454343.avif" alt=""></p><p>è¿”å›ç»“æœ</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208211454751.avif" alt=""></p><h2 id="å¼•å…¥-eslint-å’Œ-prettier-å’Œ-editorconfig" tabindex="-1">å¼•å…¥ Eslint å’Œ Prettier å’Œ EditorConfig <a class="header-anchor" href="#å¼•å…¥-eslint-å’Œ-prettier-å’Œ-editorconfig">ğŸ”—</a></h2><p>å‰é¢çš„é…ç½®åŸºæœ¬ä¸Šéƒ½æ˜¯åŠŸèƒ½ç±»çš„ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦é…ç½® <code>Eslint</code> å’Œ <code>Prettier</code> æ¥ä¿è¯ä»£ç æ ¼å¼å’Œä»£ç è´¨é‡</p><p>ä»£ç æ ¼å¼å’Œä»£ç è´¨é‡æ˜¯ç›¸å½“é‡è¦çš„ï¼Œå› ä¸ºæˆ‘çœ‹è¿‡å…¬å¸ä¹‹å‰çš„é¡¹ç›®ï¼Œé‚£ä¸ªä»£ç çœ‹çš„æˆ‘çœŸçš„æ˜¯å¤´çš®å‘éº»ï¼Œæ„Ÿåˆ°ä¸é€‚</p><p>ä½†æ˜¯æ²¡åŠæ³•ï¼Œè¯¥å¾€ä¸ŠåŠ åŠŸèƒ½è¿˜æ˜¯è¦åŠ çš„â€¦</p><p>æ‰§è¡Œ <code>pnpm add eslint prettier -D</code> å®‰è£…è¿™ä¸¤ä¸ªåº“</p><p><code>prettier</code> ä½¿ç”¨é»˜è®¤é…ç½®å³å¯ï¼Œè¿™é‡Œä¸»è¦æ˜¯é…ç½® <code>eslint</code></p><p>åˆ›å»º <code>.eslintrc.json</code> å’Œ <code>.eslintignore</code> ä¸¤ä¸ªæ–‡ä»¶</p><p>å…¶ä¸­ <code>.eslintignore</code> è¦æ’é™¤ <code>node_modules</code> ä»¥åŠ <code>src/auto-import.d.ts</code> å’Œ <code>src/component.d.ts</code></p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202258323.avif" alt=""></p><p>å› ä¸º <code>prettier</code> é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨åŒå¼•å·çš„ï¼Œè€Œè¿™ä¸¤ä¸ª <code>d.ts</code> éƒ½æ˜¯ç”¨å•å¼•å·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬é¿å…å»æ ¼å¼åŒ–è¿™å‡ ä¸ªæ–‡ä»¶</p><p>åœ¨<a href="https://staging-cn.vuejs.org/guide/scaling-up/tooling.html#linting" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ä¸­ï¼Œæç¤ºæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>eslint-plugin-vue</code> è¿™ä¸ªæ’ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬å®‰è£…ä¸Šå®ƒï¼Œç„¶åé…ç½® <code>.eslintrc.json</code></p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202325146.avif" alt=""></p><p>æ¥ç€æˆ‘ä»¬å¯ä»¥æ‰§è¡Œ <code>eslint src/App.vue</code></p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202326089.avif" alt=""></p><p>å¯ä»¥çœ‹åˆ° <code>eslint</code> æ­£ç¡®åœ°æç¤ºäº†é—®é¢˜</p><p>æˆ‘ä»¬ç”¨ <code>prettier</code> æ ¼å¼åŒ– <code>App.vue</code> ï¼Œä½†æ˜¯é—®é¢˜å¹¶æ²¡æœ‰æ¶ˆå¤±ï¼Œè¿™æ˜¯å› ä¸º <code>eslint</code> çš„è§„åˆ™å’Œ <code>prettier</code> å†²çªäº†</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦è§£å†³ <code>eslint</code> å’Œ <code>prettier</code> çš„å†²çª</p><p>å®‰è£… <code>eslint-config-prettier</code> ï¼Œè¿™ä¸ªé…ç½®èƒ½å¤Ÿè®©å…³æ‰ <code>eslint</code> ä¸­å’Œ <code>prettier</code> å†²çªçš„è§„åˆ™ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202348980.avif" alt=""></p><p>è¿™æ—¶å€™æˆ‘ä»¬æ‰§è¡Œ <code>eslint src/App.vue</code> å°±ä¸ä¼šæç¤ºé”™è¯¯äº†</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202349083.avif" alt=""></p><p>å†²çªè§£å†³ä¹‹åï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ <code>eslint</code> å®ƒä¸æŠ¥ <code>prettier</code> çš„é”™è¯¯</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202354833.avif" alt=""></p><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨äº†å•å¼•å·ï¼Œä½†æ˜¯ <code>eslint</code> æ²¡æŠ¥é”™ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±éœ€è¦è®© <code>eslint</code> åœ¨æ ¼å¼ä¸ç¬¦åˆ <code>prettier</code> çš„æƒ…å†µä¸‹æŠ¥ç›¸å…³çš„é”™è¯¯</p><p>å®‰è£… <code>eslint-plugin-prettier</code> ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶å¦‚ä¸‹</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202357309.avif" alt=""></p><p>ç°åœ¨ <code>eslint</code> å°±èƒ½æ­£ç¡®åœ°æŠ¥é”™äº†</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/20/202208202359369.avif" alt=""></p><p>å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠé…ç½®ä¿®æ”¹ä¸ºå¦‚ä¸‹ï¼Œç­‰ä»·äºä¸Šè¾¹é…ç½®çš„ <code>eslint-plugin-prettier</code> å’Œ <code>eslint-config-prettier</code></p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208210004132.avif" alt=""></p><p>å½“ç„¶ï¼Œ<code>eslint-plugin-prettier</code> ä½¿ç”¨äº† <code>vue-eslint-parser</code> æ¥è§£æ <code>vue</code> æ–‡ä»¶ï¼Œå¯¹äºå…¶ä»–æ–‡ä»¶ï¼Œä¼šä½¿ç”¨é»˜è®¤çš„ <code>espree</code> è§£æå™¨æ¥è§£æ</p><p>å¦‚æœæƒ³æ›¿æ¢å…¶ä»–è§£æå™¨ï¼Œå¿…é¡»åœ¨ <code>parserOptions</code> ä¸‹è®¾ç½® <code>parser</code> ï¼Œè€Œä¸èƒ½åœ¨æ ¹ä¸‹è®¾ç½®ï¼Œä¸ç„¶ <code>vue-eslint-parser</code> ä¼šå¤±æ•ˆï¼Œè¿™é‡Œå®˜æ–¹çš„æ–‡æ¡£ä¹Ÿæœ‰è¯´æ˜</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208211147398.avif" alt=""></p><p><code>VSCode</code> å®‰è£… <code>Eslint</code> ï¼Œ <code>Prettier</code> æ’ä»¶</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208211154467.avif" alt=""></p><p>ç„¶åæˆ‘ä»¬æ‰“å¼€ <code>settings.json</code> ï¼Œé…ç½®ä¿å­˜çš„æ—¶å€™è‡ªåŠ¨ä½¿ç”¨ <code>eslint</code> æ ¼å¼åŒ–</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208211157649.avif" alt=""></p><p>æœ€åæˆ‘ä»¬é€šè¿‡ <code>.editorconfig</code> æ–‡ä»¶æ¥è®¾ç½®ä¸€äº›ç¼–è¾‘å™¨çš„è§„åˆ™</p><p>ä¸»è¦æ˜¯ä¸ºäº†é˜²æ­¢ä¸åŒçš„ <code>ide</code> ä¼šæœ‰ä¸åŒçš„è®¾ç½®ï¼Œæ¯”å¦‚æ¢è¡Œç¬¦å·ï¼Œä»è€Œå½±å“ç¼–ç </p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208211511516.avif" alt=""></p><h2 id="å¼•å…¥-husky-å’Œ-lint-staged" tabindex="-1">å¼•å…¥ husky å’Œ lint-staged <a class="header-anchor" href="#å¼•å…¥-husky-å’Œ-lint-staged">ğŸ”—</a></h2><p>è™½ç„¶è®¾ç½®äº†ä»£ç æ ¼å¼åŒ–ï¼Œä½†æ˜¯å¾ˆå¤šæ—¶å€™é¡¹ç›®å¹¶ä¸æ˜¯ä¸€ä¸ªäººåœ¨å¼€å‘ï¼Œæ˜¯å¾ˆå¤šäººååŒåˆä½œ</p><p>ä½ ä¸èƒ½è¦æ±‚åˆ«äººæ¯æ¬¡æäº¤ä»£ç ä¹‹å‰éƒ½æ‰§è¡Œä¸€æ¬¡ <code>eslint</code> ï¼ŒåŒæ—¶è¿™å¯¹äºè‡ªå·±æ¥è¯´ä¹Ÿå¾ˆéº»çƒ¦</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>git</code> çš„ <code>pre-commit</code> é’©å­é…åˆ <code>lint-staged</code> æ¥å¯¹æš‚å­˜åŒºçš„æ–‡ä»¶è¿›è¡Œè‡ªåŠ¨æ ¼å¼åŒ–</p><p>æ‰§è¡Œ <code>pnpm add husky lint-staged -D</code> å®‰è£…è¿™ä¸¤ä¸ªä¾èµ–</p><p><code>husky</code> éœ€è¦è¯¥é¡¹ç›®ä¸º <code>git</code> ä»“åº“ï¼Œæ‰€ä»¥éœ€è¦ <code>git init</code> åˆå§‹åŒ–ï¼Œç„¶åæ‰§è¡Œ <code>pnpx husky install</code> å¼€å¯é’©å­åŠŸèƒ½</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208211211628.avif" alt=""></p><p>ç„¶åæ‰§è¡Œ <code>pnpx husky add .husky/pre-commit "pnpm run lint-staged"</code> æ·»åŠ  <code>pre-commit</code> é’©å­</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208211216930.avif" alt=""></p><p>è¿™é‡Œè®°å¾—è¦åœ¨ <code>package.json</code> ä¸­æ·»åŠ ç›¸åº”çš„ <code>script</code></p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208211217161.avif" alt=""></p><p>ç„¶åæˆ‘ä»¬åœ¨ <code>package.json</code> ä¸­æ·»åŠ  <code>lint-staged</code> çš„é…ç½®</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208211222852.avif" alt=""></p><p>ç„¶åæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¿®æ”¹ä¸‹ <code>main.ts</code> ä»£ç </p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208211230971.avif" alt=""></p><p><code>git add</code> ä¹‹åæäº¤ï¼Œå¯ä»¥çœ‹åˆ°è‡ªåŠ¨æ ¼å¼åŒ–äº†</p><p><img src="https://fastly.jsdelivr.net/gh/Dedicatus546/image@main/2022/08/21/202208211233279.avif" alt=""></p><h1 id="åè®°" tabindex="-1">åè®° <a class="header-anchor" href="#åè®°">ğŸ”—</a></h1><p>åˆ°æ­¤æˆ‘ä»¬åŸºæœ¬ä¸Šå°±æ­å»ºäº†ä¸€ä¸ªåŠŸèƒ½æ¯”è¾ƒå®Œå¤‡çš„é¡¹ç›®äº†ï¼Œå½“ç„¶ï¼Œå¯æ“ä½œçš„åœ°æ–¹è¿˜æœ‰å¾ˆå¤š</p><p>æ¯”å¦‚ <code>git commit</code> è§„èŒƒï¼Œæ‰“åŒ…å‰ <code>eslint</code> æ£€æŸ¥ï¼Œä»£ç åˆ†å‰²ç­‰</p><p>è¿™äº›ä»¥ååœ¨æ…¢æ…¢å†™å§ï¼Œä¸æ€¥ï¼Œæ…¢æ…¢æ¥ï¼Œç»†æ°´é•¿æµå˜›</p><p>ç›¸å…³çš„ä»“åº“å·²ç»ä¸Šä¼ åˆ°æˆ‘çš„ <code>git</code> ä¸Šäº†ï¼Œæœ‰éœ€è¦çš„ç›´æ¥æ‹‰ä¸‹æ¥åˆ é™¤ <code>.git</code> ï¼Œå†åˆå§‹åŒ– <code>git</code> å³å¯ä½œä¸ºä¸€ä¸ªä¸é”™çš„æ¨¡æ¿é¡¹ç›®</p><p>ä»“åº“åœ°å€ï¼š<a href="https://github.com/Dedicatus546/vue3-ts-template" target="_blank" rel="noopener">Dedicatus546 / vue3-ts-template</a></p></div><!--]--></div><div flex="~ wrap" text="[var(--mygo-c-text-2)]" mt-8="" gap-4="" justify-center=""><!--[--><div>#Vue3</div><div>#Vite</div><div>#TypeScript</div><div>#Eslint</div><div>#Prettier</div><div>#Vue-Router</div><div>#Pinia</div><div>#husky</div><div>#lint-staged</div><!--]--></div><!--]--></div></div><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex=""><a href="/faf19ae1e3f6" class=""><i class="i-mi:chevron-left" mr-1=""></i><span>lint-staged åŸç†æµ…æ</span></a><a href="/992fb248bc26" class="" ml-auto=""><span>2022å¹´7æœˆæ–°ç•ªä¸ªäººæ¨è</span><i class="i-mi:chevron-right" ml-1=""></i></a></div><!--]--></div></div><!--[--><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" data-v-eedc551d="" data-v-7ac4adc5=""><div class="p-4 lg:p-8" data-v-7ac4adc5=""><!--[--><div flex="" gap-4="" items-start="" data-v-eedc551d=""><div flex="~ shrink-0" bg="[var(--mygo-c-bg-alt)]" rounded-6px="" w-60px="" aspect-ratio-square="" items-center="" justify-center="" data-v-eedc551d=""><i text-40px="" text="[#999]" class="i-fa6-regular:user" data-v-eedc551d=""></i></div><div flex="~ col grow" gap-4="" data-v-eedc551d=""><textarea disabled="" placeholder="ä¸‡æ°´åƒå±±æ€»æ˜¯æƒ…ï¼Œç•™ä¸‹è¯„è®ºè¡Œä¸è¡Œ" class="mujika-git-talk-textarea" un-disabled:cursor-not-allowed="" p-4="" outline-0="" data-v-eedc551d=""></textarea><div flex="" items-start="" justify-between="" data-v-eedc551d=""><a target="_blank" href="https://guides.github.com/features/mastering-markdown/" data-v-eedc551d=""> æ”¯æŒ Markdown è¯­æ³• </a><button class="mujika-git-talk-button" cursor-pointer="" data-v-eedc551d=""> ç‚¹å‡»ç™»å½• </button></div></div></div><!--]--></div></div><!----><!--]--></div><aside class="mujika-aside" w="280px" flex="~ col shrink-0" top-2="" sticky="" max-h="[calc(100vh-var(--spacing)*4)]" un-hidden="" lg:block=""><div class="mujika-card mujika-card--hover mujika-card--border" w-full="" overflow-auto="" flex="~ col" gap-4="" data-v-7ac4adc5=""><!--[--><div p="4 b-0" flex-shrink-0="">æ–‡ç« ç›®å½•</div><div p="4 t-0" flex-grow="" min-h-0="" overflow-y-auto=""><!----></div><!--]--></div></aside><!--teleport start--><!--teleport end--></div></main><footer class="mujika-footer" px-4="" py-6="" bg="[var(--mygo-c-bg)]" flex="~ col shrink-0" gap-2="" items-center="" data-v-d1d7a153=""><div flex="" items-center="" data-v-d1d7a153=""><span data-v-d1d7a153="">Power by&nbsp;</span><i class="i-logos:vue" data-v-d1d7a153=""></i><span data-v-d1d7a153="">&nbsp;+&nbsp;</span><i class="i-logos:vitejs" data-v-d1d7a153=""></i></div><div text-center="" data-v-d1d7a153=""><a target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" data-v-d1d7a153=""> CC BY-NC-SA 4.0 </a> 2021 - PRESENT Â© Dedicatus545 </div><div text="[var(--mygo-c-text-2)]" text-center="" data-v-d1d7a153=""> å¦‚æœæˆ‘å’Œç‹—ä¸€æ ·æœ‰å°¾å·´çš„è¯ï¼Œä¸€å®šä¼šè—ä¸ä½è¿™ä»½å–œæ‚¦ï¼Œè€Œå°¾å·´ä¸€ç›´æ‘‡ä¸ªä¸åœå§ã€‚ </div></footer></div></div>
  

</body></html>